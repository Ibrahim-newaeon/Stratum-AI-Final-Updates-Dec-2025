{"version":3,"mappings":"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","names":["__iconNode","Building","createLucideIcon","EyeOff","Gauge","Palette","User","gdprApi","format","apiClient","reason","useExportData","queryClient","useQueryClient","useMutation","useRequestDeletion","Settings","t","useTranslation","activeTab","setActiveTab","useState","showApiKey","setShowApiKey","saveStatus","setSaveStatus","tabs","Bell","Shield","Link2","CreditCard","Download","handleSave","renderTabContent","ProfileSettings","OrganizationSettings","NotificationSettings","jsx","SecuritySettings","IntegrationSettings","PreferenceSettings","BillingSettings","GDPRSettings","TrustEngineSettings","jsxs","RefreshCw","Check","Save","tab","Icon","cn","ChevronRight","user","useTenantStore","state","fullName","nameParts","firstName","lastName","initials","email","role","timezone","formatRole","tenant","companyName","industry","_a","plan","maxUsers","teamMembers","setTeamMembers","isLoading","setIsLoading","showInviteModal","setShowInviteModal","inviteEmail","setInviteEmail","inviteRole","setInviteRole","isInviting","setIsInviting","removingUserId","setRemovingUserId","fetchTeamMembers","__vitePreload","n","response","error","useEffect","handleInvite","_b","handleRemove","userId","m","Loader2","member","e","NOTIFICATION_DEFAULTS","useCurrentUser","updatePreferences","useUpdatePreferences","toast","useToast","debounceRef","useRef","savedNotifications","notifications","setNotifications","prev","persistNotifications","useCallback","updated","existingPrefs","handleToggle","key","Fragment","value","showTestKey","setShowTestKey","copiedKey","setCopiedKey","regenerating","setRegenerating","apiKeys","copyToClipboard","keyId","handleRegenerate","resolve","apiKey","isVisible","setVisible","Copy","Eye","webhooks","setWebhooks","showAddWebhook","setShowAddWebhook","newWebhookUrl","setNewWebhookUrl","newWebhookEvents","setNewWebhookEvents","IntegrationIcon","type","adPlatforms","analyticsIntegrations","commerceIntegrations","webhookEventTypes","toggleWebhookEvent","eventId","addWebhook","deleteWebhook","id","w","IntegrationCard","integration","showDescription","webhook","event","i18n","theme","setTheme","language","setLanguage","handleLanguageChange","lang","invoice","i","exportData","requestDeletion","exportStatus","setExportStatus","handleExport","handleDeleteRequest","AlertTriangle","Trash2","healthyThreshold","setHealthyThreshold","degradedThreshold","setDegradedThreshold","autopilotEnabled","setAutopilotEnabled"],"ignoreList":[0,1,2,3,4],"sources":["../../node_modules/lucide-react/dist/esm/icons/building.js","../../node_modules/lucide-react/dist/esm/icons/eye-off.js","../../node_modules/lucide-react/dist/esm/icons/gauge.js","../../node_modules/lucide-react/dist/esm/icons/palette.js","../../node_modules/lucide-react/dist/esm/icons/user.js","../../src/api/gdpr.ts","../../src/views/Settings.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M12 10h.01\", key: \"1nrarc\" }],\n  [\"path\", { d: \"M12 14h.01\", key: \"1etili\" }],\n  [\"path\", { d: \"M12 6h.01\", key: \"1vi96p\" }],\n  [\"path\", { d: \"M16 10h.01\", key: \"1m94wz\" }],\n  [\"path\", { d: \"M16 14h.01\", key: \"1gbofw\" }],\n  [\"path\", { d: \"M16 6h.01\", key: \"1x0f13\" }],\n  [\"path\", { d: \"M8 10h.01\", key: \"19clt8\" }],\n  [\"path\", { d: \"M8 14h.01\", key: \"6423bh\" }],\n  [\"path\", { d: \"M8 6h.01\", key: \"1dz90k\" }],\n  [\"path\", { d: \"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3\", key: \"cabbwy\" }],\n  [\"rect\", { x: \"4\", y: \"2\", width: \"16\", height: \"20\", rx: \"2\", key: \"1uxh74\" }]\n];\nconst Building = createLucideIcon(\"building\", __iconNode);\n\nexport { __iconNode, Building as default };\n//# sourceMappingURL=building.js.map\n","/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49\",\n      key: \"ct8e1f\"\n    }\n  ],\n  [\"path\", { d: \"M14.084 14.158a3 3 0 0 1-4.242-4.242\", key: \"151rxh\" }],\n  [\n    \"path\",\n    {\n      d: \"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143\",\n      key: \"13bj9a\"\n    }\n  ],\n  [\"path\", { d: \"m2 2 20 20\", key: \"1ooewy\" }]\n];\nconst EyeOff = createLucideIcon(\"eye-off\", __iconNode);\n\nexport { __iconNode, EyeOff as default };\n//# sourceMappingURL=eye-off.js.map\n","/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"m12 14 4-4\", key: \"9kzdfg\" }],\n  [\"path\", { d: \"M3.34 19a10 10 0 1 1 17.32 0\", key: \"19p75a\" }]\n];\nconst Gauge = createLucideIcon(\"gauge\", __iconNode);\n\nexport { __iconNode, Gauge as default };\n//# sourceMappingURL=gauge.js.map\n","/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z\",\n      key: \"e79jfc\"\n    }\n  ],\n  [\"circle\", { cx: \"13.5\", cy: \"6.5\", r: \".5\", fill: \"currentColor\", key: \"1okk4w\" }],\n  [\"circle\", { cx: \"17.5\", cy: \"10.5\", r: \".5\", fill: \"currentColor\", key: \"f64h9f\" }],\n  [\"circle\", { cx: \"6.5\", cy: \"12.5\", r: \".5\", fill: \"currentColor\", key: \"qy21gx\" }],\n  [\"circle\", { cx: \"8.5\", cy: \"7.5\", r: \".5\", fill: \"currentColor\", key: \"fotxhn\" }]\n];\nconst Palette = createLucideIcon(\"palette\", __iconNode);\n\nexport { __iconNode, Palette as default };\n//# sourceMappingURL=palette.js.map\n","/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2\", key: \"975kel\" }],\n  [\"circle\", { cx: \"12\", cy: \"7\", r: \"4\", key: \"17ys0d\" }]\n];\nconst User = createLucideIcon(\"user\", __iconNode);\n\nexport { __iconNode, User as default };\n//# sourceMappingURL=user.js.map\n","/**\r\n * Stratum AI - GDPR Compliance API\r\n *\r\n * GDPR data management, export, anonymization, and audit logs\r\n */\r\n\r\nimport { useMutation, useQuery, useQueryClient } from '@tanstack/react-query';\r\nimport { apiClient, ApiResponse, PaginatedResponse } from './client';\r\n\r\n// Types\r\nexport type AuditAction =\r\n  | 'login'\r\n  | 'logout'\r\n  | 'data_export'\r\n  | 'data_delete'\r\n  | 'consent_update'\r\n  | 'user_create'\r\n  | 'user_update'\r\n  | 'user_delete'\r\n  | 'campaign_create'\r\n  | 'campaign_update'\r\n  | 'campaign_delete'\r\n  | 'settings_update';\r\n\r\nexport interface AuditLog {\r\n  id: string;\r\n  userId: number;\r\n  userName: string;\r\n  tenantId: number | null;\r\n  action: AuditAction;\r\n  resourceType: string;\r\n  resourceId: string | null;\r\n  details: Record<string, unknown>;\r\n  ipAddress: string;\r\n  userAgent: string;\r\n  createdAt: string;\r\n}\r\n\r\nexport interface DataExportRequest {\r\n  id: string;\r\n  userId: number;\r\n  status: 'pending' | 'processing' | 'completed' | 'failed';\r\n  format: 'json' | 'csv';\r\n  downloadUrl: string | null;\r\n  expiresAt: string | null;\r\n  createdAt: string;\r\n  completedAt: string | null;\r\n}\r\n\r\nexport interface ConsentRecord {\r\n  id: string;\r\n  userId: number;\r\n  consentType: string;\r\n  granted: boolean;\r\n  grantedAt: string;\r\n  revokedAt: string | null;\r\n  ipAddress: string;\r\n  source: string;\r\n}\r\n\r\nexport interface AnonymizationRequest {\r\n  id: string;\r\n  userId: number;\r\n  status: 'pending' | 'processing' | 'completed' | 'failed';\r\n  scope: 'full' | 'partial';\r\n  dataCategories: string[];\r\n  createdAt: string;\r\n  completedAt: string | null;\r\n  error: string | null;\r\n}\r\n\r\nexport interface AuditLogFilters {\r\n  userId?: number;\r\n  tenantId?: number;\r\n  action?: AuditAction;\r\n  resourceType?: string;\r\n  startDate?: string;\r\n  endDate?: string;\r\n  skip?: number;\r\n  limit?: number;\r\n}\r\n\r\n// API Functions\r\nexport const gdprApi = {\r\n  /**\r\n   * Request data export\r\n   */\r\n  requestExport: async (format: 'json' | 'csv' = 'json'): Promise<DataExportRequest> => {\r\n    const response = await apiClient.post<ApiResponse<DataExportRequest>>('/gdpr/export', {\r\n      format,\r\n    });\r\n    return response.data.data;\r\n  },\r\n\r\n  /**\r\n   * Get export status\r\n   */\r\n  getExportStatus: async (id: string): Promise<DataExportRequest> => {\r\n    const response = await apiClient.get<ApiResponse<DataExportRequest>>(`/gdpr/export/${id}`);\r\n    return response.data.data;\r\n  },\r\n\r\n  /**\r\n   * Get all export requests for user\r\n   */\r\n  getExportHistory: async (): Promise<DataExportRequest[]> => {\r\n    const response = await apiClient.get<ApiResponse<DataExportRequest[]>>('/gdpr/export');\r\n    return response.data.data;\r\n  },\r\n\r\n  /**\r\n   * Request data anonymization\r\n   */\r\n  requestAnonymization: async (\r\n    scope: 'full' | 'partial',\r\n    dataCategories?: string[]\r\n  ): Promise<AnonymizationRequest> => {\r\n    const response = await apiClient.post<ApiResponse<AnonymizationRequest>>('/gdpr/anonymize', {\r\n      scope,\r\n      data_categories: dataCategories,\r\n    });\r\n    return response.data.data;\r\n  },\r\n\r\n  /**\r\n   * Get anonymization status\r\n   */\r\n  getAnonymizationStatus: async (id: string): Promise<AnonymizationRequest> => {\r\n    const response = await apiClient.get<ApiResponse<AnonymizationRequest>>(\r\n      `/gdpr/anonymize/${id}`\r\n    );\r\n    return response.data.data;\r\n  },\r\n\r\n  /**\r\n   * Get audit logs (admin only)\r\n   */\r\n  getAuditLogs: async (filters: AuditLogFilters = {}): Promise<PaginatedResponse<AuditLog>> => {\r\n    const response = await apiClient.get<ApiResponse<PaginatedResponse<AuditLog>>>(\r\n      '/gdpr/audit-logs',\r\n      { params: filters }\r\n    );\r\n    return response.data.data;\r\n  },\r\n\r\n  /**\r\n   * Get user's consent records\r\n   */\r\n  getConsentRecords: async (userId?: number): Promise<ConsentRecord[]> => {\r\n    const params = userId ? { user_id: userId } : {};\r\n    const response = await apiClient.get<ApiResponse<ConsentRecord[]>>('/gdpr/consent', { params });\r\n    return response.data.data;\r\n  },\r\n\r\n  /**\r\n   * Update consent\r\n   */\r\n  updateConsent: async (consentType: string, granted: boolean): Promise<ConsentRecord> => {\r\n    const response = await apiClient.post<ApiResponse<ConsentRecord>>('/gdpr/consent', {\r\n      consent_type: consentType,\r\n      granted,\r\n    });\r\n    return response.data.data;\r\n  },\r\n\r\n  /**\r\n   * Get data categories available for export/anonymization\r\n   */\r\n  getDataCategories: async (): Promise<{ id: string; name: string; description: string }[]> => {\r\n    const response =\r\n      await apiClient.get<ApiResponse<{ id: string; name: string; description: string }[]>>(\r\n        '/gdpr/data-categories'\r\n      );\r\n    return response.data.data;\r\n  },\r\n\r\n  /**\r\n   * Request right to be forgotten (full account deletion)\r\n   */\r\n  requestDeletion: async (reason?: string): Promise<{ requestId: string; scheduledAt: string }> => {\r\n    const response = await apiClient.post<ApiResponse<{ requestId: string; scheduledAt: string }>>(\r\n      '/gdpr/delete',\r\n      { reason }\r\n    );\r\n    return response.data.data;\r\n  },\r\n\r\n  /**\r\n   * Cancel deletion request\r\n   */\r\n  cancelDeletion: async (requestId: string): Promise<{ success: boolean }> => {\r\n    const response = await apiClient.delete<ApiResponse<{ success: boolean }>>(\r\n      `/gdpr/delete/${requestId}`\r\n    );\r\n    return response.data.data;\r\n  },\r\n};\r\n\r\n// React Query Hooks\r\n\r\nexport function useExportData() {\r\n  const queryClient = useQueryClient();\r\n\r\n  return useMutation({\r\n    mutationFn: gdprApi.requestExport,\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['gdpr', 'exports'] });\r\n    },\r\n  });\r\n}\r\n\r\nexport function useExportStatus(id: string) {\r\n  return useQuery({\r\n    queryKey: ['gdpr', 'exports', id],\r\n    queryFn: () => gdprApi.getExportStatus(id),\r\n    enabled: !!id,\r\n    refetchInterval: (query) => {\r\n      const data = query.state.data;\r\n      if (data?.status === 'completed' || data?.status === 'failed') {\r\n        return false;\r\n      }\r\n      return 5000; // Poll every 5 seconds while processing\r\n    },\r\n  });\r\n}\r\n\r\nexport function useExportHistory() {\r\n  return useQuery({\r\n    queryKey: ['gdpr', 'exports'],\r\n    queryFn: gdprApi.getExportHistory,\r\n  });\r\n}\r\n\r\nexport function useAnonymizeData() {\r\n  const queryClient = useQueryClient();\r\n\r\n  return useMutation({\r\n    mutationFn: ({\r\n      scope,\r\n      dataCategories,\r\n    }: {\r\n      scope: 'full' | 'partial';\r\n      dataCategories?: string[];\r\n    }) => gdprApi.requestAnonymization(scope, dataCategories),\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['gdpr', 'anonymization'] });\r\n    },\r\n  });\r\n}\r\n\r\nexport function useAnonymizationStatus(id: string) {\r\n  return useQuery({\r\n    queryKey: ['gdpr', 'anonymization', id],\r\n    queryFn: () => gdprApi.getAnonymizationStatus(id),\r\n    enabled: !!id,\r\n    refetchInterval: (query) => {\r\n      const data = query.state.data;\r\n      if (data?.status === 'completed' || data?.status === 'failed') {\r\n        return false;\r\n      }\r\n      return 5000;\r\n    },\r\n  });\r\n}\r\n\r\nexport function useAuditLogs(filters: AuditLogFilters = {}) {\r\n  return useQuery({\r\n    queryKey: ['gdpr', 'audit-logs', filters],\r\n    queryFn: () => gdprApi.getAuditLogs(filters),\r\n    staleTime: 30 * 1000,\r\n  });\r\n}\r\n\r\nexport function useConsentRecords(userId?: number) {\r\n  return useQuery({\r\n    queryKey: ['gdpr', 'consent', userId],\r\n    queryFn: () => gdprApi.getConsentRecords(userId),\r\n  });\r\n}\r\n\r\nexport function useUpdateConsent() {\r\n  const queryClient = useQueryClient();\r\n\r\n  return useMutation({\r\n    mutationFn: ({ consentType, granted }: { consentType: string; granted: boolean }) =>\r\n      gdprApi.updateConsent(consentType, granted),\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['gdpr', 'consent'] });\r\n    },\r\n  });\r\n}\r\n\r\nexport function useDataCategories() {\r\n  return useQuery({\r\n    queryKey: ['gdpr', 'data-categories'],\r\n    queryFn: gdprApi.getDataCategories,\r\n    staleTime: 10 * 60 * 1000, // 10 minutes\r\n  });\r\n}\r\n\r\nexport function useRequestDeletion() {\r\n  return useMutation({\r\n    mutationFn: gdprApi.requestDeletion,\r\n  });\r\n}\r\n\r\nexport function useCancelDeletion() {\r\n  return useMutation({\r\n    mutationFn: gdprApi.cancelDeletion,\r\n  });\r\n}\r\n","import { useCallback, useEffect, useRef, useState } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport {\r\n  AlertTriangle,\r\n  Bell,\r\n  Building,\r\n  Check,\r\n  ChevronRight,\r\n  Copy,\r\n  CreditCard,\r\n  Download,\r\n  Eye,\r\n  EyeOff,\r\n  Gauge,\r\n  Link2,\r\n  Loader2,\r\n  Palette,\r\n  RefreshCw,\r\n  Save,\r\n  Shield,\r\n  Trash2,\r\n  User,\r\n} from 'lucide-react';\r\nimport { cn } from '@/lib/utils';\r\nimport { useTenantStore } from '@/stores/tenantStore';\r\nimport { useExportData, useRequestDeletion } from '@/api/hooks';\r\nimport { useCurrentUser, useUpdatePreferences } from '@/api/auth';\r\nimport { useToast } from '@/components/ui/use-toast';\r\n\r\ntype SettingsTab =\r\n  | 'profile'\r\n  | 'organization'\r\n  | 'notifications'\r\n  | 'security'\r\n  | 'integrations'\r\n  | 'preferences'\r\n  | 'billing'\r\n  | 'gdpr'\r\n  | 'trust-engine';\r\n\r\nexport function Settings() {\r\n  const { t } = useTranslation();\r\n  const [activeTab, setActiveTab] = useState<SettingsTab>('profile');\r\n  const [showApiKey, setShowApiKey] = useState(false);\r\n  const [saveStatus, setSaveStatus] = useState<'idle' | 'saving' | 'saved'>('idle');\r\n\r\n  const tabs = [\r\n    { id: 'profile', label: t('settings.profile'), icon: User },\r\n    { id: 'organization', label: t('settings.organization'), icon: Building },\r\n    { id: 'notifications', label: t('settings.notifications'), icon: Bell },\r\n    { id: 'security', label: t('settings.security'), icon: Shield },\r\n    { id: 'integrations', label: t('settings.integrations'), icon: Link2 },\r\n    { id: 'preferences', label: t('settings.preferences'), icon: Palette },\r\n    { id: 'billing', label: t('settings.billing'), icon: CreditCard },\r\n    { id: 'gdpr', label: t('settings.gdpr'), icon: Download },\r\n    { id: 'trust-engine', label: 'Trust Engine', icon: Gauge },\r\n  ] as const;\r\n\r\n  const handleSave = () => {\r\n    setSaveStatus('saving');\r\n    setTimeout(() => {\r\n      setSaveStatus('saved');\r\n      setTimeout(() => setSaveStatus('idle'), 2000);\r\n    }, 1000);\r\n  };\r\n\r\n  const renderTabContent = () => {\r\n    switch (activeTab) {\r\n      case 'profile':\r\n        return <ProfileSettings />;\r\n      case 'organization':\r\n        return <OrganizationSettings />;\r\n      case 'notifications':\r\n        return <NotificationSettings />;\r\n      case 'security':\r\n        return <SecuritySettings showApiKey={showApiKey} setShowApiKey={setShowApiKey} />;\r\n      case 'integrations':\r\n        return <IntegrationSettings />;\r\n      case 'preferences':\r\n        return <PreferenceSettings />;\r\n      case 'billing':\r\n        return <BillingSettings />;\r\n      case 'gdpr':\r\n        return <GDPRSettings />;\r\n      case 'trust-engine':\r\n        return <TrustEngineSettings />;\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Page Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h1 className=\"text-2xl font-bold\">{t('settings.title')}</h1>\r\n          <p className=\"text-muted-foreground\">{t('settings.subtitle')}</p>\r\n        </div>\r\n        <button\r\n          onClick={handleSave}\r\n          disabled={saveStatus === 'saving'}\r\n          className=\"flex items-center gap-2 px-4 py-2 rounded-lg bg-primary text-primary-foreground hover:bg-primary/90 transition-colors disabled:opacity-50\"\r\n        >\r\n          {saveStatus === 'saving' ? (\r\n            <RefreshCw className=\"w-4 h-4 animate-spin\" />\r\n          ) : saveStatus === 'saved' ? (\r\n            <Check className=\"w-4 h-4\" />\r\n          ) : (\r\n            <Save className=\"w-4 h-4\" />\r\n          )}\r\n          <span>{saveStatus === 'saved' ? t('settings.saved') : t('settings.saveChanges')}</span>\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"flex gap-6\">\r\n        {/* Sidebar Navigation */}\r\n        <div className=\"w-64 flex-shrink-0\">\r\n          <nav className=\"space-y-1\">\r\n            {tabs.map((tab) => {\r\n              const Icon = tab.icon;\r\n              return (\r\n                <button\r\n                  key={tab.id}\r\n                  onClick={() => setActiveTab(tab.id as SettingsTab)}\r\n                  className={cn(\r\n                    'w-full flex items-center gap-3 px-4 py-3 rounded-lg text-left transition-colors',\r\n                    activeTab === tab.id\r\n                      ? 'bg-primary/10 text-primary font-medium'\r\n                      : 'hover:bg-muted text-muted-foreground'\r\n                  )}\r\n                >\r\n                  <Icon className=\"w-5 h-5\" />\r\n                  <span>{tab.label}</span>\r\n                  {activeTab === tab.id && <ChevronRight className=\"w-4 h-4 ml-auto\" />}\r\n                </button>\r\n              );\r\n            })}\r\n          </nav>\r\n        </div>\r\n\r\n        {/* Content Area */}\r\n        <div className=\"flex-1 rounded-xl border bg-card p-6\">{renderTabContent()}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction ProfileSettings() {\r\n  const { t } = useTranslation();\r\n  // Get user data from tenant store\r\n  const user = useTenantStore((state) => state.user);\r\n\r\n  // Parse name into first/last (fallback to mock data)\r\n  const fullName = user?.full_name || 'John Doe';\r\n  const nameParts = fullName.split(' ');\r\n  const firstName = nameParts[0] || 'John';\r\n  const lastName = nameParts.slice(1).join(' ') || 'Doe';\r\n  const initials = `${firstName[0] || 'J'}${lastName[0] || 'D'}`;\r\n  const email = user?.email || 'john.doe@company.com';\r\n  const role = user?.role || 'media_buyer';\r\n  const timezone = user?.timezone || 'America/New_York';\r\n\r\n  // Format role for display\r\n  const formatRole = (role: string) => {\r\n    const roleLabels: Record<string, string> = {\r\n      superadmin: 'Super Admin',\r\n      admin: 'Admin',\r\n      manager: 'Manager',\r\n      media_buyer: 'Media Buyer',\r\n      analyst: 'Analyst',\r\n      account_manager: 'Account Manager',\r\n      viewer: 'Viewer',\r\n    };\r\n    return roleLabels[role] || role;\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <h2 className=\"text-lg font-semibold\">{t('settings.profileSettings')}</h2>\r\n\r\n      <div className=\"flex items-center gap-6\">\r\n        <div className=\"w-20 h-20 rounded-full bg-primary/10 flex items-center justify-center text-2xl font-bold text-primary\">\r\n          {user?.avatar_url ? (\r\n            <img\r\n              src={user.avatar_url}\r\n              alt={fullName}\r\n              className=\"w-full h-full rounded-full object-cover\"\r\n            />\r\n          ) : (\r\n            initials.toUpperCase()\r\n          )}\r\n        </div>\r\n        <div>\r\n          <button className=\"px-4 py-2 rounded-lg border hover:bg-muted transition-colors text-sm\">\r\n            {t('settings.changeAvatar')}\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-2 gap-4\">\r\n        <div>\r\n          <label className=\"text-sm font-medium mb-2 block\">{t('settings.firstName')}</label>\r\n          <input\r\n            type=\"text\"\r\n            defaultValue={firstName}\r\n            className=\"w-full px-4 py-2 rounded-lg border bg-background focus:outline-none focus:ring-2 focus:ring-primary/20\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <label className=\"text-sm font-medium mb-2 block\">{t('settings.lastName')}</label>\r\n          <input\r\n            type=\"text\"\r\n            defaultValue={lastName}\r\n            className=\"w-full px-4 py-2 rounded-lg border bg-background focus:outline-none focus:ring-2 focus:ring-primary/20\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div>\r\n        <label className=\"text-sm font-medium mb-2 block\">{t('settings.email')}</label>\r\n        <input\r\n          type=\"email\"\r\n          defaultValue={email}\r\n          className=\"w-full px-4 py-2 rounded-lg border bg-background focus:outline-none focus:ring-2 focus:ring-primary/20\"\r\n        />\r\n      </div>\r\n\r\n      <div>\r\n        <label className=\"text-sm font-medium mb-2 block\">{t('settings.role')}</label>\r\n        <input\r\n          type=\"text\"\r\n          value={formatRole(role)}\r\n          disabled\r\n          className=\"w-full px-4 py-2 rounded-lg border bg-muted text-muted-foreground\"\r\n        />\r\n      </div>\r\n\r\n      <div>\r\n        <label className=\"text-sm font-medium mb-2 block\">{t('settings.timezone')}</label>\r\n        <select\r\n          defaultValue={timezone}\r\n          className=\"w-full px-4 py-2 rounded-lg border bg-background focus:outline-none focus:ring-2 focus:ring-primary/20\"\r\n        >\r\n          <option value=\"America/New_York\">Eastern Time (ET)</option>\r\n          <option value=\"America/Chicago\">Central Time (CT)</option>\r\n          <option value=\"America/Denver\">Mountain Time (MT)</option>\r\n          <option value=\"America/Los_Angeles\">Pacific Time (PT)</option>\r\n          <option value=\"Europe/London\">Greenwich Mean Time (GMT)</option>\r\n          <option value=\"Europe/Kyiv\">Eastern European Time (EET)</option>\r\n          <option value=\"Asia/Riyadh\">Arabia Standard Time (AST)</option>\r\n          <option value=\"Asia/Dubai\">Gulf Standard Time (GST)</option>\r\n        </select>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction OrganizationSettings() {\r\n  const { t } = useTranslation();\r\n  // Get tenant data from store\r\n  const tenant = useTenantStore((state) => state.tenant);\r\n\r\n  // Use tenant data or fall back to mock\r\n  const companyName = tenant?.name || 'Acme Corporation';\r\n  const industry = tenant?.settings?.industry || 'ecommerce';\r\n  const plan = tenant?.plan || 'pro';\r\n  const maxUsers = tenant?.max_users || 10;\r\n\r\n  // State for users management\r\n  const [teamMembers, setTeamMembers] = useState<\r\n    Array<{ id: number; email: string; role: string; is_active: boolean }>\r\n  >([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [showInviteModal, setShowInviteModal] = useState(false);\r\n  const [inviteEmail, setInviteEmail] = useState('');\r\n  const [inviteRole, setInviteRole] = useState('user');\r\n  const [isInviting, setIsInviting] = useState(false);\r\n  const [removingUserId, setRemovingUserId] = useState<number | null>(null);\r\n\r\n  // Fetch team members\r\n  const fetchTeamMembers = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      const { apiClient } = await import('@/api/client');\r\n      const response = await apiClient.get('/users');\r\n      if (response.data.success) {\r\n        setTeamMembers(response.data.data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to fetch team members:', error);\r\n      // Fallback to mock data\r\n      setTeamMembers([\r\n        { id: 1, email: 'admin@company.com', role: 'admin', is_active: true },\r\n        { id: 2, email: 'jane.smith@company.com', role: 'manager', is_active: true },\r\n        { id: 3, email: 'bob.wilson@company.com', role: 'user', is_active: true },\r\n      ]);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchTeamMembers();\r\n  }, []);\r\n\r\n  // Invite new user\r\n  const handleInvite = async () => {\r\n    if (!inviteEmail) return;\r\n    setIsInviting(true);\r\n    try {\r\n      const { apiClient } = await import('@/api/client');\r\n      const response = await apiClient.post('/users/invite', {\r\n        email: inviteEmail,\r\n        role: inviteRole,\r\n      });\r\n      if (response.data.success) {\r\n        setTeamMembers([...teamMembers, response.data.data]);\r\n        setShowInviteModal(false);\r\n        setInviteEmail('');\r\n        setInviteRole('user');\r\n      }\r\n    } catch (error: any) {\r\n      alert(error.response?.data?.detail || 'Failed to invite user');\r\n    } finally {\r\n      setIsInviting(false);\r\n    }\r\n  };\r\n\r\n  // Remove user\r\n  const handleRemove = async (userId: number) => {\r\n    if (!confirm('Are you sure you want to remove this user?')) return;\r\n    setRemovingUserId(userId);\r\n    try {\r\n      const { apiClient } = await import('@/api/client');\r\n      const response = await apiClient.delete(`/users/${userId}`);\r\n      if (response.data.success) {\r\n        setTeamMembers(teamMembers.filter((m) => m.id !== userId));\r\n      }\r\n    } catch (error: any) {\r\n      alert(error.response?.data?.detail || 'Failed to remove user');\r\n    } finally {\r\n      setRemovingUserId(null);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <h2 className=\"text-lg font-semibold\">{t('settings.organizationSettings')}</h2>\r\n\r\n      <div>\r\n        <label className=\"text-sm font-medium mb-2 block\">{t('settings.companyName')}</label>\r\n        <input\r\n          type=\"text\"\r\n          defaultValue={companyName}\r\n          className=\"w-full px-4 py-2 rounded-lg border bg-background focus:outline-none focus:ring-2 focus:ring-primary/20\"\r\n        />\r\n      </div>\r\n\r\n      <div>\r\n        <label className=\"text-sm font-medium mb-2 block\">{t('settings.industry')}</label>\r\n        <select\r\n          defaultValue={industry}\r\n          className=\"w-full px-4 py-2 rounded-lg border bg-background focus:outline-none focus:ring-2 focus:ring-primary/20\"\r\n        >\r\n          <option value=\"ecommerce\">E-commerce</option>\r\n          <option value=\"saas\">SaaS</option>\r\n          <option value=\"retail\">Retail</option>\r\n          <option value=\"finance\">Finance</option>\r\n          <option value=\"healthcare\">Healthcare</option>\r\n        </select>\r\n      </div>\r\n\r\n      <div className=\"p-4 rounded-lg border bg-muted/30\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div>\r\n            <p className=\"font-medium capitalize\">{plan} Plan</p>\r\n            <p className=\"text-sm text-muted-foreground\">Max {maxUsers} team members</p>\r\n          </div>\r\n          <span className=\"px-2 py-1 rounded-full bg-primary/10 text-primary text-xs font-medium\">\r\n            Active\r\n          </span>\r\n        </div>\r\n      </div>\r\n\r\n      <div>\r\n        <label className=\"text-sm font-medium mb-2 block\">{t('settings.teamMembers')}</label>\r\n        <div className=\"space-y-2\">\r\n          {isLoading ? (\r\n            <div className=\"flex items-center justify-center p-4\">\r\n              <Loader2 className=\"w-5 h-5 animate-spin text-muted-foreground\" />\r\n            </div>\r\n          ) : (\r\n            teamMembers.map((member) => (\r\n              <div\r\n                key={member.id}\r\n                className=\"flex items-center justify-between p-3 rounded-lg border\"\r\n              >\r\n                <div className=\"flex items-center gap-3\">\r\n                  <span className=\"text-sm\">{member.email}</span>\r\n                  <span className=\"text-xs px-2 py-0.5 rounded-full bg-muted capitalize\">\r\n                    {member.role}\r\n                  </span>\r\n                </div>\r\n                <button\r\n                  onClick={() => handleRemove(member.id)}\r\n                  disabled={removingUserId === member.id}\r\n                  className=\"text-sm text-red-500 hover:underline disabled:opacity-50\"\r\n                >\r\n                  {removingUserId === member.id ? 'Removing...' : 'Remove'}\r\n                </button>\r\n              </div>\r\n            ))\r\n          )}\r\n        </div>\r\n        <button\r\n          onClick={() => setShowInviteModal(true)}\r\n          className=\"mt-3 text-sm text-primary hover:underline\"\r\n        >\r\n          + {t('settings.inviteMember')}\r\n        </button>\r\n      </div>\r\n\r\n      {/* Invite Modal */}\r\n      {showInviteModal && (\r\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\">\r\n          <div className=\"bg-background p-6 rounded-xl border shadow-lg max-w-md w-full mx-4\">\r\n            <h3 className=\"text-lg font-semibold mb-4\">Invite Team Member</h3>\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <label className=\"text-sm font-medium mb-1 block\">Email</label>\r\n                <input\r\n                  type=\"email\"\r\n                  value={inviteEmail}\r\n                  onChange={(e) => setInviteEmail(e.target.value)}\r\n                  placeholder=\"colleague@company.com\"\r\n                  className=\"w-full px-4 py-2 rounded-lg border bg-background focus:outline-none focus:ring-2 focus:ring-primary/20\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"text-sm font-medium mb-1 block\">Role</label>\r\n                <select\r\n                  value={inviteRole}\r\n                  onChange={(e) => setInviteRole(e.target.value)}\r\n                  className=\"w-full px-4 py-2 rounded-lg border bg-background focus:outline-none focus:ring-2 focus:ring-primary/20\"\r\n                >\r\n                  <option value=\"user\">User</option>\r\n                  <option value=\"manager\">Manager</option>\r\n                  <option value=\"admin\">Admin</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <div className=\"flex justify-end gap-3 mt-6\">\r\n              <button\r\n                onClick={() => setShowInviteModal(false)}\r\n                className=\"px-4 py-2 text-sm rounded-lg border hover:bg-muted\"\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                onClick={handleInvite}\r\n                disabled={!inviteEmail || isInviting}\r\n                className=\"px-4 py-2 text-sm rounded-lg bg-primary text-primary-foreground hover:bg-primary/90 disabled:opacity-50\"\r\n              >\r\n                {isInviting ? 'Inviting...' : 'Send Invite'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst NOTIFICATION_DEFAULTS = {\r\n  emailAlerts: true,\r\n  pushNotifications: true,\r\n  weeklyDigest: true,\r\n  campaignAlerts: true,\r\n  budgetAlerts: true,\r\n  performanceAlerts: false,\r\n};\r\n\r\nfunction NotificationSettings() {\r\n  const { t } = useTranslation();\r\n  const { data: user } = useCurrentUser();\r\n  const updatePreferences = useUpdatePreferences();\r\n  const { toast } = useToast();\r\n  const debounceRef = useRef<ReturnType<typeof setTimeout>>();\r\n  const [saveStatus, setSaveStatus] = useState<'idle' | 'saving' | 'saved'>('idle');\r\n\r\n  const savedNotifications = (user?.preferences as Record<string, unknown>)?.notifications as\r\n    | Record<string, boolean>\r\n    | undefined;\r\n\r\n  const [notifications, setNotifications] = useState({\r\n    ...NOTIFICATION_DEFAULTS,\r\n    ...savedNotifications,\r\n  });\r\n\r\n  // Sync state when user data loads or changes\r\n  useEffect(() => {\r\n    if (savedNotifications) {\r\n      setNotifications((prev) => ({ ...prev, ...savedNotifications }));\r\n    }\r\n  }, [JSON.stringify(savedNotifications)]);\r\n\r\n  const persistNotifications = useCallback(\r\n    (updated: Record<string, boolean>) => {\r\n      if (debounceRef.current) clearTimeout(debounceRef.current);\r\n      debounceRef.current = setTimeout(() => {\r\n        setSaveStatus('saving');\r\n        const existingPrefs = (user?.preferences as Record<string, unknown>) ?? {};\r\n        updatePreferences.mutate(\r\n          { ...existingPrefs, notifications: updated },\r\n          {\r\n            onSuccess: () => {\r\n              setSaveStatus('saved');\r\n              setTimeout(() => setSaveStatus('idle'), 2000);\r\n            },\r\n            onError: () => {\r\n              setSaveStatus('idle');\r\n              toast({\r\n                title: 'Error',\r\n                description: 'Failed to save notification preferences.',\r\n                variant: 'destructive',\r\n              });\r\n            },\r\n          }\r\n        );\r\n      }, 500);\r\n    },\r\n    [user?.preferences, updatePreferences, toast]\r\n  );\r\n\r\n  const handleToggle = (key: string) => {\r\n    const updated = { ...notifications, [key]: !notifications[key as keyof typeof notifications] };\r\n    setNotifications(updated);\r\n    persistNotifications(updated);\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <h2 className=\"text-lg font-semibold\">{t('settings.notificationSettings')}</h2>\r\n        {saveStatus !== 'idle' && (\r\n          <span className=\"flex items-center gap-1.5 text-xs text-muted-foreground\">\r\n            {saveStatus === 'saving' ? (\r\n              <>\r\n                <Loader2 className=\"w-3 h-3 animate-spin\" />\r\n                Saving...\r\n              </>\r\n            ) : (\r\n              <>\r\n                <Check className=\"w-3 h-3 text-green-500\" />\r\n                Saved\r\n              </>\r\n            )}\r\n          </span>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"space-y-4\">\r\n        {Object.entries(notifications).map(([key, value]) => (\r\n          <div key={key} className=\"flex items-center justify-between p-4 rounded-lg border\">\r\n            <div>\r\n              <p className=\"font-medium\">{t(`settings.${key}`)}</p>\r\n              <p className=\"text-sm text-muted-foreground\">{t(`settings.${key}Desc`)}</p>\r\n            </div>\r\n            <button\r\n              onClick={() => handleToggle(key)}\r\n              className={cn(\r\n                'relative w-12 h-6 rounded-full transition-colors',\r\n                value ? 'bg-primary' : 'bg-muted'\r\n              )}\r\n            >\r\n              <span\r\n                className={cn(\r\n                  'absolute top-1 w-4 h-4 bg-white rounded-full transition-transform',\r\n                  value ? 'translate-x-7' : 'translate-x-1'\r\n                )}\r\n              />\r\n            </button>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction SecuritySettings({\r\n  showApiKey,\r\n  setShowApiKey,\r\n}: {\r\n  showApiKey: boolean;\r\n  setShowApiKey: (show: boolean) => void;\r\n}) {\r\n  const { t } = useTranslation();\r\n  const [showTestKey, setShowTestKey] = useState(false);\r\n  const [copiedKey, setCopiedKey] = useState<string | null>(null);\r\n  const [regenerating, setRegenerating] = useState<string | null>(null);\r\n\r\n  // API Keys data\r\n  const apiKeys = [\r\n    {\r\n      id: 'production',\r\n      name: 'Production API Key',\r\n      key: 'strat_live_' + ''.repeat(28) + 'abc',\r\n      fullKey: 'strat_live_xxxxxxxxxxxxxxxxxxxxxxxxxxxx_abc',\r\n      type: 'live' as const,\r\n      status: 'active' as const,\r\n      created: 'Jan 15, 2024',\r\n      lastUsed: '2 minutes ago',\r\n    },\r\n    {\r\n      id: 'test',\r\n      name: 'Test API Key',\r\n      key: 'strat_test_' + ''.repeat(28) + 'xyz',\r\n      fullKey: 'strat_test_xxxxxxxxxxxxxxxxxxxxxxxxxxxx_xyz',\r\n      type: 'test' as const,\r\n      status: 'active' as const,\r\n      created: 'Jan 10, 2024',\r\n      lastUsed: '3 days ago',\r\n    },\r\n  ];\r\n\r\n  const copyToClipboard = (key: string, keyId: string) => {\r\n    navigator.clipboard.writeText(key);\r\n    setCopiedKey(keyId);\r\n    setTimeout(() => setCopiedKey(null), 2000);\r\n  };\r\n\r\n  const handleRegenerate = async (keyId: string) => {\r\n    if (\r\n      !confirm(\r\n        `Are you sure you want to regenerate the ${keyId} API key? This will invalidate the current key.`\r\n      )\r\n    ) {\r\n      return;\r\n    }\r\n    setRegenerating(keyId);\r\n    // Simulate API call\r\n    await new Promise((resolve) => setTimeout(resolve, 1500));\r\n    setRegenerating(null);\r\n    alert(`${keyId} API key has been regenerated. Please update your integrations.`);\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <h2 className=\"text-lg font-semibold\">{t('settings.securitySettings')}</h2>\r\n\r\n      <div>\r\n        <h3 className=\"font-medium mb-3\">{t('settings.changePassword')}</h3>\r\n        <div className=\"space-y-3\">\r\n          <input\r\n            type=\"password\"\r\n            placeholder={t('settings.currentPassword')}\r\n            className=\"w-full px-4 py-2 rounded-xl border border-white/10 glass bg-transparent focus:outline-none focus:ring-2 focus:ring-primary/20\"\r\n          />\r\n          <input\r\n            type=\"password\"\r\n            placeholder={t('settings.newPassword')}\r\n            className=\"w-full px-4 py-2 rounded-xl border border-white/10 glass bg-transparent focus:outline-none focus:ring-2 focus:ring-primary/20\"\r\n          />\r\n          <input\r\n            type=\"password\"\r\n            placeholder={t('settings.confirmPassword')}\r\n            className=\"w-full px-4 py-2 rounded-xl border border-white/10 glass bg-transparent focus:outline-none focus:ring-2 focus:ring-primary/20\"\r\n          />\r\n          <button className=\"px-4 py-2 rounded-xl bg-primary text-primary-foreground hover:bg-primary/90 transition-colors\">\r\n            {t('settings.updatePassword')}\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"border-t border-white/10 pt-6\">\r\n        <h3 className=\"font-medium mb-3\">{t('settings.twoFactorAuth')}</h3>\r\n        <div className=\"flex items-center justify-between p-4 rounded-xl border border-white/10 glass\">\r\n          <div>\r\n            <p className=\"font-medium\">{t('settings.enable2FA')}</p>\r\n            <p className=\"text-sm text-muted-foreground\">{t('settings.enable2FADesc')}</p>\r\n          </div>\r\n          <button className=\"px-4 py-2 rounded-xl border border-white/10 hover:bg-white/5 transition-colors\">\r\n            {t('settings.setup')}\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"border-t border-white/10 pt-6\">\r\n        <div className=\"flex items-center justify-between mb-4\">\r\n          <h3 className=\"font-medium\">API Keys</h3>\r\n          <button className=\"flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm text-primary hover:bg-primary/10 transition-colors\">\r\n            <span>+ Create New API Key</span>\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"space-y-4\">\r\n          {apiKeys.map((apiKey) => {\r\n            const isVisible = apiKey.type === 'live' ? showApiKey : showTestKey;\r\n            const setVisible = apiKey.type === 'live' ? setShowApiKey : setShowTestKey;\r\n\r\n            return (\r\n              <div key={apiKey.id} className=\"p-4 rounded-xl border border-white/10 glass card-3d\">\r\n                <div className=\"flex items-center justify-between mb-3\">\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <h4 className=\"font-medium\">{apiKey.name}</h4>\r\n                    <span\r\n                      className={cn(\r\n                        'px-2.5 py-1 rounded-full text-xs font-semibold',\r\n                        apiKey.type === 'live'\r\n                          ? 'bg-green-500/20 text-green-400 border border-green-500/30'\r\n                          : 'bg-amber-500/20 text-amber-400 border border-amber-500/30'\r\n                      )}\r\n                    >\r\n                      {apiKey.type === 'live' ? 'Active' : 'Test'}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <button\r\n                      onClick={() => copyToClipboard(apiKey.fullKey, apiKey.id)}\r\n                      className=\"px-3 py-1.5 rounded-lg border border-white/10 hover:bg-white/5 transition-colors text-sm flex items-center gap-1.5\"\r\n                    >\r\n                      {copiedKey === apiKey.id ? (\r\n                        <>\r\n                          <Check className=\"w-3.5 h-3.5 text-green-500\" />\r\n                          Copied\r\n                        </>\r\n                      ) : (\r\n                        <>\r\n                          <Copy className=\"w-3.5 h-3.5\" />\r\n                          Copy\r\n                        </>\r\n                      )}\r\n                    </button>\r\n                    <button\r\n                      onClick={() => handleRegenerate(apiKey.id)}\r\n                      disabled={regenerating === apiKey.id}\r\n                      className=\"px-3 py-1.5 rounded-lg border border-white/10 hover:bg-white/5 transition-colors text-sm flex items-center gap-1.5 disabled:opacity-50\"\r\n                    >\r\n                      {regenerating === apiKey.id ? (\r\n                        <>\r\n                          <RefreshCw className=\"w-3.5 h-3.5 animate-spin\" />\r\n                          Regenerating...\r\n                        </>\r\n                      ) : (\r\n                        <>\r\n                          <RefreshCw className=\"w-3.5 h-3.5\" />\r\n                          Regenerate\r\n                        </>\r\n                      )}\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"flex items-center gap-2 mb-3\">\r\n                  <code className=\"flex-1 px-3 py-2.5 rounded-lg bg-black/30 border border-white/5 font-mono text-sm\">\r\n                    {isVisible ? apiKey.fullKey : apiKey.key}\r\n                  </code>\r\n                  <button\r\n                    onClick={() => setVisible(!isVisible)}\r\n                    className=\"p-2.5 rounded-lg hover:bg-white/5 transition-colors\"\r\n                  >\r\n                    {isVisible ? <EyeOff className=\"w-4 h-4\" /> : <Eye className=\"w-4 h-4\" />}\r\n                  </button>\r\n                </div>\r\n\r\n                <div className=\"flex items-center gap-4 text-xs text-muted-foreground\">\r\n                  <span>Created: {apiKey.created}</span>\r\n                  <span>|</span>\r\n                  <span>Last used: {apiKey.lastUsed}</span>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction IntegrationSettings() {\r\n  const { t } = useTranslation();\r\n  const [webhooks, setWebhooks] = useState([\r\n    {\r\n      id: '1',\r\n      url: 'https://api.yourcompany.com/webhooks/stratum',\r\n      events: ['campaign.updated', 'alert.triggered', 'sync.completed'],\r\n      status: 'active' as const,\r\n      lastTriggered: '5 minutes ago',\r\n    },\r\n  ]);\r\n  const [showAddWebhook, setShowAddWebhook] = useState(false);\r\n  const [newWebhookUrl, setNewWebhookUrl] = useState('');\r\n  const [newWebhookEvents, setNewWebhookEvents] = useState<string[]>([]);\r\n\r\n  // Platform integration icons as SVG components\r\n  const IntegrationIcon = ({ type }: { type: string }) => {\r\n    const icons: Record<string, React.ReactNode> = {\r\n      'google-analytics': (\r\n        <svg viewBox=\"0 0 24 24\" className=\"w-6 h-6\" fill=\"currentColor\">\r\n          <path d=\"M22.84 2.9v18.2c0 1.6-1.3 2.9-2.9 2.9s-2.9-1.3-2.9-2.9V2.9c0-1.6 1.3-2.9 2.9-2.9s2.9 1.3 2.9 2.9zM14.42 21.1c0 1.6-1.3 2.9-2.9 2.9s-2.9-1.3-2.9-2.9 1.3-2.9 2.9-2.9 2.9 1.3 2.9 2.9zM14.42 12c0 1.6-1.3 2.9-2.9 2.9s-2.9-1.3-2.9-2.9V2.9c0-1.6 1.3-2.9 2.9-2.9s2.9 1.3 2.9 2.9V12zM5.99 21.1c0 1.6-1.3 2.9-2.9 2.9S.19 22.7.19 21.1s1.3-2.9 2.9-2.9 2.9 1.3 2.9 2.9z\" />\r\n        </svg>\r\n      ),\r\n      'google-tag-manager': (\r\n        <svg viewBox=\"0 0 24 24\" className=\"w-6 h-6\" fill=\"currentColor\">\r\n          <path d=\"M12 0L1.5 6v12L12 24l10.5-6V6L12 0zm0 2.2l8.2 4.7v9.4L12 21l-8.2-4.7V6.9L12 2.2z\" />\r\n          <path d=\"M12 7.5L7.5 10.2v5.4l4.5 2.7 4.5-2.7v-5.4L12 7.5z\" />\r\n        </svg>\r\n      ),\r\n      shopify: (\r\n        <svg viewBox=\"0 0 24 24\" className=\"w-6 h-6\" fill=\"currentColor\">\r\n          <path d=\"M15.34 5.55c-.03-.24-.24-.36-.4-.38-.16-.02-3.38-.07-3.38-.07s-2.25-2.2-2.5-2.45c-.24-.24-.72-.17-.9-.11-.03 0-.5.15-1.3.4C6.45 1.73 5.92.94 4.9.94c-1.64 0-2.44 2.05-2.69 3.09-.65.2-1.1.34-1.16.36-.36.11-.37.12-.42.46C.58 5.22 0 19.4 0 19.4l12.2 2.28 6.58-1.43S15.37 5.79 15.34 5.55zM10.7 3.57l-1.67.52c0-.82-.11-1.98-.48-2.97.93.18 1.48 1.22 1.75 2.14.14.1.27.2.4.31zm-2.66.82L5.65 5.15c.31-1.22.9-1.81 1.7-2.03.26.53.43 1.28.49 2.04.06.07.12.15.2.23zM4.93 1.78c.11 0 .22.04.32.1-.8.38-1.66 1.33-2.02 3.24l-1.57.49c.43-1.47 1.44-3.83 3.27-3.83z\" />\r\n          <path\r\n            d=\"M14.94 5.17c-.16.02-3.38.07-3.38.07s-2.25-2.2-2.5-2.45c-.09-.09-.2-.14-.31-.16l-.86 18.09 6.58-1.43S15.37 5.79 15.34 5.55c-.03-.24-.24-.36-.4-.38z\"\r\n            opacity=\".5\"\r\n          />\r\n        </svg>\r\n      ),\r\n      stripe: (\r\n        <svg viewBox=\"0 0 24 24\" className=\"w-6 h-6\" fill=\"currentColor\">\r\n          <path d=\"M13.976 9.15c-2.172-.806-3.356-1.426-3.356-2.409 0-.831.683-1.305 1.901-1.305 2.227 0 4.515.858 6.09 1.631l.89-5.494C18.252.975 15.697 0 12.165 0 9.667 0 7.589.654 6.104 1.872 4.56 3.147 3.757 4.992 3.757 7.218c0 4.039 2.467 5.76 6.476 7.219 2.585.92 3.445 1.574 3.445 2.583 0 .98-.84 1.545-2.354 1.545-1.875 0-4.965-.921-6.99-2.109l-.9 5.555C5.175 22.99 8.385 24 11.714 24c2.641 0 4.843-.624 6.328-1.813 1.664-1.305 2.525-3.236 2.525-5.732 0-4.128-2.524-5.851-6.594-7.305h.003z\" />\r\n        </svg>\r\n      ),\r\n      wordpress: (\r\n        <svg viewBox=\"0 0 24 24\" className=\"w-6 h-6\" fill=\"currentColor\">\r\n          <path d=\"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm-1.46 14.58L7.93 5.51c.46-.02.88-.07.88-.07.41-.05.36-.66-.05-.64 0 0-1.24.1-2.04.1-.14 0-.31 0-.48-.01C7.58 2.91 9.66 1.8 12 1.8c1.73 0 3.31.66 4.5 1.74-.03 0-.06-.01-.09-.01-.72 0-1.23.63-1.23 1.3 0 .6.35 1.11.72 1.72.28.48.6 1.1.6 2 0 .62-.24 1.34-.56 2.34l-.73 2.44-2.65-7.89c.44-.02.84-.07.84-.07.4-.05.35-.64-.05-.62 0 0-1.2.09-1.98.09-.07 0-.15 0-.22 0l2.87 8.58-1.96 5.86-3.82-11.34zM12 22.2c-1.22 0-2.39-.22-3.47-.62l3.68-10.69 3.77 10.33c.02.06.05.12.08.17-1.26.52-2.64.81-4.06.81zm8.4-5.14c.33-1.35.53-2.9.53-4.62 0-1.81-.33-3.38-.86-4.72l-4.7 13.62c3.03-1.46 5.03-4.57 5.03-8.28zm-17.9-4.62c0 3.27 1.61 6.16 4.07 7.93L2.92 9.45c-.28 1.03-.42 2.12-.42 3.25v.74z\" />\r\n        </svg>\r\n      ),\r\n      'google-ads': (\r\n        <svg viewBox=\"0 0 24 24\" className=\"w-6 h-6\" fill=\"currentColor\">\r\n          <circle cx=\"12\" cy=\"12\" r=\"10\" fill=\"#4285F4\" />\r\n          <text x=\"12\" y=\"16\" textAnchor=\"middle\" fill=\"white\" fontSize=\"10\" fontWeight=\"bold\">\r\n            G\r\n          </text>\r\n        </svg>\r\n      ),\r\n      meta: (\r\n        <svg viewBox=\"0 0 24 24\" className=\"w-6 h-6\" fill=\"currentColor\">\r\n          <path\r\n            d=\"M12 2.04c-5.5 0-10 4.49-10 10.02 0 5 3.66 9.15 8.44 9.9v-7H7.9v-2.9h2.54V9.85c0-2.52 1.49-3.92 3.77-3.92 1.09 0 2.24.2 2.24.2v2.47h-1.26c-1.24 0-1.63.78-1.63 1.57v1.88h2.78l-.45 2.9h-2.33v7a10 10 0 0 0 8.44-9.9c0-5.53-4.5-10.02-10-10.02z\"\r\n            fill=\"#0866FF\"\r\n          />\r\n        </svg>\r\n      ),\r\n      tiktok: (\r\n        <svg viewBox=\"0 0 24 24\" className=\"w-6 h-6\" fill=\"currentColor\">\r\n          <path d=\"M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z\" />\r\n        </svg>\r\n      ),\r\n      slack: (\r\n        <svg viewBox=\"0 0 24 24\" className=\"w-6 h-6\" fill=\"currentColor\">\r\n          <path\r\n            d=\"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z\"\r\n            fill=\"#E01E5A\"\r\n          />\r\n        </svg>\r\n      ),\r\n    };\r\n    return icons[type] || <div className=\"w-6 h-6 rounded-full bg-muted\" />;\r\n  };\r\n\r\n  // Ad Platforms\r\n  const adPlatforms = [\r\n    { id: 'google-ads', name: 'Google Ads', connected: true, color: 'text-blue-500' },\r\n    { id: 'meta', name: 'Meta Ads', connected: true, color: 'text-blue-600' },\r\n    { id: 'tiktok', name: 'TikTok Ads', connected: false, color: 'text-gray-400' },\r\n    { id: 'slack', name: 'Slack', connected: true, color: 'text-purple-500' },\r\n  ];\r\n\r\n  // Analytics & Tracking\r\n  const analyticsIntegrations = [\r\n    {\r\n      id: 'google-analytics',\r\n      name: 'Google Analytics',\r\n      connected: true,\r\n      color: 'text-orange-500',\r\n      description: 'Track website traffic and behavior',\r\n    },\r\n    {\r\n      id: 'google-tag-manager',\r\n      name: 'Google Tag Manager',\r\n      connected: true,\r\n      color: 'text-blue-500',\r\n      description: 'Manage tracking pixels and tags',\r\n    },\r\n  ];\r\n\r\n  // E-commerce & Payments\r\n  const commerceIntegrations = [\r\n    {\r\n      id: 'shopify',\r\n      name: 'Shopify',\r\n      connected: true,\r\n      color: 'text-green-500',\r\n      description: 'Sync orders and product catalog',\r\n    },\r\n    {\r\n      id: 'stripe',\r\n      name: 'Stripe',\r\n      connected: false,\r\n      color: 'text-purple-500',\r\n      description: 'Track payments and subscriptions',\r\n    },\r\n    {\r\n      id: 'wordpress',\r\n      name: 'WordPress',\r\n      connected: false,\r\n      color: 'text-blue-500',\r\n      description: 'Connect WooCommerce and forms',\r\n    },\r\n  ];\r\n\r\n  // Webhook event types\r\n  const webhookEventTypes = [\r\n    {\r\n      id: 'campaign.updated',\r\n      label: 'Campaign Updated',\r\n      description: 'When campaign settings change',\r\n    },\r\n    { id: 'campaign.paused', label: 'Campaign Paused', description: 'When a campaign is paused' },\r\n    {\r\n      id: 'alert.triggered',\r\n      label: 'Alert Triggered',\r\n      description: 'When performance alerts fire',\r\n    },\r\n    { id: 'budget.depleted', label: 'Budget Depleted', description: 'When daily budget runs out' },\r\n    { id: 'sync.completed', label: 'Sync Completed', description: 'When data sync finishes' },\r\n    {\r\n      id: 'anomaly.detected',\r\n      label: 'Anomaly Detected',\r\n      description: 'When unusual patterns found',\r\n    },\r\n  ];\r\n\r\n  const toggleWebhookEvent = (eventId: string) => {\r\n    if (newWebhookEvents.includes(eventId)) {\r\n      setNewWebhookEvents(newWebhookEvents.filter((e) => e !== eventId));\r\n    } else {\r\n      setNewWebhookEvents([...newWebhookEvents, eventId]);\r\n    }\r\n  };\r\n\r\n  const addWebhook = () => {\r\n    if (newWebhookUrl && newWebhookEvents.length > 0) {\r\n      setWebhooks([\r\n        ...webhooks,\r\n        {\r\n          id: Date.now().toString(),\r\n          url: newWebhookUrl,\r\n          events: newWebhookEvents,\r\n          status: 'active',\r\n          lastTriggered: 'Never',\r\n        },\r\n      ]);\r\n      setNewWebhookUrl('');\r\n      setNewWebhookEvents([]);\r\n      setShowAddWebhook(false);\r\n    }\r\n  };\r\n\r\n  const deleteWebhook = (id: string) => {\r\n    if (confirm('Are you sure you want to delete this webhook?')) {\r\n      setWebhooks(webhooks.filter((w) => w.id !== id));\r\n    }\r\n  };\r\n\r\n  const IntegrationCard = ({\r\n    integration,\r\n    showDescription = false,\r\n  }: {\r\n    integration: any;\r\n    showDescription?: boolean;\r\n  }) => (\r\n    <div className=\"flex items-center justify-between p-4 rounded-xl border border-white/10 glass card-3d\">\r\n      <div className=\"flex items-center gap-4\">\r\n        <div className={cn('p-2 rounded-xl bg-black/30', integration.color)}>\r\n          <IntegrationIcon type={integration.id} />\r\n        </div>\r\n        <div>\r\n          <p className=\"font-medium\">{integration.name}</p>\r\n          {showDescription && (\r\n            <p className=\"text-sm text-muted-foreground\">{integration.description}</p>\r\n          )}\r\n          {!showDescription && (\r\n            <p className=\"text-sm text-muted-foreground\">\r\n              {integration.connected ? t('settings.connected') : t('settings.notConnected')}\r\n            </p>\r\n          )}\r\n        </div>\r\n      </div>\r\n      <div className=\"flex items-center gap-3\">\r\n        {integration.connected && (\r\n          <span className=\"px-2.5 py-1 rounded-full bg-green-500/20 text-green-400 text-xs font-medium border border-green-500/30\">\r\n            Connected\r\n          </span>\r\n        )}\r\n        <button\r\n          className={cn(\r\n            'px-4 py-2 rounded-xl text-sm font-medium transition-colors',\r\n            integration.connected\r\n              ? 'border border-white/10 hover:bg-white/5 text-red-400'\r\n              : 'bg-primary text-primary-foreground hover:bg-primary/90'\r\n          )}\r\n        >\r\n          {integration.connected ? t('settings.disconnect') : t('settings.connect')}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"space-y-8\">\r\n      <h2 className=\"text-lg font-semibold\">{t('settings.integrationSettings')}</h2>\r\n\r\n      {/* Webhooks Section */}\r\n      <div>\r\n        <div className=\"flex items-center justify-between mb-4\">\r\n          <div>\r\n            <h3 className=\"font-medium\">Webhooks</h3>\r\n            <p className=\"text-sm text-muted-foreground\">\r\n              Receive real-time notifications for platform events\r\n            </p>\r\n          </div>\r\n          <button\r\n            onClick={() => setShowAddWebhook(true)}\r\n            className=\"flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm bg-primary text-primary-foreground hover:bg-primary/90 transition-colors\"\r\n          >\r\n            <span>+ Add Webhook Endpoint</span>\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"space-y-3\">\r\n          {webhooks.map((webhook) => (\r\n            <div key={webhook.id} className=\"p-4 rounded-xl border border-white/10 glass\">\r\n              <div className=\"flex items-start justify-between mb-3\">\r\n                <div className=\"flex-1 min-w-0\">\r\n                  <code className=\"text-sm font-mono text-cyan-400 break-all\">{webhook.url}</code>\r\n                  <div className=\"flex flex-wrap gap-2 mt-2\">\r\n                    {webhook.events.map((event) => (\r\n                      <span\r\n                        key={event}\r\n                        className=\"px-2 py-0.5 rounded-full bg-primary/10 text-primary text-xs\"\r\n                      >\r\n                        {event}\r\n                      </span>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex items-center gap-2 ml-4\">\r\n                  <span className=\"px-2.5 py-1 rounded-full bg-green-500/20 text-green-400 text-xs font-medium border border-green-500/30\">\r\n                    Active\r\n                  </span>\r\n                  <button className=\"px-3 py-1.5 rounded-lg border border-white/10 hover:bg-white/5 text-sm\">\r\n                    Edit\r\n                  </button>\r\n                  <button\r\n                    onClick={() => deleteWebhook(webhook.id)}\r\n                    className=\"px-3 py-1.5 rounded-lg border border-red-500/30 hover:bg-red-500/10 text-red-400 text-sm\"\r\n                  >\r\n                    Delete\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              <p className=\"text-xs text-muted-foreground\">\r\n                Last triggered: {webhook.lastTriggered}\r\n              </p>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Add Webhook Modal */}\r\n        {showAddWebhook && (\r\n          <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4\">\r\n            <div className=\"w-full max-w-lg rounded-2xl border border-white/10 glass-strong p-6\">\r\n              <h3 className=\"text-lg font-semibold mb-4\">Add Webhook Endpoint</h3>\r\n\r\n              <div className=\"space-y-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-2\">Endpoint URL</label>\r\n                  <input\r\n                    type=\"url\"\r\n                    value={newWebhookUrl}\r\n                    onChange={(e) => setNewWebhookUrl(e.target.value)}\r\n                    placeholder=\"https://your-app.com/webhooks/stratum\"\r\n                    className=\"w-full px-4 py-2 rounded-xl border border-white/10 glass bg-transparent focus:outline-none focus:ring-2 focus:ring-primary/20\"\r\n                  />\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-2\">Events to Subscribe</label>\r\n                  <div className=\"grid grid-cols-2 gap-2\">\r\n                    {webhookEventTypes.map((event) => (\r\n                      <button\r\n                        key={event.id}\r\n                        onClick={() => toggleWebhookEvent(event.id)}\r\n                        className={cn(\r\n                          'p-3 rounded-xl border text-left transition-all',\r\n                          newWebhookEvents.includes(event.id)\r\n                            ? 'border-primary bg-primary/10'\r\n                            : 'border-white/10 hover:border-white/20'\r\n                        )}\r\n                      >\r\n                        <p className=\"font-medium text-sm\">{event.label}</p>\r\n                        <p className=\"text-xs text-muted-foreground\">{event.description}</p>\r\n                      </button>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex items-center justify-end gap-3 mt-6 pt-4 border-t border-white/10\">\r\n                <button\r\n                  onClick={() => setShowAddWebhook(false)}\r\n                  className=\"px-4 py-2 rounded-xl border border-white/10 hover:bg-white/5\"\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <button\r\n                  onClick={addWebhook}\r\n                  disabled={!newWebhookUrl || newWebhookEvents.length === 0}\r\n                  className=\"px-4 py-2 rounded-xl bg-primary text-primary-foreground hover:bg-primary/90 disabled:opacity-50\"\r\n                >\r\n                  Add Webhook\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Ad Platforms */}\r\n      <div>\r\n        <h3 className=\"font-medium mb-3\">Ad Platforms</h3>\r\n        <div className=\"space-y-3\">\r\n          {adPlatforms.map((integration) => (\r\n            <IntegrationCard key={integration.id} integration={integration} />\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Analytics & Tracking */}\r\n      <div>\r\n        <h3 className=\"font-medium mb-3\">Analytics & Tracking</h3>\r\n        <div className=\"space-y-3\">\r\n          {analyticsIntegrations.map((integration) => (\r\n            <IntegrationCard key={integration.id} integration={integration} showDescription />\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Connected Services (E-commerce & Payments) */}\r\n      <div>\r\n        <h3 className=\"font-medium mb-3\">Connected Services</h3>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n          {commerceIntegrations.map((integration) => (\r\n            <div\r\n              key={integration.id}\r\n              className=\"p-4 rounded-xl border border-white/10 glass card-3d text-center\"\r\n            >\r\n              <div className={cn('p-3 rounded-xl bg-black/30 inline-flex mb-3', integration.color)}>\r\n                <IntegrationIcon type={integration.id} />\r\n              </div>\r\n              <h4 className=\"font-medium mb-1\">{integration.name}</h4>\r\n              <p className=\"text-xs text-muted-foreground mb-3\">{integration.description}</p>\r\n              {integration.connected ? (\r\n                <span className=\"px-3 py-1.5 rounded-full bg-green-500/20 text-green-400 text-xs font-medium border border-green-500/30 inline-block\">\r\n                  Connected\r\n                </span>\r\n              ) : (\r\n                <span className=\"px-3 py-1.5 rounded-full bg-gray-500/20 text-gray-400 text-xs font-medium border border-gray-500/30 inline-block\">\r\n                  Not Connected\r\n                </span>\r\n              )}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction PreferenceSettings() {\r\n  const { t, i18n } = useTranslation();\r\n  const [theme, setTheme] = useState('system');\r\n  const [language, setLanguage] = useState(i18n.language);\r\n\r\n  const handleLanguageChange = (lang: string) => {\r\n    setLanguage(lang);\r\n    i18n.changeLanguage(lang);\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <h2 className=\"text-lg font-semibold\">{t('settings.preferenceSettings')}</h2>\r\n\r\n      <div>\r\n        <label className=\"text-sm font-medium mb-2 block\">{t('settings.theme')}</label>\r\n        <div className=\"flex gap-3\">\r\n          {['light', 'dark', 'system'].map((t) => (\r\n            <button\r\n              key={t}\r\n              onClick={() => setTheme(t)}\r\n              className={cn(\r\n                'px-4 py-2 rounded-lg border transition-colors capitalize',\r\n                theme === t ? 'bg-primary text-primary-foreground' : 'hover:bg-muted'\r\n              )}\r\n            >\r\n              {t}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      <div>\r\n        <label className=\"text-sm font-medium mb-2 block\">{t('settings.language')}</label>\r\n        <select\r\n          value={language}\r\n          onChange={(e) => handleLanguageChange(e.target.value)}\r\n          className=\"w-full px-4 py-2 rounded-lg border bg-background focus:outline-none focus:ring-2 focus:ring-primary/20\"\r\n        >\r\n          <option value=\"en\">English</option>\r\n          <option value=\"uk\"></option>\r\n        </select>\r\n      </div>\r\n\r\n      <div>\r\n        <label className=\"text-sm font-medium mb-2 block\">{t('settings.currency')}</label>\r\n        <select className=\"w-full px-4 py-2 rounded-lg border bg-background focus:outline-none focus:ring-2 focus:ring-primary/20\">\r\n          <option value=\"USD\">USD ($)</option>\r\n          <option value=\"EUR\">EUR ()</option>\r\n          <option value=\"GBP\">GBP ()</option>\r\n          <option value=\"UAH\">UAH ()</option>\r\n        </select>\r\n      </div>\r\n\r\n      <div>\r\n        <label className=\"text-sm font-medium mb-2 block\">{t('settings.dateFormat')}</label>\r\n        <select className=\"w-full px-4 py-2 rounded-lg border bg-background focus:outline-none focus:ring-2 focus:ring-primary/20\">\r\n          <option value=\"MM/DD/YYYY\">MM/DD/YYYY</option>\r\n          <option value=\"DD/MM/YYYY\">DD/MM/YYYY</option>\r\n          <option value=\"YYYY-MM-DD\">YYYY-MM-DD</option>\r\n        </select>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction BillingSettings() {\r\n  const { t } = useTranslation();\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <h2 className=\"text-lg font-semibold\">{t('settings.billingSettings')}</h2>\r\n\r\n      <div className=\"p-4 rounded-lg border bg-primary/5 border-primary/20\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div>\r\n            <p className=\"font-medium\">Pro Plan</p>\r\n            <p className=\"text-sm text-muted-foreground\">$99/month  Renews Dec 15, 2024</p>\r\n          </div>\r\n          <button className=\"px-4 py-2 rounded-lg border hover:bg-muted transition-colors text-sm\">\r\n            {t('settings.changePlan')}\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div>\r\n        <h3 className=\"font-medium mb-3\">{t('settings.paymentMethod')}</h3>\r\n        <div className=\"p-4 rounded-lg border\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"w-12 h-8 rounded bg-muted flex items-center justify-center text-xs font-bold\">\r\n                VISA\r\n              </div>\r\n              <div>\r\n                <p className=\"font-medium\">   4242</p>\r\n                <p className=\"text-sm text-muted-foreground\">Expires 12/25</p>\r\n              </div>\r\n            </div>\r\n            <button className=\"text-sm text-primary hover:underline\">{t('settings.update')}</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div>\r\n        <h3 className=\"font-medium mb-3\">{t('settings.billingHistory')}</h3>\r\n        <div className=\"rounded-lg border overflow-hidden\">\r\n          <table className=\"w-full\">\r\n            <thead className=\"bg-muted/50\">\r\n              <tr>\r\n                <th className=\"p-3 text-left text-sm font-medium\">{t('settings.date')}</th>\r\n                <th className=\"p-3 text-left text-sm font-medium\">{t('settings.description')}</th>\r\n                <th className=\"p-3 text-right text-sm font-medium\">{t('settings.amount')}</th>\r\n                <th className=\"p-3 text-right text-sm font-medium\" />\r\n              </tr>\r\n            </thead>\r\n            <tbody className=\"divide-y\">\r\n              {[\r\n                { date: 'Nov 15, 2024', desc: 'Pro Plan - Monthly', amount: '$99.00' },\r\n                { date: 'Oct 15, 2024', desc: 'Pro Plan - Monthly', amount: '$99.00' },\r\n                { date: 'Sep 15, 2024', desc: 'Pro Plan - Monthly', amount: '$99.00' },\r\n              ].map((invoice, i) => (\r\n                <tr key={i}>\r\n                  <td className=\"p-3 text-sm\">{invoice.date}</td>\r\n                  <td className=\"p-3 text-sm\">{invoice.desc}</td>\r\n                  <td className=\"p-3 text-sm text-right\">{invoice.amount}</td>\r\n                  <td className=\"p-3 text-right\">\r\n                    <button className=\"text-sm text-primary hover:underline\">\r\n                      <Download className=\"w-4 h-4\" />\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction GDPRSettings() {\r\n  const { t } = useTranslation();\r\n\r\n  // API hooks for GDPR operations\r\n  const exportData = useExportData();\r\n  const requestDeletion = useRequestDeletion();\r\n\r\n  const [exportStatus, setExportStatus] = useState<'idle' | 'processing' | 'ready'>('idle');\r\n\r\n  // Handle data export request\r\n  const handleExport = async () => {\r\n    setExportStatus('processing');\r\n    try {\r\n      await exportData.mutateAsync('json');\r\n      setExportStatus('ready');\r\n    } catch (error) {\r\n      console.error('Export failed:', error);\r\n      // Fallback to mock success for demo\r\n      setTimeout(() => setExportStatus('ready'), 3000);\r\n    }\r\n  };\r\n\r\n  // Handle account deletion request\r\n  const handleDeleteRequest = async () => {\r\n    if (\r\n      !confirm('Are you sure you want to request account deletion? This action cannot be undone.')\r\n    ) {\r\n      return;\r\n    }\r\n    try {\r\n      await requestDeletion.mutateAsync('User requested account deletion');\r\n      alert('Deletion request submitted. You will receive an email confirmation.');\r\n    } catch (error) {\r\n      console.error('Deletion request failed:', error);\r\n      alert('Deletion request submitted (demo mode).');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <h2 className=\"text-lg font-semibold\">{t('settings.gdprSettings')}</h2>\r\n\r\n      <div className=\"p-4 rounded-lg border border-amber-500/30 bg-amber-500/10\">\r\n        <div className=\"flex items-start gap-3\">\r\n          <AlertTriangle className=\"w-5 h-5 text-amber-500 mt-0.5\" />\r\n          <div>\r\n            <p className=\"font-medium\">{t('settings.gdprNotice')}</p>\r\n            <p className=\"text-sm text-muted-foreground mt-1\">{t('settings.gdprNoticeDesc')}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div>\r\n        <h3 className=\"font-medium mb-3\">{t('settings.exportData')}</h3>\r\n        <p className=\"text-sm text-muted-foreground mb-3\">{t('settings.exportDataDesc')}</p>\r\n        <button\r\n          onClick={handleExport}\r\n          disabled={exportStatus === 'processing' || exportData.isPending}\r\n          className=\"flex items-center gap-2 px-4 py-2 rounded-lg bg-primary text-primary-foreground hover:bg-primary/90 transition-colors disabled:opacity-50\"\r\n        >\r\n          {exportStatus === 'processing' || exportData.isPending ? (\r\n            <>\r\n              <Loader2 className=\"w-4 h-4 animate-spin\" />\r\n              {t('settings.processing')}\r\n            </>\r\n          ) : exportStatus === 'ready' ? (\r\n            <>\r\n              <Download className=\"w-4 h-4\" />\r\n              {t('settings.downloadReady')}\r\n            </>\r\n          ) : (\r\n            <>\r\n              <Download className=\"w-4 h-4\" />\r\n              {t('settings.requestExport')}\r\n            </>\r\n          )}\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"border-t pt-6\">\r\n        <h3 className=\"font-medium mb-3 text-red-500\">{t('settings.deleteAccount')}</h3>\r\n        <p className=\"text-sm text-muted-foreground mb-3\">{t('settings.deleteAccountDesc')}</p>\r\n        <button\r\n          onClick={handleDeleteRequest}\r\n          disabled={requestDeletion.isPending}\r\n          className=\"flex items-center gap-2 px-4 py-2 rounded-lg border border-red-500 text-red-500 hover:bg-red-500/10 transition-colors disabled:opacity-50\"\r\n        >\r\n          {requestDeletion.isPending ? (\r\n            <Loader2 className=\"w-4 h-4 animate-spin\" />\r\n          ) : (\r\n            <Trash2 className=\"w-4 h-4\" />\r\n          )}\r\n          {t('settings.deleteAccountButton')}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction TrustEngineSettings() {\r\n  const [healthyThreshold, setHealthyThreshold] = useState(70);\r\n  const [degradedThreshold, setDegradedThreshold] = useState(40);\r\n  const [autopilotEnabled, setAutopilotEnabled] = useState(true);\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <h2 className=\"text-lg font-semibold\">Trust Engine Configuration</h2>\r\n      <p className=\"text-sm text-muted-foreground\">\r\n        Configure signal health thresholds that control when automations can execute.\r\n        The Trust Engine ensures automations only run when signal quality meets safety requirements.\r\n      </p>\r\n\r\n      <div className=\"space-y-6\">\r\n        {/* Healthy Threshold */}\r\n        <div className=\"p-4 rounded-xl border border-green-500/20 bg-green-500/5\">\r\n          <div className=\"flex items-center justify-between mb-3\">\r\n            <div>\r\n              <label className=\"font-medium text-green-400\">Healthy Threshold</label>\r\n              <p className=\"text-sm text-muted-foreground mt-0.5\">\r\n                Signal health at or above this value enables autopilot execution\r\n              </p>\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <input\r\n                type=\"number\"\r\n                min={0}\r\n                max={100}\r\n                value={healthyThreshold}\r\n                onChange={(e) => setHealthyThreshold(Number(e.target.value))}\r\n                className=\"w-20 px-3 py-2 rounded-lg border border-white/10 bg-transparent text-center font-mono text-lg focus:outline-none focus:ring-2 focus:ring-green-500/30\"\r\n              />\r\n              <span className=\"text-muted-foreground text-sm\">/100</span>\r\n            </div>\r\n          </div>\r\n          <div className=\"w-full bg-white/10 rounded-full h-2\">\r\n            <div\r\n              className=\"bg-green-500 rounded-full h-2 transition-all\"\r\n              style={{ width: `${healthyThreshold}%` }}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Degraded Threshold */}\r\n        <div className=\"p-4 rounded-xl border border-amber-500/20 bg-amber-500/5\">\r\n          <div className=\"flex items-center justify-between mb-3\">\r\n            <div>\r\n              <label className=\"font-medium text-amber-400\">Degraded Threshold</label>\r\n              <p className=\"text-sm text-muted-foreground mt-0.5\">\r\n                Below healthy but above this value triggers alerts and holds execution\r\n              </p>\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <input\r\n                type=\"number\"\r\n                min={0}\r\n                max={100}\r\n                value={degradedThreshold}\r\n                onChange={(e) => setDegradedThreshold(Number(e.target.value))}\r\n                className=\"w-20 px-3 py-2 rounded-lg border border-white/10 bg-transparent text-center font-mono text-lg focus:outline-none focus:ring-2 focus:ring-amber-500/30\"\r\n              />\r\n              <span className=\"text-muted-foreground text-sm\">/100</span>\r\n            </div>\r\n          </div>\r\n          <div className=\"w-full bg-white/10 rounded-full h-2\">\r\n            <div\r\n              className=\"bg-amber-500 rounded-full h-2 transition-all\"\r\n              style={{ width: `${degradedThreshold}%` }}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Below Degraded Info */}\r\n        <div className=\"p-4 rounded-xl border border-red-500/20 bg-red-500/5\">\r\n          <div>\r\n            <label className=\"font-medium text-red-400\">Unhealthy Zone</label>\r\n            <p className=\"text-sm text-muted-foreground mt-0.5\">\r\n              Below {degradedThreshold}: All automations blocked. Manual action required.\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Autopilot Toggle */}\r\n        <div className=\"p-4 rounded-xl border border-white/10 bg-white/5\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <label className=\"font-medium\">Autopilot Mode</label>\r\n              <p className=\"text-sm text-muted-foreground mt-0.5\">\r\n                When enabled, automations execute automatically when signal health is above the\r\n                healthy threshold ({healthyThreshold})\r\n              </p>\r\n            </div>\r\n            <button\r\n              onClick={() => setAutopilotEnabled(!autopilotEnabled)}\r\n              className={cn(\r\n                'relative w-12 h-6 rounded-full transition-colors',\r\n                autopilotEnabled ? 'bg-primary' : 'bg-muted'\r\n              )}\r\n            >\r\n              <span\r\n                className={cn(\r\n                  'absolute top-1 w-4 h-4 bg-white rounded-full transition-transform',\r\n                  autopilotEnabled ? 'translate-x-7' : 'translate-x-1'\r\n                )}\r\n              />\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Visual summary */}\r\n        <div className=\"p-4 rounded-xl border border-white/10 bg-white/5\">\r\n          <h3 className=\"font-medium mb-3\">Trust Gate Logic</h3>\r\n          <div className=\"space-y-2 text-sm\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <span className=\"w-3 h-3 rounded-full bg-green-500\" />\r\n              <span>\r\n                Score {'>='} {healthyThreshold}: <strong className=\"text-green-400\">PASS</strong> -\r\n                Autopilot {autopilotEnabled ? 'executes' : 'disabled (manual only)'}\r\n              </span>\r\n            </div>\r\n            <div className=\"flex items-center gap-3\">\r\n              <span className=\"w-3 h-3 rounded-full bg-amber-500\" />\r\n              <span>\r\n                Score {degradedThreshold}-{healthyThreshold - 1}:{' '}\r\n                <strong className=\"text-amber-400\">HOLD</strong> - Alert only, no auto-execution\r\n              </span>\r\n            </div>\r\n            <div className=\"flex items-center gap-3\">\r\n              <span className=\"w-3 h-3 rounded-full bg-red-500\" />\r\n              <span>\r\n                Score {'<'} {degradedThreshold}: <strong className=\"text-red-400\">BLOCK</strong> -\r\n                Manual action required\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Settings;\r\n"],"file":"assets/Settings-CkbOpeF1.js"}