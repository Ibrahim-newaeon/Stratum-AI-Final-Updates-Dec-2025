{"version":3,"file":"UnifiedDashboard-3JLT0PSb.js","sources":["../../node_modules/lucide-react/dist/esm/icons/arrow-up.js","../../node_modules/lucide-react/dist/esm/icons/hand.js","../../node_modules/lucide-react/dist/esm/icons/mouse-pointer-click.js","../../node_modules/lucide-react/dist/esm/icons/shield-alert.js","../../node_modules/lucide-react/dist/esm/icons/shield-check.js","../../node_modules/lucide-react/dist/esm/icons/shield-off.js","../../src/api/dashboard.ts","../../src/views/dashboard/widgets/SignalHealthCard.tsx","../../src/views/dashboard/widgets/TrustGateStatus.tsx","../../src/views/dashboard/widgets/RecommendationsCard.tsx","../../src/views/dashboard/widgets/ActivityFeed.tsx","../../src/views/dashboard/widgets/MetricCard.tsx","../../src/views/dashboard/widgets/PlatformBreakdown.tsx","../../src/views/dashboard/widgets/CampaignPerformanceTable.tsx","../../src/views/dashboard/widgets/QuickActionsBar.tsx","../../src/views/dashboard/UnifiedDashboard.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"m5 12 7-7 7 7\", key: \"hav0vg\" }],\n  [\"path\", { d: \"M12 19V5\", key: \"x0mq9r\" }]\n];\nconst ArrowUp = createLucideIcon(\"arrow-up\", __iconNode);\n\nexport { __iconNode, ArrowUp as default };\n//# sourceMappingURL=arrow-up.js.map\n","/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2\", key: \"1fvzgz\" }],\n  [\"path\", { d: \"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2\", key: \"1kc0my\" }],\n  [\"path\", { d: \"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8\", key: \"10h0bg\" }],\n  [\n    \"path\",\n    {\n      d: \"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15\",\n      key: \"1s1gnw\"\n    }\n  ]\n];\nconst Hand = createLucideIcon(\"hand\", __iconNode);\n\nexport { __iconNode, Hand as default };\n//# sourceMappingURL=hand.js.map\n","/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M14 4.1 12 6\", key: \"ita8i4\" }],\n  [\"path\", { d: \"m5.1 8-2.9-.8\", key: \"1go3kf\" }],\n  [\"path\", { d: \"m6 12-1.9 2\", key: \"mnht97\" }],\n  [\"path\", { d: \"M7.2 2.2 8 5.1\", key: \"1cfko1\" }],\n  [\n    \"path\",\n    {\n      d: \"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z\",\n      key: \"s0h3yz\"\n    }\n  ]\n];\nconst MousePointerClick = createLucideIcon(\"mouse-pointer-click\", __iconNode);\n\nexport { __iconNode, MousePointerClick as default };\n//# sourceMappingURL=mouse-pointer-click.js.map\n","/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z\",\n      key: \"oel41y\"\n    }\n  ],\n  [\"path\", { d: \"M12 8v4\", key: \"1got3b\" }],\n  [\"path\", { d: \"M12 16h.01\", key: \"1drbdi\" }]\n];\nconst ShieldAlert = createLucideIcon(\"shield-alert\", __iconNode);\n\nexport { __iconNode, ShieldAlert as default };\n//# sourceMappingURL=shield-alert.js.map\n","/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z\",\n      key: \"oel41y\"\n    }\n  ],\n  [\"path\", { d: \"m9 12 2 2 4-4\", key: \"dzmm74\" }]\n];\nconst ShieldCheck = createLucideIcon(\"shield-check\", __iconNode);\n\nexport { __iconNode, ShieldCheck as default };\n//# sourceMappingURL=shield-check.js.map\n","/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"m2 2 20 20\", key: \"1ooewy\" }],\n  [\n    \"path\",\n    {\n      d: \"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71\",\n      key: \"1jlk70\"\n    }\n  ],\n  [\n    \"path\",\n    {\n      d: \"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264\",\n      key: \"18rp1v\"\n    }\n  ]\n];\nconst ShieldOff = createLucideIcon(\"shield-off\", __iconNode);\n\nexport { __iconNode, ShieldOff as default };\n//# sourceMappingURL=shield-off.js.map\n","/**\r\n * Stratum AI - Dashboard API\r\n *\r\n * Unified dashboard endpoints for the main application dashboard.\r\n * Provides consolidated data for metrics, campaigns, recommendations,\r\n * activity feed, and signal health.\r\n */\r\n\r\nimport { useMutation, useQuery, useQueryClient } from '@tanstack/react-query';\r\nimport { apiClient, ApiResponse } from './client';\r\n\r\n// =============================================================================\r\n// Types\r\n// =============================================================================\r\n\r\nexport type TimePeriod = 'today' | 'yesterday' | '7d' | '30d' | '90d' | 'this_month' | 'last_month';\r\n\r\nexport type TrendDirection = 'up' | 'down' | 'stable';\r\n\r\nexport type RecommendationType = 'scale' | 'watch' | 'fix' | 'pause';\r\n\r\nexport type RecommendationStatus = 'pending' | 'approved' | 'rejected' | 'executed';\r\n\r\n// Metric with value, change, and trend\r\nexport interface MetricValue {\r\n  value: number;\r\n  previous_value: number | null;\r\n  change_percent: number | null;\r\n  trend: TrendDirection;\r\n  formatted: string;\r\n}\r\n\r\n// Key performance metrics\r\nexport interface OverviewMetrics {\r\n  spend: MetricValue;\r\n  revenue: MetricValue;\r\n  roas: MetricValue;\r\n  conversions: MetricValue;\r\n  cpa: MetricValue;\r\n  impressions: MetricValue;\r\n  clicks: MetricValue;\r\n  ctr: MetricValue;\r\n}\r\n\r\n// Signal health status\r\nexport interface SignalHealthSummary {\r\n  overall_score: number;\r\n  status: 'healthy' | 'degraded' | 'critical' | 'unknown';\r\n  emq_score: number | null;\r\n  data_freshness_minutes: number | null;\r\n  api_health: boolean;\r\n  issues: string[];\r\n  autopilot_enabled: boolean;\r\n}\r\n\r\n// Platform performance summary\r\nexport interface PlatformSummary {\r\n  platform: string;\r\n  status: 'connected' | 'disconnected' | 'error';\r\n  spend: number;\r\n  revenue: number;\r\n  roas: number | null;\r\n  campaigns_count: number;\r\n  last_synced_at: string | null;\r\n}\r\n\r\n// Campaign summary item\r\nexport interface CampaignSummaryItem {\r\n  id: number;\r\n  name: string;\r\n  platform: string;\r\n  status: string;\r\n  spend: number;\r\n  revenue: number;\r\n  roas: number | null;\r\n  conversions: number;\r\n  trend: TrendDirection;\r\n  scaling_score: number | null;\r\n  recommendation: string | null;\r\n}\r\n\r\n// AI recommendation\r\nexport interface RecommendationItem {\r\n  id: string;\r\n  type: RecommendationType;\r\n  entity_type: string;\r\n  entity_id: number;\r\n  entity_name: string;\r\n  platform: string;\r\n  title: string;\r\n  description: string;\r\n  impact_estimate: string | null;\r\n  confidence: number;\r\n  status: RecommendationStatus;\r\n  created_at: string;\r\n}\r\n\r\n// Activity/event item\r\nexport interface ActivityItem {\r\n  id: number;\r\n  type: 'action' | 'alert' | 'auth' | 'system';\r\n  title: string;\r\n  description: string | null;\r\n  severity: 'info' | 'warning' | 'error' | 'success' | null;\r\n  timestamp: string;\r\n  entity_type: string | null;\r\n  entity_id: string | null;\r\n}\r\n\r\n// Quick action button\r\nexport interface QuickAction {\r\n  id: string;\r\n  label: string;\r\n  icon: string;\r\n  action: string;\r\n  count: number | null;\r\n}\r\n\r\n// Response types\r\nexport interface DashboardOverviewResponse {\r\n  onboarding_complete: boolean;\r\n  has_connected_platforms: boolean;\r\n  has_campaigns: boolean;\r\n  period: string;\r\n  period_label: string;\r\n  date_range: {\r\n    start: string;\r\n    end: string;\r\n  };\r\n  metrics: OverviewMetrics;\r\n  signal_health: SignalHealthSummary;\r\n  platforms: PlatformSummary[];\r\n  total_campaigns: number;\r\n  active_campaigns: number;\r\n  pending_recommendations: number;\r\n  active_alerts: number;\r\n}\r\n\r\nexport interface CampaignPerformanceResponse {\r\n  campaigns: CampaignSummaryItem[];\r\n  total: number;\r\n  page: number;\r\n  page_size: number;\r\n  sort_by: string;\r\n  sort_order: string;\r\n}\r\n\r\nexport interface RecommendationsResponse {\r\n  recommendations: RecommendationItem[];\r\n  total: number;\r\n  by_type: Record<RecommendationType, number>;\r\n}\r\n\r\nexport interface ActivityFeedResponse {\r\n  activities: ActivityItem[];\r\n  total: number;\r\n  has_more: boolean;\r\n}\r\n\r\nexport interface QuickActionsResponse {\r\n  actions: QuickAction[];\r\n}\r\n\r\n// Export format types\r\nexport type ExportFormat = 'csv' | 'json';\r\n\r\n// Export request\r\nexport interface DashboardExportRequest {\r\n  format: ExportFormat;\r\n  period?: TimePeriod;\r\n  include_campaigns?: boolean;\r\n  include_metrics?: boolean;\r\n  include_recommendations?: boolean;\r\n}\r\n\r\n// Request types\r\nexport interface CampaignPerformanceRequest {\r\n  period?: TimePeriod;\r\n  platform?: string;\r\n  status?: string;\r\n  sort_by?: string;\r\n  sort_order?: 'asc' | 'desc';\r\n  page?: number;\r\n  page_size?: number;\r\n}\r\n\r\nexport interface RecommendationsRequest {\r\n  type?: RecommendationType;\r\n  status?: RecommendationStatus;\r\n  limit?: number;\r\n}\r\n\r\nexport interface ActivityFeedRequest {\r\n  limit?: number;\r\n  offset?: number;\r\n}\r\n\r\n// =============================================================================\r\n// API Functions\r\n// =============================================================================\r\n\r\nexport const dashboardApi = {\r\n  /**\r\n   * Get dashboard overview with metrics and status\r\n   */\r\n  getOverview: async (period: TimePeriod = '7d'): Promise<DashboardOverviewResponse> => {\r\n    const response = await apiClient.get<ApiResponse<DashboardOverviewResponse>>(\r\n      '/dashboard/overview',\r\n      { params: { period } }\r\n    );\r\n    return response.data.data;\r\n  },\r\n\r\n  /**\r\n   * Get campaign performance list\r\n   */\r\n  getCampaigns: async (\r\n    params: CampaignPerformanceRequest = {}\r\n  ): Promise<CampaignPerformanceResponse> => {\r\n    const response = await apiClient.get<ApiResponse<CampaignPerformanceResponse>>(\r\n      '/dashboard/campaigns',\r\n      { params }\r\n    );\r\n    return response.data.data;\r\n  },\r\n\r\n  /**\r\n   * Get AI recommendations\r\n   */\r\n  getRecommendations: async (\r\n    params: RecommendationsRequest = {}\r\n  ): Promise<RecommendationsResponse> => {\r\n    const response = await apiClient.get<ApiResponse<RecommendationsResponse>>(\r\n      '/dashboard/recommendations',\r\n      { params }\r\n    );\r\n    return response.data.data;\r\n  },\r\n\r\n  /**\r\n   * Approve a recommendation\r\n   */\r\n  approveRecommendation: async (\r\n    recommendationId: string\r\n  ): Promise<{ message: string; status: string }> => {\r\n    const response = await apiClient.post<ApiResponse<{ message: string; status: string }>>(\r\n      `/dashboard/recommendations/${recommendationId}/approve`\r\n    );\r\n    return response.data.data;\r\n  },\r\n\r\n  /**\r\n   * Reject a recommendation\r\n   */\r\n  rejectRecommendation: async (\r\n    recommendationId: string\r\n  ): Promise<{ message: string; status: string }> => {\r\n    const response = await apiClient.post<ApiResponse<{ message: string; status: string }>>(\r\n      `/dashboard/recommendations/${recommendationId}/reject`\r\n    );\r\n    return response.data.data;\r\n  },\r\n\r\n  /**\r\n   * Get activity feed\r\n   */\r\n  getActivityFeed: async (params: ActivityFeedRequest = {}): Promise<ActivityFeedResponse> => {\r\n    const response = await apiClient.get<ApiResponse<ActivityFeedResponse>>('/dashboard/activity', {\r\n      params,\r\n    });\r\n    return response.data.data;\r\n  },\r\n\r\n  /**\r\n   * Get quick actions\r\n   */\r\n  getQuickActions: async (): Promise<QuickActionsResponse> => {\r\n    const response = await apiClient.get<ApiResponse<QuickActionsResponse>>(\r\n      '/dashboard/quick-actions'\r\n    );\r\n    return response.data.data;\r\n  },\r\n\r\n  /**\r\n   * Get detailed signal health\r\n   */\r\n  getSignalHealth: async (): Promise<SignalHealthSummary> => {\r\n    const response = await apiClient.get<ApiResponse<SignalHealthSummary>>(\r\n      '/dashboard/signal-health'\r\n    );\r\n    return response.data.data;\r\n  },\r\n\r\n  /**\r\n   * Export dashboard data as CSV or JSON\r\n   */\r\n  exportDashboard: async (params: DashboardExportRequest): Promise<Blob> => {\r\n    const response = await apiClient.post('/dashboard/export', params, {\r\n      responseType: 'blob',\r\n    });\r\n    return response.data;\r\n  },\r\n};\r\n\r\n// =============================================================================\r\n// React Query Hooks\r\n// =============================================================================\r\n\r\n/**\r\n * Get dashboard overview\r\n */\r\nexport function useDashboardOverview(period: TimePeriod = '7d', enabled = true) {\r\n  return useQuery({\r\n    queryKey: ['dashboard', 'overview', period],\r\n    queryFn: () => dashboardApi.getOverview(period),\r\n    enabled,\r\n    staleTime: 60 * 1000, // 1 minute\r\n    refetchInterval: 5 * 60 * 1000, // 5 minutes\r\n  });\r\n}\r\n\r\n/**\r\n * Get campaign performance\r\n */\r\nexport function useDashboardCampaigns(params: CampaignPerformanceRequest = {}, enabled = true) {\r\n  return useQuery({\r\n    queryKey: ['dashboard', 'campaigns', params],\r\n    queryFn: () => dashboardApi.getCampaigns(params),\r\n    enabled,\r\n    staleTime: 60 * 1000,\r\n  });\r\n}\r\n\r\n/**\r\n * Get recommendations\r\n */\r\nexport function useDashboardRecommendations(params: RecommendationsRequest = {}, enabled = true) {\r\n  return useQuery({\r\n    queryKey: ['dashboard', 'recommendations', params],\r\n    queryFn: () => dashboardApi.getRecommendations(params),\r\n    enabled,\r\n    staleTime: 2 * 60 * 1000, // 2 minutes\r\n  });\r\n}\r\n\r\n/**\r\n * Approve recommendation\r\n */\r\nexport function useApproveRecommendation() {\r\n  const queryClient = useQueryClient();\r\n\r\n  return useMutation({\r\n    mutationFn: dashboardApi.approveRecommendation,\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['dashboard', 'recommendations'] });\r\n    },\r\n  });\r\n}\r\n\r\n/**\r\n * Reject recommendation\r\n */\r\nexport function useRejectRecommendation() {\r\n  const queryClient = useQueryClient();\r\n\r\n  return useMutation({\r\n    mutationFn: dashboardApi.rejectRecommendation,\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['dashboard', 'recommendations'] });\r\n    },\r\n  });\r\n}\r\n\r\n/**\r\n * Get activity feed\r\n */\r\nexport function useDashboardActivity(params: ActivityFeedRequest = {}, enabled = true) {\r\n  return useQuery({\r\n    queryKey: ['dashboard', 'activity', params],\r\n    queryFn: () => dashboardApi.getActivityFeed(params),\r\n    enabled,\r\n    staleTime: 30 * 1000, // 30 seconds\r\n  });\r\n}\r\n\r\n/**\r\n * Get quick actions\r\n */\r\nexport function useDashboardQuickActions(enabled = true) {\r\n  return useQuery({\r\n    queryKey: ['dashboard', 'quick-actions'],\r\n    queryFn: dashboardApi.getQuickActions,\r\n    enabled,\r\n    staleTime: 5 * 60 * 1000, // 5 minutes\r\n  });\r\n}\r\n\r\n/**\r\n * Get signal health\r\n */\r\nexport function useDashboardSignalHealth(enabled = true) {\r\n  return useQuery({\r\n    queryKey: ['dashboard', 'signal-health'],\r\n    queryFn: dashboardApi.getSignalHealth,\r\n    enabled,\r\n    staleTime: 30 * 1000, // 30 seconds\r\n    refetchInterval: 60 * 1000, // 1 minute\r\n  });\r\n}\r\n\r\n/**\r\n * Export dashboard data\r\n */\r\nexport function useExportDashboard() {\r\n  return useMutation({\r\n    mutationFn: async (params: DashboardExportRequest) => {\r\n      const blob = await dashboardApi.exportDashboard(params);\r\n      // Create download link\r\n      const url = window.URL.createObjectURL(blob);\r\n      const a = document.createElement('a');\r\n      a.href = url;\r\n      a.download = `stratum-dashboard-export-${new Date().toISOString().split('T')[0]}.${params.format}`;\r\n      document.body.appendChild(a);\r\n      a.click();\r\n      window.URL.revokeObjectURL(url);\r\n      document.body.removeChild(a);\r\n      return blob;\r\n    },\r\n  });\r\n}\r\n","/**\r\n * SignalHealthCard - Signal health summary display\r\n */\r\n\r\nimport {\r\n  Activity,\r\n  AlertTriangle,\r\n  CheckCircle2,\r\n  Clock,\r\n  Loader2,\r\n  Server,\r\n  XCircle,\r\n  Zap,\r\n} from 'lucide-react';\r\nimport { cn } from '@/lib/utils';\r\nimport type { SignalHealthSummary } from '@/api/dashboard';\r\n\r\ninterface SignalHealthCardProps {\r\n  signalHealth?: SignalHealthSummary;\r\n  loading?: boolean;\r\n}\r\n\r\nexport function SignalHealthCard({ signalHealth, loading = false }: SignalHealthCardProps) {\r\n  if (loading) {\r\n    return (\r\n      <div className=\"glass border border-white/10 rounded-xl p-5 h-full flex items-center justify-center min-h-[200px]\">\r\n        <Loader2 className=\"w-6 h-6 animate-spin text-muted-foreground\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!signalHealth) {\r\n    return (\r\n      <div className=\"glass border border-white/10 rounded-xl p-5 h-full\">\r\n        <div className=\"text-center text-muted-foreground py-8\">\r\n          <Activity className=\"w-8 h-8 mx-auto mb-2 opacity-50\" />\r\n          <p>No signal health data available</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const getStatusConfig = (status: SignalHealthSummary['status']) => {\r\n    switch (status) {\r\n      case 'healthy':\r\n        return {\r\n          color: 'text-[#00c7be]',\r\n          bgColor: 'bg-[#00c7be]/10',\r\n          icon: CheckCircle2,\r\n          label: 'Healthy',\r\n        };\r\n      case 'degraded':\r\n        return {\r\n          color: 'text-yellow-500',\r\n          bgColor: 'bg-yellow-500/10',\r\n          icon: AlertTriangle,\r\n          label: 'Degraded',\r\n        };\r\n      case 'critical':\r\n        return {\r\n          color: 'text-[#ff6b6b]',\r\n          bgColor: 'bg-[#ff6b6b]/10',\r\n          icon: XCircle,\r\n          label: 'Critical',\r\n        };\r\n      default:\r\n        return {\r\n          color: 'text-muted-foreground',\r\n          bgColor: 'bg-muted',\r\n          icon: Activity,\r\n          label: 'Unknown',\r\n        };\r\n    }\r\n  };\r\n\r\n  const statusConfig = getStatusConfig(signalHealth.status);\r\n  const StatusIcon = statusConfig.icon;\r\n\r\n  const getScoreColor = (score: number) => {\r\n    if (score >= 70) return 'text-[#00c7be]';\r\n    if (score >= 40) return 'text-yellow-500';\r\n    return 'text-[#ff6b6b]';\r\n  };\r\n\r\n  const formatFreshness = (minutes: number | null) => {\r\n    if (minutes === null) return 'Unknown';\r\n    if (minutes < 1) return 'Just now';\r\n    if (minutes < 60) return `${minutes}m ago`;\r\n    const hours = Math.floor(minutes / 60);\r\n    if (hours < 24) return `${hours}h ago`;\r\n    const days = Math.floor(hours / 24);\r\n    return `${days}d ago`;\r\n  };\r\n\r\n  return (\r\n    <div className=\"glass border border-white/10 rounded-xl p-5 h-full card-3d\">\r\n      <div className=\"flex items-center justify-between mb-4\">\r\n        <h3 className=\"font-semibold\">Signal Health</h3>\r\n        <div\r\n          className={cn(\r\n            'flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium ai-chip',\r\n            statusConfig.bgColor,\r\n            statusConfig.color\r\n          )}\r\n        >\r\n          <div\r\n            className={cn(\r\n              'w-1.5 h-1.5 rounded-full',\r\n              signalHealth.status === 'healthy' && 'dot-healthy',\r\n              signalHealth.status === 'degraded' && 'dot-degraded',\r\n              signalHealth.status === 'critical' && 'dot-critical'\r\n            )}\r\n          />\r\n          <StatusIcon className=\"w-3.5 h-3.5\" />\r\n          {statusConfig.label}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Score Display */}\r\n      <div className=\"text-center mb-4\">\r\n        <div className={cn('text-4xl font-bold', getScoreColor(signalHealth.overall_score))}>\r\n          {signalHealth.overall_score}\r\n        </div>\r\n        <div className=\"text-xs text-muted-foreground mt-1\">Overall Score</div>\r\n        {/* Progress bar */}\r\n        <div className=\"h-1.5 rounded-full bg-white/10 overflow-hidden mt-2\">\r\n          <div\r\n            className={cn(\r\n              'h-full rounded-full transition-all duration-500',\r\n              signalHealth.overall_score >= 70\r\n                ? 'bg-gradient-to-r from-[#00c7be] to-[#34c759]'\r\n                : signalHealth.overall_score >= 40\r\n                  ? 'bg-gradient-to-r from-yellow-500 to-amber-400'\r\n                  : 'bg-gradient-to-r from-[#ff6b6b] to-[#ff8a8a]'\r\n            )}\r\n            style={{ width: `${signalHealth.overall_score}%` }}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Metrics */}\r\n      <div className=\"space-y-3\">\r\n        {signalHealth.emq_score !== null && (\r\n          <div className=\"flex items-center justify-between text-sm\">\r\n            <div className=\"flex items-center gap-2 text-muted-foreground\">\r\n              <Activity className=\"w-4 h-4\" />\r\n              <span>EMQ Score</span>\r\n            </div>\r\n            <span className={cn('font-medium', getScoreColor(signalHealth.emq_score))}>\r\n              {signalHealth.emq_score}\r\n            </span>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"flex items-center justify-between text-sm\">\r\n          <div className=\"flex items-center gap-2 text-muted-foreground\">\r\n            <Clock className=\"w-4 h-4\" />\r\n            <span>Data Freshness</span>\r\n          </div>\r\n          <span className=\"font-medium\">\r\n            {formatFreshness(signalHealth.data_freshness_minutes)}\r\n          </span>\r\n        </div>\r\n\r\n        <div className=\"flex items-center justify-between text-sm\">\r\n          <div className=\"flex items-center gap-2 text-muted-foreground\">\r\n            <Server className=\"w-4 h-4\" />\r\n            <span>API Health</span>\r\n          </div>\r\n          <span\r\n            className={cn(\r\n              'font-medium',\r\n              signalHealth.api_health ? 'text-[#00c7be]' : 'text-[#ff6b6b]'\r\n            )}\r\n          >\r\n            {signalHealth.api_health ? 'Online' : 'Offline'}\r\n          </span>\r\n        </div>\r\n\r\n        <div className=\"flex items-center justify-between text-sm\">\r\n          <div className=\"flex items-center gap-2 text-muted-foreground\">\r\n            <Zap className=\"w-4 h-4\" />\r\n            <span>Autopilot</span>\r\n          </div>\r\n          <span\r\n            className={cn(\r\n              'font-medium',\r\n              signalHealth.autopilot_enabled ? 'text-[#00c7be]' : 'text-muted-foreground'\r\n            )}\r\n          >\r\n            {signalHealth.autopilot_enabled ? 'Enabled' : 'Disabled'}\r\n          </span>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Issues */}\r\n      {signalHealth.issues.length > 0 && (\r\n        <div className=\"mt-4 pt-4 border-t\">\r\n          <div className=\"text-xs font-medium text-muted-foreground mb-2\">Issues</div>\r\n          <ul className=\"space-y-1\">\r\n            {signalHealth.issues.slice(0, 3).map((issue, index) => (\r\n              <li key={index} className=\"text-xs text-yellow-600 flex items-start gap-2\">\r\n                <AlertTriangle className=\"w-3 h-3 mt-0.5 flex-shrink-0\" />\r\n                <span>{issue}</span>\r\n              </li>\r\n            ))}\r\n            {signalHealth.issues.length > 3 && (\r\n              <li className=\"text-xs text-muted-foreground\">\r\n                +{signalHealth.issues.length - 3} more issues\r\n              </li>\r\n            )}\r\n          </ul>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","/**\r\n * TrustGateStatus - Visual trust gate indicator\r\n *\r\n * Shows the current trust gate status based on signal health:\r\n * - PASS (green): Signal health >= 70, autopilot enabled\r\n * - HOLD (yellow): Signal health 40-69, alerts only\r\n * - BLOCK (red): Signal health < 40, manual required\r\n */\r\n\r\nimport {\r\n  AlertTriangle,\r\n  Hand,\r\n  Loader2,\r\n  ShieldAlert,\r\n  ShieldCheck,\r\n  ShieldOff,\r\n  Zap,\r\n} from 'lucide-react';\r\nimport { cn } from '@/lib/utils';\r\nimport type { SignalHealthSummary } from '@/api/dashboard';\r\n\r\n// Trust engine thresholds from CLAUDE.md\r\nconst HEALTHY_THRESHOLD = 70;\r\nconst DEGRADED_THRESHOLD = 40;\r\n\r\ntype GateStatus = 'PASS' | 'HOLD' | 'BLOCK';\r\n\r\ninterface TrustGateStatusProps {\r\n  signalHealth?: SignalHealthSummary;\r\n  loading?: boolean;\r\n}\r\n\r\nexport function TrustGateStatus({ signalHealth, loading = false }: TrustGateStatusProps) {\r\n  if (loading) {\r\n    return (\r\n      <div className=\"glass border border-white/10 rounded-xl p-6 h-full flex items-center justify-center min-h-[200px]\">\r\n        <Loader2 className=\"w-6 h-6 animate-spin text-muted-foreground\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Determine gate status from signal health score\r\n  const getGateStatus = (): GateStatus => {\r\n    if (!signalHealth) return 'BLOCK';\r\n    if (signalHealth.overall_score >= HEALTHY_THRESHOLD) return 'PASS';\r\n    if (signalHealth.overall_score >= DEGRADED_THRESHOLD) return 'HOLD';\r\n    return 'BLOCK';\r\n  };\r\n\r\n  const gateStatus = getGateStatus();\r\n\r\n  const gateConfigs = {\r\n    PASS: {\r\n      icon: ShieldCheck,\r\n      color: 'text-[#00c7be]',\r\n      bgColor: 'bg-[#00c7be]',\r\n      bgLight: 'bg-[#00c7be]/10',\r\n      borderColor: 'border-[#00c7be]/30',\r\n      ringColor: 'ring-[#00c7be]/20',\r\n      label: 'PASS',\r\n      description: 'Autopilot Enabled',\r\n      detail: 'Signal health is strong. Automations will execute automatically.',\r\n      actionIcon: Zap,\r\n      actionLabel: 'Auto-Execute',\r\n    },\r\n    HOLD: {\r\n      icon: ShieldAlert,\r\n      color: 'text-yellow-500',\r\n      bgColor: 'bg-yellow-500',\r\n      bgLight: 'bg-yellow-500/10',\r\n      borderColor: 'border-yellow-500/30',\r\n      ringColor: 'ring-yellow-500/20',\r\n      label: 'HOLD',\r\n      description: 'Alert Mode',\r\n      detail: 'Signal health is degraded. Automation on hold, alerts only.',\r\n      actionIcon: AlertTriangle,\r\n      actionLabel: 'Alert Only',\r\n    },\r\n    BLOCK: {\r\n      icon: ShieldOff,\r\n      color: 'text-[#ff6b6b]',\r\n      bgColor: 'bg-[#ff6b6b]',\r\n      bgLight: 'bg-[#ff6b6b]/10',\r\n      borderColor: 'border-[#ff6b6b]/30',\r\n      ringColor: 'ring-[#ff6b6b]/20',\r\n      label: 'BLOCK',\r\n      description: 'Manual Required',\r\n      detail: 'Signal health is critical. All automations blocked, manual action required.',\r\n      actionIcon: Hand,\r\n      actionLabel: 'Manual Only',\r\n    },\r\n  };\r\n\r\n  const config = gateConfigs[gateStatus];\r\n  const GateIcon = config.icon;\r\n  const ActionIcon = config.actionIcon;\r\n\r\n  return (\r\n    <div\r\n      className={cn(\r\n        'glass border border-white/10 rounded-xl p-6 h-full card-3d',\r\n        config.borderColor\r\n      )}\r\n    >\r\n      <div className=\"flex items-center justify-between mb-4\">\r\n        <h3 className=\"font-semibold\">Trust Gate</h3>\r\n        <div\r\n          className={cn(\r\n            'flex items-center gap-1.5 px-3 py-1.5 rounded-full text-sm font-bold ai-chip',\r\n            config.bgLight,\r\n            config.color\r\n          )}\r\n        >\r\n          <GateIcon className=\"w-4 h-4\" />\r\n          {config.label}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Visual Gate Indicator */}\r\n      <div className=\"flex items-center justify-center py-6\">\r\n        <div className=\"relative\">\r\n          {/* Outer ring with glow */}\r\n          <div\r\n            className={cn(\r\n              'w-32 h-32 rounded-full ring-4 flex items-center justify-center',\r\n              config.ringColor,\r\n              config.bgLight,\r\n              gateStatus === 'PASS' && 'animate-glow-loop'\r\n            )}\r\n          >\r\n            {/* Inner circle with icon */}\r\n            <div\r\n              className={cn(\r\n                'w-20 h-20 rounded-full flex items-center justify-center',\r\n                config.bgLight\r\n              )}\r\n            >\r\n              <GateIcon className={cn('w-10 h-10', config.color)} />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Pulsing effect for PASS status */}\r\n          {gateStatus === 'PASS' && (\r\n            <div\r\n              className={cn(\r\n                'absolute inset-0 w-32 h-32 rounded-full animate-ping opacity-20',\r\n                config.bgColor\r\n              )}\r\n            />\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Status Description */}\r\n      <div className=\"text-center mb-6\">\r\n        <div className={cn('text-lg font-semibold mb-1', config.color)}>{config.description}</div>\r\n        <p className=\"text-sm text-muted-foreground\">{config.detail}</p>\r\n      </div>\r\n\r\n      {/* Threshold Indicator */}\r\n      <div className=\"space-y-3\">\r\n        <div className=\"flex items-center justify-between text-sm\">\r\n          <span className=\"text-muted-foreground\">Signal Score</span>\r\n          <span className={cn('font-bold', config.color)}>\r\n            {signalHealth?.overall_score ?? 0}/100\r\n          </span>\r\n        </div>\r\n\r\n        {/* Progress bar */}\r\n        <div className=\"h-2 bg-muted rounded-full overflow-hidden\">\r\n          <div className=\"h-full flex\">\r\n            <div\r\n              className=\"bg-[#ff6b6b] transition-all duration-500\"\r\n              style={{\r\n                width: `${Math.min(DEGRADED_THRESHOLD, signalHealth?.overall_score ?? 0)}%`,\r\n              }}\r\n            />\r\n            <div\r\n              className=\"bg-yellow-500 transition-all duration-500\"\r\n              style={{\r\n                width: `${Math.max(0, Math.min(HEALTHY_THRESHOLD - DEGRADED_THRESHOLD, (signalHealth?.overall_score ?? 0) - DEGRADED_THRESHOLD))}%`,\r\n              }}\r\n            />\r\n            <div\r\n              className=\"bg-[#00c7be] transition-all duration-500\"\r\n              style={{\r\n                width: `${Math.max(0, (signalHealth?.overall_score ?? 0) - HEALTHY_THRESHOLD)}%`,\r\n              }}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Threshold markers */}\r\n        <div className=\"flex justify-between text-xs text-muted-foreground\">\r\n          <span>0</span>\r\n          <span className=\"text-[#ff6b6b]\">Block (&lt;{DEGRADED_THRESHOLD})</span>\r\n          <span className=\"text-yellow-500\">\r\n            Hold ({DEGRADED_THRESHOLD}-{HEALTHY_THRESHOLD - 1})\r\n          </span>\r\n          <span className=\"text-[#00c7be]\">Pass (&gt;={HEALTHY_THRESHOLD})</span>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Action Mode */}\r\n      <div\r\n        className={cn('mt-6 pt-4 border-t flex items-center justify-between', config.borderColor)}\r\n      >\r\n        <div className=\"flex items-center gap-2\">\r\n          <ActionIcon className={cn('w-4 h-4', config.color)} />\r\n          <span className=\"text-sm font-medium\">{config.actionLabel}</span>\r\n        </div>\r\n        {signalHealth?.autopilot_enabled && gateStatus === 'PASS' && (\r\n          <span className=\"text-xs px-2 py-1 bg-[#00c7be]/10 text-[#00c7be] rounded-full font-medium\">\r\n            Active\r\n          </span>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","/**\r\n * RecommendationsCard - AI recommendations with approve/reject actions\r\n */\r\n\r\nimport { useState } from 'react';\r\nimport {\r\n  AlertTriangle,\r\n  ArrowRight,\r\n  Check,\r\n  Eye,\r\n  Loader2,\r\n  Pause,\r\n  Sparkles,\r\n  TrendingUp,\r\n  Wrench,\r\n  X,\r\n} from 'lucide-react';\r\nimport { cn } from '@/lib/utils';\r\nimport type { RecommendationItem, RecommendationType } from '@/api/dashboard';\r\n\r\ninterface RecommendationsCardProps {\r\n  recommendations: RecommendationItem[];\r\n  loading?: boolean;\r\n  onApprove: (id: string) => Promise<void>;\r\n  onReject: (id: string) => Promise<void>;\r\n  onViewAll?: () => void;\r\n}\r\n\r\nexport function RecommendationsCard({\r\n  recommendations,\r\n  loading = false,\r\n  onApprove,\r\n  onReject,\r\n  onViewAll,\r\n}: RecommendationsCardProps) {\r\n  const [processingId, setProcessingId] = useState<string | null>(null);\r\n\r\n  const getTypeConfig = (type: RecommendationType) => {\r\n    switch (type) {\r\n      case 'scale':\r\n        return {\r\n          icon: TrendingUp,\r\n          color: 'text-green-500',\r\n          bgColor: 'bg-green-500/10',\r\n          label: 'Scale',\r\n        };\r\n      case 'watch':\r\n        return {\r\n          icon: Eye,\r\n          color: 'text-blue-500',\r\n          bgColor: 'bg-blue-500/10',\r\n          label: 'Watch',\r\n        };\r\n      case 'fix':\r\n        return {\r\n          icon: Wrench,\r\n          color: 'text-orange-500',\r\n          bgColor: 'bg-orange-500/10',\r\n          label: 'Fix',\r\n        };\r\n      case 'pause':\r\n        return {\r\n          icon: Pause,\r\n          color: 'text-red-500',\r\n          bgColor: 'bg-red-500/10',\r\n          label: 'Pause',\r\n        };\r\n      default:\r\n        return {\r\n          icon: AlertTriangle,\r\n          color: 'text-muted-foreground',\r\n          bgColor: 'bg-muted',\r\n          label: type,\r\n        };\r\n    }\r\n  };\r\n\r\n  const handleApprove = async (id: string) => {\r\n    setProcessingId(id);\r\n    try {\r\n      await onApprove(id);\r\n    } finally {\r\n      setProcessingId(null);\r\n    }\r\n  };\r\n\r\n  const handleReject = async (id: string) => {\r\n    setProcessingId(id);\r\n    try {\r\n      await onReject(id);\r\n    } finally {\r\n      setProcessingId(null);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"bg-card border rounded-lg p-5 flex items-center justify-center min-h-[200px]\">\r\n        <Loader2 className=\"w-6 h-6 animate-spin text-muted-foreground\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const pendingRecommendations = recommendations.filter((r) => r.status === 'pending');\r\n\r\n  return (\r\n    <div className=\"bg-card border rounded-lg\">\r\n      <div className=\"flex items-center justify-between p-4 border-b\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <Sparkles className=\"w-5 h-5 text-primary\" />\r\n          <h3 className=\"font-semibold\">AI Recommendations</h3>\r\n          {pendingRecommendations.length > 0 && (\r\n            <span className=\"text-xs px-2 py-0.5 bg-primary/10 text-primary rounded-full font-medium\">\r\n              {pendingRecommendations.length}\r\n            </span>\r\n          )}\r\n        </div>\r\n        {onViewAll && (\r\n          <button\r\n            onClick={onViewAll}\r\n            className=\"text-sm text-muted-foreground hover:text-foreground transition-colors flex items-center gap-1\"\r\n          >\r\n            View all\r\n            <ArrowRight className=\"w-3 h-3\" />\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"divide-y\">\r\n        {pendingRecommendations.length === 0 ? (\r\n          <div className=\"p-8 text-center text-muted-foreground\">\r\n            <Sparkles className=\"w-8 h-8 mx-auto mb-2 opacity-50\" />\r\n            <p className=\"text-sm\">No pending recommendations</p>\r\n          </div>\r\n        ) : (\r\n          pendingRecommendations.slice(0, 5).map((rec) => {\r\n            const typeConfig = getTypeConfig(rec.type);\r\n            const TypeIcon = typeConfig.icon;\r\n            const isProcessing = processingId === rec.id;\r\n\r\n            return (\r\n              <div key={rec.id} className=\"p-4\">\r\n                <div className=\"flex items-start gap-3\">\r\n                  <div\r\n                    className={cn(\r\n                      'w-8 h-8 rounded-lg flex items-center justify-center flex-shrink-0',\r\n                      typeConfig.bgColor\r\n                    )}\r\n                  >\r\n                    <TypeIcon className={cn('w-4 h-4', typeConfig.color)} />\r\n                  </div>\r\n\r\n                  <div className=\"flex-1 min-w-0\">\r\n                    <div className=\"flex items-center gap-2 mb-1\">\r\n                      <span\r\n                        className={cn(\r\n                          'text-xs px-1.5 py-0.5 rounded font-medium',\r\n                          typeConfig.bgColor,\r\n                          typeConfig.color\r\n                        )}\r\n                      >\r\n                        {typeConfig.label}\r\n                      </span>\r\n                      <span className=\"text-xs text-muted-foreground\">{rec.platform}</span>\r\n                    </div>\r\n\r\n                    <h4 className=\"text-sm font-medium mb-1 line-clamp-1\">{rec.title}</h4>\r\n                    <p className=\"text-xs text-muted-foreground line-clamp-2\">{rec.description}</p>\r\n\r\n                    {rec.impact_estimate && (\r\n                      <div className=\"mt-2 text-xs text-green-500 font-medium\">\r\n                        {rec.impact_estimate}\r\n                      </div>\r\n                    )}\r\n\r\n                    {/* Confidence bar */}\r\n                    <div className=\"mt-2 flex items-center gap-2\">\r\n                      <div className=\"flex-1 h-1 bg-muted rounded-full overflow-hidden\">\r\n                        <div\r\n                          className={cn(\r\n                            'h-full rounded-full transition-all',\r\n                            rec.confidence >= 80\r\n                              ? 'bg-green-500'\r\n                              : rec.confidence >= 60\r\n                                ? 'bg-yellow-500'\r\n                                : 'bg-orange-500'\r\n                          )}\r\n                          style={{ width: `${rec.confidence}%` }}\r\n                        />\r\n                      </div>\r\n                      <span className=\"text-xs text-muted-foreground\">{rec.confidence}%</span>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Actions */}\r\n                  <div className=\"flex items-center gap-1\">\r\n                    {isProcessing ? (\r\n                      <Loader2 className=\"w-4 h-4 animate-spin text-muted-foreground\" />\r\n                    ) : (\r\n                      <>\r\n                        <button\r\n                          onClick={() => handleReject(rec.id)}\r\n                          className=\"p-1.5 rounded-lg text-muted-foreground hover:text-red-500 hover:bg-red-500/10 transition-colors\"\r\n                          title=\"Reject\"\r\n                        >\r\n                          <X className=\"w-4 h-4\" />\r\n                        </button>\r\n                        <button\r\n                          onClick={() => handleApprove(rec.id)}\r\n                          className=\"p-1.5 rounded-lg text-muted-foreground hover:text-green-500 hover:bg-green-500/10 transition-colors\"\r\n                          title=\"Approve\"\r\n                        >\r\n                          <Check className=\"w-4 h-4\" />\r\n                        </button>\r\n                      </>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            );\r\n          })\r\n        )}\r\n      </div>\r\n\r\n      {pendingRecommendations.length > 5 && (\r\n        <div className=\"p-3 border-t text-center\">\r\n          <button onClick={onViewAll} className=\"text-sm text-primary hover:underline\">\r\n            View {pendingRecommendations.length - 5} more recommendations\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","/**\r\n * ActivityFeed - Recent activity feed display\r\n */\r\n\r\nimport {\r\n  Activity,\r\n  AlertCircle,\r\n  AlertTriangle,\r\n  ArrowRight,\r\n  CheckCircle,\r\n  Info,\r\n  Key,\r\n  Loader2,\r\n  Settings,\r\n  Zap,\r\n} from 'lucide-react';\r\nimport { cn } from '@/lib/utils';\r\nimport type { ActivityItem } from '@/api/dashboard';\r\n\r\ninterface ActivityFeedProps {\r\n  activities: ActivityItem[];\r\n  loading?: boolean;\r\n  onViewAll?: () => void;\r\n}\r\n\r\nexport function ActivityFeed({ activities, loading = false, onViewAll }: ActivityFeedProps) {\r\n  const getTypeConfig = (type: ActivityItem['type']) => {\r\n    switch (type) {\r\n      case 'action':\r\n        return { icon: Zap, color: 'text-blue-500', bgColor: 'bg-blue-500/10' };\r\n      case 'alert':\r\n        return { icon: AlertCircle, color: 'text-yellow-500', bgColor: 'bg-yellow-500/10' };\r\n      case 'auth':\r\n        return { icon: Key, color: 'text-purple-500', bgColor: 'bg-purple-500/10' };\r\n      case 'system':\r\n        return { icon: Settings, color: 'text-muted-foreground', bgColor: 'bg-muted' };\r\n      default:\r\n        return { icon: Activity, color: 'text-muted-foreground', bgColor: 'bg-muted' };\r\n    }\r\n  };\r\n\r\n  const getSeverityConfig = (severity: ActivityItem['severity']) => {\r\n    switch (severity) {\r\n      case 'success':\r\n        return { icon: CheckCircle, color: 'text-green-500' };\r\n      case 'warning':\r\n        return { icon: AlertTriangle, color: 'text-yellow-500' };\r\n      case 'error':\r\n        return { icon: AlertCircle, color: 'text-red-500' };\r\n      case 'info':\r\n        return { icon: Info, color: 'text-blue-500' };\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  const formatTimestamp = (timestamp: string) => {\r\n    const date = new Date(timestamp);\r\n    const now = new Date();\r\n    const diffMs = now.getTime() - date.getTime();\r\n    const diffMins = Math.floor(diffMs / 60000);\r\n    const diffHours = Math.floor(diffMs / 3600000);\r\n    const diffDays = Math.floor(diffMs / 86400000);\r\n\r\n    if (diffMins < 1) return 'Just now';\r\n    if (diffMins < 60) return `${diffMins}m ago`;\r\n    if (diffHours < 24) return `${diffHours}h ago`;\r\n    if (diffDays < 7) return `${diffDays}d ago`;\r\n    return date.toLocaleDateString();\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"bg-card border rounded-lg p-5 flex items-center justify-center min-h-[200px]\">\r\n        <Loader2 className=\"w-6 h-6 animate-spin text-muted-foreground\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"bg-card border rounded-lg\">\r\n      <div className=\"flex items-center justify-between p-4 border-b\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <Activity className=\"w-5 h-5 text-primary\" />\r\n          <h3 className=\"font-semibold\">Recent Activity</h3>\r\n        </div>\r\n        {onViewAll && (\r\n          <button\r\n            onClick={onViewAll}\r\n            className=\"text-sm text-muted-foreground hover:text-foreground transition-colors flex items-center gap-1\"\r\n          >\r\n            View all\r\n            <ArrowRight className=\"w-3 h-3\" />\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"divide-y max-h-[400px] overflow-y-auto\">\r\n        {activities.length === 0 ? (\r\n          <div className=\"p-8 text-center text-muted-foreground\">\r\n            <Activity className=\"w-8 h-8 mx-auto mb-2 opacity-50\" />\r\n            <p className=\"text-sm\">No recent activity</p>\r\n          </div>\r\n        ) : (\r\n          activities.map((activity) => {\r\n            const typeConfig = getTypeConfig(activity.type);\r\n            const severityConfig = getSeverityConfig(activity.severity);\r\n            const TypeIcon = typeConfig.icon;\r\n            const SeverityIcon = severityConfig?.icon;\r\n\r\n            return (\r\n              <div key={activity.id} className=\"p-3 hover:bg-muted/50 transition-colors\">\r\n                <div className=\"flex items-start gap-3\">\r\n                  <div\r\n                    className={cn(\r\n                      'w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0',\r\n                      typeConfig.bgColor\r\n                    )}\r\n                  >\r\n                    <TypeIcon className={cn('w-4 h-4', typeConfig.color)} />\r\n                  </div>\r\n\r\n                  <div className=\"flex-1 min-w-0\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <span className=\"text-sm font-medium line-clamp-1\">{activity.title}</span>\r\n                      {SeverityIcon && (\r\n                        <SeverityIcon\r\n                          className={cn('w-3.5 h-3.5 flex-shrink-0', severityConfig?.color)}\r\n                        />\r\n                      )}\r\n                    </div>\r\n\r\n                    {activity.description && (\r\n                      <p className=\"text-xs text-muted-foreground mt-0.5 line-clamp-2\">\r\n                        {activity.description}\r\n                      </p>\r\n                    )}\r\n\r\n                    <div className=\"flex items-center gap-2 mt-1\">\r\n                      <span className=\"text-xs text-muted-foreground\">\r\n                        {formatTimestamp(activity.timestamp)}\r\n                      </span>\r\n                      {activity.entity_type && (\r\n                        <>\r\n                          <span className=\"text-xs text-muted-foreground\">Â·</span>\r\n                          <span className=\"text-xs text-muted-foreground capitalize\">\r\n                            {activity.entity_type}\r\n                          </span>\r\n                        </>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            );\r\n          })\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","/**\r\n * MetricCard - Dashboard metric display card\r\n */\r\n\r\nimport { ArrowDown, ArrowUp, Loader2, Minus } from 'lucide-react';\r\nimport { cn } from '@/lib/utils';\r\nimport type { TrendDirection } from '@/api/dashboard';\r\n\r\ninterface MetricCardProps {\r\n  title: string;\r\n  value: string;\r\n  change?: number | null;\r\n  trend?: TrendDirection;\r\n  icon?: React.ReactNode;\r\n  loading?: boolean;\r\n  size?: 'default' | 'small';\r\n  highlight?: boolean;\r\n  positive?: boolean;\r\n}\r\n\r\nexport function MetricCard({\r\n  title,\r\n  value,\r\n  change,\r\n  trend,\r\n  icon,\r\n  loading = false,\r\n  size = 'default',\r\n  highlight = false,\r\n  positive = false,\r\n}: MetricCardProps) {\r\n  const isSmall = size === 'small';\r\n\r\n  const getTrendIcon = () => {\r\n    if (!trend) return null;\r\n    switch (trend) {\r\n      case 'up':\r\n        return <ArrowUp className={cn('w-3 h-3', positive ? 'text-green-500' : 'text-red-500')} />;\r\n      case 'down':\r\n        return (\r\n          <ArrowDown className={cn('w-3 h-3', positive ? 'text-red-500' : 'text-green-500')} />\r\n        );\r\n      case 'stable':\r\n        return <Minus className=\"w-3 h-3 text-muted-foreground\" />;\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  const getChangeColor = () => {\r\n    if (change === null || change === undefined) return 'text-muted-foreground';\r\n    if (change === 0) return 'text-muted-foreground';\r\n    if (positive) {\r\n      return change > 0 ? 'text-green-500' : 'text-red-500';\r\n    }\r\n    return change > 0 ? 'text-red-500' : 'text-green-500';\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div\r\n        className={cn(\r\n          'metric-card info flex items-center justify-center',\r\n          isSmall ? 'p-3' : 'p-5'\r\n        )}\r\n      >\r\n        <Loader2 className=\"w-5 h-5 animate-spin text-muted-foreground\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={cn(\r\n        'metric-card',\r\n        positive ? 'success' : 'info',\r\n        isSmall ? 'p-3' : 'p-5',\r\n        highlight && 'premium'\r\n      )}\r\n    >\r\n      <div className=\"flex items-start justify-between\">\r\n        <div className=\"flex-1 min-w-0\">\r\n          <p\r\n            className={cn(\r\n              'text-muted-foreground font-medium truncate',\r\n              isSmall ? 'text-xs' : 'text-sm'\r\n            )}\r\n          >\r\n            {title}\r\n          </p>\r\n          <p\r\n            className={cn(\r\n              'font-bold mt-1 truncate',\r\n              isSmall ? 'text-lg' : 'text-2xl',\r\n              highlight && 'text-gradient'\r\n            )}\r\n          >\r\n            {value}\r\n          </p>\r\n          {change !== null && change !== undefined && (\r\n            <div className={cn('flex items-center gap-1 mt-1', getChangeColor())}>\r\n              {getTrendIcon()}\r\n              <span className={cn('font-medium', isSmall ? 'text-xs' : 'text-sm')}>\r\n                {change > 0 ? '+' : ''}\r\n                {change.toFixed(1)}%\r\n              </span>\r\n            </div>\r\n          )}\r\n        </div>\r\n        {icon && (\r\n          <div\r\n            className={cn(\r\n              'flex-shrink-0 rounded-lg bg-muted flex items-center justify-center',\r\n              isSmall ? 'w-8 h-8' : 'w-10 h-10',\r\n              highlight && 'bg-primary/10 text-primary'\r\n            )}\r\n          >\r\n            {icon}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","/**\r\n * PlatformBreakdown - Platform performance breakdown display\r\n */\r\n\r\nimport { AlertTriangle, BarChart3, CheckCircle2, Loader2, XCircle } from 'lucide-react';\r\nimport { cn } from '@/lib/utils';\r\nimport type { PlatformSummary } from '@/api/dashboard';\r\n\r\n// Platform icon components/colors with brand-dominant styling\r\nconst platformConfigs: Record<string, {\r\n  color: string;\r\n  bgColor: string;\r\n  brandHex: string;\r\n  borderColor: string;\r\n  gradientBg: string;\r\n}> = {\r\n  google: {\r\n    color: 'text-[#4285F4]', bgColor: 'bg-[#4285F4]/10',\r\n    brandHex: '#4285F4',\r\n    borderColor: 'border-[#4285F4]/25',\r\n    gradientBg: 'linear-gradient(135deg, rgba(66,133,244,0.08), rgba(66,133,244,0.02))',\r\n  },\r\n  meta: {\r\n    color: 'text-[#0866FF]', bgColor: 'bg-[#0866FF]/10',\r\n    brandHex: '#0866FF',\r\n    borderColor: 'border-[#0866FF]/25',\r\n    gradientBg: 'linear-gradient(135deg, rgba(8,102,255,0.08), rgba(8,102,255,0.02))',\r\n  },\r\n  facebook: {\r\n    color: 'text-[#1877F2]', bgColor: 'bg-[#1877F2]/10',\r\n    brandHex: '#1877F2',\r\n    borderColor: 'border-[#1877F2]/25',\r\n    gradientBg: 'linear-gradient(135deg, rgba(24,119,242,0.08), rgba(24,119,242,0.02))',\r\n  },\r\n  tiktok: {\r\n    color: 'text-[#00F2EA]', bgColor: 'bg-[#00F2EA]/10',\r\n    brandHex: '#00F2EA',\r\n    borderColor: 'border-[#00F2EA]/25',\r\n    gradientBg: 'linear-gradient(135deg, rgba(0,242,234,0.08), rgba(0,242,234,0.02))',\r\n  },\r\n  snapchat: {\r\n    color: 'text-[#FFFC00]', bgColor: 'bg-[#FFFC00]/10',\r\n    brandHex: '#FFFC00',\r\n    borderColor: 'border-[#FFFC00]/25',\r\n    gradientBg: 'linear-gradient(135deg, rgba(255,252,0,0.08), rgba(255,252,0,0.02))',\r\n  },\r\n  mercedes: {\r\n    color: 'text-[#A0A0A0]', bgColor: 'bg-[#A0A0A0]/10',\r\n    brandHex: '#A0A0A0',\r\n    borderColor: 'border-[#A0A0A0]/25',\r\n    gradientBg: 'linear-gradient(135deg, rgba(160,160,160,0.08), rgba(160,160,160,0.02))',\r\n  },\r\n  default: {\r\n    color: 'text-muted-foreground', bgColor: 'bg-muted',\r\n    brandHex: '#6B7280',\r\n    borderColor: 'border-white/10',\r\n    gradientBg: 'linear-gradient(135deg, rgba(255,255,255,0.05), rgba(255,255,255,0.02))',\r\n  },\r\n};\r\n\r\ninterface PlatformBreakdownProps {\r\n  platforms: PlatformSummary[];\r\n  loading?: boolean;\r\n}\r\n\r\nexport function PlatformBreakdown({ platforms, loading = false }: PlatformBreakdownProps) {\r\n  if (loading) {\r\n    return (\r\n      <div className=\"bg-card border rounded-lg p-5 flex items-center justify-center min-h-[120px]\">\r\n        <Loader2 className=\"w-6 h-6 animate-spin text-muted-foreground\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (platforms.length === 0) {\r\n    return (\r\n      <div className=\"bg-card border rounded-lg p-5 text-center text-muted-foreground\">\r\n        <BarChart3 className=\"w-8 h-8 mx-auto mb-2 opacity-50\" />\r\n        <p>No platforms connected</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const totalSpend = platforms.reduce((sum, p) => sum + p.spend, 0);\r\n  const totalRevenue = platforms.reduce((sum, p) => sum + p.revenue, 0);\r\n\r\n  const getStatusIcon = (status: PlatformSummary['status']) => {\r\n    switch (status) {\r\n      case 'connected':\r\n        return <CheckCircle2 className=\"w-4 h-4 text-[#00c7be]\" />;\r\n      case 'error':\r\n        return <AlertTriangle className=\"w-4 h-4 text-yellow-500\" />;\r\n      case 'disconnected':\r\n        return <XCircle className=\"w-4 h-4 text-[#ff6b6b]\" />;\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  const formatCurrency = (value: number) => {\r\n    return new Intl.NumberFormat('en-US', {\r\n      style: 'currency',\r\n      currency: 'USD',\r\n      minimumFractionDigits: 0,\r\n      maximumFractionDigits: 0,\r\n    }).format(value);\r\n  };\r\n\r\n  const formatRoas = (roas: number | null) => {\r\n    if (roas === null) return '-';\r\n    return `${roas.toFixed(2)}x`;\r\n  };\r\n\r\n  const getPlatformConfig = (platform: string) => {\r\n    const key = platform.toLowerCase();\r\n    return platformConfigs[key] || platformConfigs.default;\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-card border rounded-lg\">\r\n      <div className=\"flex items-center justify-between p-4 border-b\">\r\n        <h3 className=\"font-semibold\">Platform Performance</h3>\r\n        <div className=\"flex items-center gap-4 text-sm text-muted-foreground\">\r\n          <span>Total: {formatCurrency(totalSpend)} spend</span>\r\n          <span className=\"text-[#00c7be]\">{formatCurrency(totalRevenue)} revenue</span>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"overflow-x-auto\">\r\n        <div className=\"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 p-4\">\r\n          {platforms.map((platform) => {\r\n            const config = getPlatformConfig(platform.platform);\r\n            const spendPercentage = totalSpend > 0 ? (platform.spend / totalSpend) * 100 : 0;\r\n\r\n            return (\r\n              <div\r\n                key={platform.platform}\r\n                className={cn(\r\n                  'rounded-lg p-4 relative overflow-hidden backdrop-blur-md',\r\n                  'border transition-all duration-200',\r\n                  config.borderColor\r\n                )}\r\n                style={{\r\n                  background: config.gradientBg,\r\n                  boxShadow: 'inset 0 1px 1px rgba(255,255,255,0.08), 0 2px 12px rgba(0,0,0,0.15)',\r\n                }}\r\n              >\r\n                {/* Brand accent top bar */}\r\n                <div\r\n                  className=\"absolute top-0 left-0 right-0 h-[3px] rounded-t-lg\"\r\n                  style={{ background: config.brandHex }}\r\n                />\r\n                {/* Spend bar indicator */}\r\n                <div\r\n                  className={cn('absolute bottom-0 left-0 h-1 transition-all', config.bgColor)}\r\n                  style={{ width: `${spendPercentage}%`, backgroundColor: 'currentColor' }}\r\n                />\r\n\r\n                <div className=\"flex items-center justify-between mb-3\">\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <div\r\n                      className={cn(\r\n                        'w-8 h-8 rounded-lg flex items-center justify-center text-sm font-bold',\r\n                        config.bgColor,\r\n                        config.color\r\n                      )}\r\n                    >\r\n                      {platform.platform.charAt(0).toUpperCase()}\r\n                    </div>\r\n                    <span className=\"font-medium capitalize\">{platform.platform}</span>\r\n                  </div>\r\n                  {getStatusIcon(platform.status)}\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                  <div className=\"flex items-center justify-between text-sm\">\r\n                    <span className=\"text-muted-foreground\">Spend</span>\r\n                    <span className=\"font-medium\">{formatCurrency(platform.spend)}</span>\r\n                  </div>\r\n                  <div className=\"flex items-center justify-between text-sm\">\r\n                    <span className=\"text-muted-foreground\">Revenue</span>\r\n                    <span className=\"font-medium text-[#00c7be]\">\r\n                      {formatCurrency(platform.revenue)}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"flex items-center justify-between text-sm\">\r\n                    <span className=\"text-muted-foreground\">ROAS</span>\r\n                    <span\r\n                      className={cn(\r\n                        'font-medium',\r\n                        platform.roas !== null && platform.roas >= 3\r\n                          ? 'text-[#00c7be]'\r\n                          : platform.roas !== null && platform.roas >= 1\r\n                            ? 'text-yellow-500'\r\n                            : 'text-muted-foreground'\r\n                      )}\r\n                    >\r\n                      {formatRoas(platform.roas)}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"flex items-center justify-between text-sm\">\r\n                    <span className=\"text-muted-foreground\">Campaigns</span>\r\n                    <span className=\"font-medium\">{platform.campaigns_count}</span>\r\n                  </div>\r\n                </div>\r\n\r\n                {platform.last_synced_at && (\r\n                  <div className=\"mt-3 pt-2 border-t text-xs text-muted-foreground\">\r\n                    Synced {new Date(platform.last_synced_at).toLocaleTimeString()}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","/**\r\n * CampaignPerformanceTable - Top campaigns performance display\r\n */\r\n\r\nimport {\r\n  ArrowDown,\r\n  ArrowRight,\r\n  ArrowUp,\r\n  BarChart3,\r\n  Loader2,\r\n  Minus,\r\n  TrendingUp,\r\n} from 'lucide-react';\r\nimport { cn } from '@/lib/utils';\r\nimport type { CampaignSummaryItem, TrendDirection } from '@/api/dashboard';\r\n\r\ninterface CampaignPerformanceTableProps {\r\n  campaigns: CampaignSummaryItem[];\r\n  loading?: boolean;\r\n  onViewAll?: () => void;\r\n}\r\n\r\nexport function CampaignPerformanceTable({\r\n  campaigns,\r\n  loading = false,\r\n  onViewAll,\r\n}: CampaignPerformanceTableProps) {\r\n  const formatCurrency = (value: number) => {\r\n    return new Intl.NumberFormat('en-US', {\r\n      style: 'currency',\r\n      currency: 'USD',\r\n      minimumFractionDigits: 0,\r\n      maximumFractionDigits: 0,\r\n    }).format(value);\r\n  };\r\n\r\n  const formatRoas = (roas: number | null) => {\r\n    if (roas === null) return '-';\r\n    return `${roas.toFixed(2)}x`;\r\n  };\r\n\r\n  const getTrendIcon = (trend: TrendDirection) => {\r\n    switch (trend) {\r\n      case 'up':\r\n        return <ArrowUp className=\"w-3 h-3 text-green-500\" />;\r\n      case 'down':\r\n        return <ArrowDown className=\"w-3 h-3 text-red-500\" />;\r\n      case 'stable':\r\n        return <Minus className=\"w-3 h-3 text-muted-foreground\" />;\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  const getScalingScoreColor = (score: number | null) => {\r\n    if (score === null) return 'text-muted-foreground';\r\n    if (score >= 80) return 'text-green-500';\r\n    if (score >= 60) return 'text-yellow-500';\r\n    return 'text-red-500';\r\n  };\r\n\r\n  const getStatusBadge = (status: string) => {\r\n    const statusLower = status.toLowerCase();\r\n    if (statusLower === 'active' || statusLower === 'enabled') {\r\n      return (\r\n        <span className=\"text-xs px-2 py-0.5 bg-green-500/10 text-green-500 rounded-full font-medium\">\r\n          Active\r\n        </span>\r\n      );\r\n    }\r\n    if (statusLower === 'paused') {\r\n      return (\r\n        <span className=\"text-xs px-2 py-0.5 bg-yellow-500/10 text-yellow-500 rounded-full font-medium\">\r\n          Paused\r\n        </span>\r\n      );\r\n    }\r\n    return (\r\n      <span className=\"text-xs px-2 py-0.5 bg-muted text-muted-foreground rounded-full font-medium\">\r\n        {status}\r\n      </span>\r\n    );\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"bg-card border rounded-lg p-5 flex items-center justify-center min-h-[300px]\">\r\n        <Loader2 className=\"w-6 h-6 animate-spin text-muted-foreground\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"bg-card border rounded-lg\">\r\n      <div className=\"flex items-center justify-between p-4 border-b\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <TrendingUp className=\"w-5 h-5 text-primary\" />\r\n          <h3 className=\"font-semibold\">Top Campaigns</h3>\r\n        </div>\r\n        {onViewAll && (\r\n          <button\r\n            onClick={onViewAll}\r\n            className=\"text-sm text-muted-foreground hover:text-foreground transition-colors flex items-center gap-1\"\r\n          >\r\n            View all\r\n            <ArrowRight className=\"w-3 h-3\" />\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      {campaigns.length === 0 ? (\r\n        <div className=\"p-8 text-center text-muted-foreground\">\r\n          <BarChart3 className=\"w-8 h-8 mx-auto mb-2 opacity-50\" />\r\n          <p>No campaigns to display</p>\r\n        </div>\r\n      ) : (\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"w-full\">\r\n            <thead>\r\n              <tr className=\"border-b text-left text-xs text-muted-foreground\">\r\n                <th className=\"p-3 font-medium\">Campaign</th>\r\n                <th className=\"p-3 font-medium\">Platform</th>\r\n                <th className=\"p-3 font-medium\">Status</th>\r\n                <th className=\"p-3 font-medium text-right\">Spend</th>\r\n                <th className=\"p-3 font-medium text-right\">Revenue</th>\r\n                <th className=\"p-3 font-medium text-right\">ROAS</th>\r\n                <th className=\"p-3 font-medium text-right\">Conv.</th>\r\n                <th className=\"p-3 font-medium text-center\">Score</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody className=\"divide-y\">\r\n              {campaigns.map((campaign) => (\r\n                <tr key={campaign.id} className=\"hover:bg-muted/50 transition-colors\">\r\n                  <td className=\"p-3\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                      {getTrendIcon(campaign.trend)}\r\n                      <div className=\"min-w-0\">\r\n                        <div className=\"font-medium truncate max-w-[200px]\" title={campaign.name}>\r\n                          {campaign.name}\r\n                        </div>\r\n                        {campaign.recommendation && (\r\n                          <div className=\"text-xs text-primary truncate max-w-[200px]\">\r\n                            {campaign.recommendation}\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </td>\r\n                  <td className=\"p-3\">\r\n                    <span className=\"text-sm capitalize\">{campaign.platform}</span>\r\n                  </td>\r\n                  <td className=\"p-3\">{getStatusBadge(campaign.status)}</td>\r\n                  <td className=\"p-3 text-right text-sm font-medium\">\r\n                    {formatCurrency(campaign.spend)}\r\n                  </td>\r\n                  <td className=\"p-3 text-right text-sm font-medium text-green-500\">\r\n                    {formatCurrency(campaign.revenue)}\r\n                  </td>\r\n                  <td className=\"p-3 text-right\">\r\n                    <span\r\n                      className={cn(\r\n                        'text-sm font-medium',\r\n                        campaign.roas !== null && campaign.roas >= 3\r\n                          ? 'text-green-500'\r\n                          : campaign.roas !== null && campaign.roas >= 1\r\n                            ? 'text-yellow-500'\r\n                            : 'text-muted-foreground'\r\n                      )}\r\n                    >\r\n                      {formatRoas(campaign.roas)}\r\n                    </span>\r\n                  </td>\r\n                  <td className=\"p-3 text-right text-sm font-medium\">\r\n                    {campaign.conversions.toLocaleString()}\r\n                  </td>\r\n                  <td className=\"p-3 text-center\">\r\n                    <span\r\n                      className={cn(\r\n                        'text-sm font-bold',\r\n                        getScalingScoreColor(campaign.scaling_score)\r\n                      )}\r\n                    >\r\n                      {campaign.scaling_score !== null ? campaign.scaling_score : '-'}\r\n                    </span>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","/**\r\n * QuickActionsBar - Quick action buttons bar\r\n */\r\n\r\nimport { useNavigate } from 'react-router-dom';\r\nimport {\r\n  AlertCircle,\r\n  BarChart3,\r\n  Bell,\r\n  Link2,\r\n  Plus,\r\n  RefreshCw,\r\n  Settings,\r\n  Sparkles,\r\n  Zap,\r\n} from 'lucide-react';\r\nimport { cn } from '@/lib/utils';\r\nimport type { QuickAction } from '@/api/dashboard';\r\n\r\n// Icon mapping for quick actions\r\nconst iconMap: Record<string, React.ComponentType<{ className?: string }>> = {\r\n  plus: Plus,\r\n  link: Link2,\r\n  sparkles: Sparkles,\r\n  zap: Zap,\r\n  settings: Settings,\r\n  refresh: RefreshCw,\r\n  bell: Bell,\r\n  alert: AlertCircle,\r\n  chart: BarChart3,\r\n};\r\n\r\ninterface QuickActionsBarProps {\r\n  actions: QuickAction[];\r\n}\r\n\r\nexport function QuickActionsBar({ actions }: QuickActionsBarProps) {\r\n  const navigate = useNavigate();\r\n\r\n  if (actions.length === 0) {\r\n    return null;\r\n  }\r\n\r\n  const handleAction = (action: QuickAction) => {\r\n    // Handle different action types\r\n    if (action.action.startsWith('/')) {\r\n      navigate(action.action);\r\n    } else if (action.action.startsWith('http')) {\r\n      window.open(action.action, '_blank');\r\n    } else {\r\n      // Emit custom event for action handlers\r\n      window.dispatchEvent(new CustomEvent('quick-action', { detail: action }));\r\n    }\r\n  };\r\n\r\n  const getIcon = (iconName: string) => {\r\n    const Icon = iconMap[iconName.toLowerCase()] || Zap;\r\n    return Icon;\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-wrap gap-2\">\r\n      {actions.map((action) => {\r\n        const Icon = getIcon(action.icon);\r\n\r\n        return (\r\n          <button\r\n            key={action.id}\r\n            onClick={() => handleAction(action)}\r\n            className={cn(\r\n              'inline-flex items-center gap-2 px-4 py-2 rounded-lg',\r\n              'bg-card border hover:bg-muted transition-colors',\r\n              'text-sm font-medium'\r\n            )}\r\n          >\r\n            <Icon className=\"w-4 h-4 text-primary\" />\r\n            <span>{action.label}</span>\r\n            {action.count !== null && action.count > 0 && (\r\n              <span className=\"ml-1 px-1.5 py-0.5 text-xs bg-primary/10 text-primary rounded-full font-medium\">\r\n                {action.count}\r\n              </span>\r\n            )}\r\n          </button>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n","/**\r\n * Stratum AI - Unified Dashboard\r\n *\r\n * Main dashboard component that integrates all backend APIs:\r\n * - Overview metrics with real data\r\n * - Signal health & trust gate status\r\n * - AI recommendations with approve/reject\r\n * - Activity feed\r\n * - Platform performance\r\n * - Quick actions\r\n */\r\n\r\nimport { useCallback, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport {\r\n  ArrowRight,\r\n  BarChart3,\r\n  ChevronDown,\r\n  DollarSign,\r\n  Loader2,\r\n  MousePointerClick,\r\n  RefreshCw,\r\n  Settings,\r\n  Target,\r\n  TrendingUp,\r\n} from 'lucide-react';\r\nimport { cn } from '@/lib/utils';\r\nimport {\r\n  TimePeriod,\r\n  useApproveRecommendation,\r\n  useDashboardActivity,\r\n  useDashboardCampaigns,\r\n  useDashboardOverview,\r\n  useDashboardQuickActions,\r\n  useDashboardRecommendations,\r\n  useDashboardSignalHealth,\r\n  useRejectRecommendation,\r\n} from '@/api/dashboard';\r\n\r\n// Components\r\nimport { SignalHealthCard } from './widgets/SignalHealthCard';\r\nimport { TrustGateStatus } from './widgets/TrustGateStatus';\r\nimport { RecommendationsCard } from './widgets/RecommendationsCard';\r\nimport { ActivityFeed } from './widgets/ActivityFeed';\r\nimport { MetricCard } from './widgets/MetricCard';\r\nimport { PlatformBreakdown } from './widgets/PlatformBreakdown';\r\nimport { CampaignPerformanceTable } from './widgets/CampaignPerformanceTable';\r\nimport { QuickActionsBar } from './widgets/QuickActionsBar';\r\n\r\n// Period options\r\nconst periodOptions: { value: TimePeriod; label: string }[] = [\r\n  { value: 'today', label: 'Today' },\r\n  { value: 'yesterday', label: 'Yesterday' },\r\n  { value: '7d', label: 'Last 7 Days' },\r\n  { value: '30d', label: 'Last 30 Days' },\r\n  { value: '90d', label: 'Last 90 Days' },\r\n  { value: 'this_month', label: 'This Month' },\r\n  { value: 'last_month', label: 'Last Month' },\r\n];\r\n\r\nexport default function UnifiedDashboard() {\r\n  const navigate = useNavigate();\r\n  const [period, setPeriod] = useState<TimePeriod>('7d');\r\n  const [showPeriodDropdown, setShowPeriodDropdown] = useState(false);\r\n\r\n  // Fetch all dashboard data\r\n  const {\r\n    data: overview,\r\n    isLoading: overviewLoading,\r\n    refetch: refetchOverview,\r\n  } = useDashboardOverview(period);\r\n\r\n  const { data: campaigns, isLoading: campaignsLoading } = useDashboardCampaigns({\r\n    period,\r\n    page_size: 5,\r\n    sort_by: 'spend',\r\n    sort_order: 'desc',\r\n  });\r\n\r\n  const { data: recommendations, isLoading: recommendationsLoading } = useDashboardRecommendations({\r\n    limit: 5,\r\n  });\r\n\r\n  const { data: activity, isLoading: activityLoading } = useDashboardActivity({\r\n    limit: 10,\r\n  });\r\n\r\n  const { data: signalHealth, isLoading: signalHealthLoading } = useDashboardSignalHealth();\r\n\r\n  const { data: quickActions } = useDashboardQuickActions();\r\n\r\n  // Mutations\r\n  const approveRecommendation = useApproveRecommendation();\r\n  const rejectRecommendation = useRejectRecommendation();\r\n\r\n  // Handlers\r\n  const handleRefresh = useCallback(() => {\r\n    refetchOverview();\r\n  }, [refetchOverview]);\r\n\r\n  const handlePeriodChange = useCallback((newPeriod: TimePeriod) => {\r\n    setPeriod(newPeriod);\r\n    setShowPeriodDropdown(false);\r\n  }, []);\r\n\r\n  const handleApproveRecommendation = useCallback(\r\n    async (id: string) => {\r\n      await approveRecommendation.mutateAsync(id);\r\n    },\r\n    [approveRecommendation]\r\n  );\r\n\r\n  const handleRejectRecommendation = useCallback(\r\n    async (id: string) => {\r\n      await rejectRecommendation.mutateAsync(id);\r\n    },\r\n    [rejectRecommendation]\r\n  );\r\n\r\n  const isLoading = overviewLoading || signalHealthLoading;\r\n\r\n  // Check if user needs to complete onboarding\r\n  if (overview && !overview.onboarding_complete) {\r\n    return (\r\n      <div className=\"min-h-[80vh] flex items-center justify-center\">\r\n        <div className=\"text-center max-w-md mx-auto p-8\">\r\n          <div className=\"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-6\">\r\n            <Settings className=\"w-8 h-8 text-primary\" />\r\n          </div>\r\n          <h2 className=\"text-2xl font-bold mb-3\">Complete Your Setup</h2>\r\n          <p className=\"text-muted-foreground mb-6\">\r\n            Let's get your account set up so you can start optimizing your campaigns with Stratum\r\n            AI.\r\n          </p>\r\n          <button\r\n            onClick={() => navigate('/onboarding')}\r\n            className=\"inline-flex items-center px-6 py-3 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors\"\r\n          >\r\n            Start Setup\r\n            <ArrowRight className=\"w-4 h-4 ml-2\" />\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex flex-col lg:flex-row lg:items-center justify-between gap-4\">\r\n        <div>\r\n          <h1 className=\"text-2xl lg:text-3xl font-bold\">Dashboard</h1>\r\n          <p className=\"text-muted-foreground mt-1\">\r\n            {overview?.period_label || 'Last 7 Days'} Overview\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"flex items-center gap-3\">\r\n          {/* Period Selector */}\r\n          <div className=\"relative\">\r\n            <button\r\n              onClick={() => setShowPeriodDropdown(!showPeriodDropdown)}\r\n              className=\"inline-flex items-center px-4 py-2 border rounded-lg text-sm font-medium bg-background hover:bg-muted transition-colors\"\r\n            >\r\n              {periodOptions.find((p) => p.value === period)?.label || 'Last 7 Days'}\r\n              <ChevronDown className=\"w-4 h-4 ml-2\" />\r\n            </button>\r\n\r\n            {showPeriodDropdown && (\r\n              <>\r\n                <div className=\"fixed inset-0 z-10\" onClick={() => setShowPeriodDropdown(false)} />\r\n                <div className=\"absolute right-0 mt-2 w-48 bg-card border rounded-lg shadow-lg z-20 py-1\">\r\n                  {periodOptions.map((option) => (\r\n                    <button\r\n                      key={option.value}\r\n                      onClick={() => handlePeriodChange(option.value)}\r\n                      className={cn(\r\n                        'w-full px-4 py-2 text-left text-sm hover:bg-muted transition-colors',\r\n                        period === option.value && 'bg-muted font-medium'\r\n                      )}\r\n                    >\r\n                      {option.label}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              </>\r\n            )}\r\n          </div>\r\n\r\n          {/* Refresh Button */}\r\n          <button\r\n            onClick={handleRefresh}\r\n            disabled={isLoading}\r\n            className=\"inline-flex items-center px-4 py-2 border rounded-lg text-sm font-medium bg-background hover:bg-muted transition-colors disabled:opacity-50\"\r\n          >\r\n            {isLoading ? (\r\n              <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\r\n            ) : (\r\n              <RefreshCw className=\"w-4 h-4 mr-2\" />\r\n            )}\r\n            Refresh\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Quick Actions Bar */}\r\n      {quickActions && <QuickActionsBar actions={quickActions.actions} />}\r\n\r\n      {/* Trust Gate & Signal Health Section */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n        <div className=\"lg:col-span-2\">\r\n          <TrustGateStatus signalHealth={signalHealth} loading={signalHealthLoading} />\r\n        </div>\r\n        <div>\r\n          <SignalHealthCard signalHealth={signalHealth} loading={signalHealthLoading} />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Key Metrics */}\r\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n        <MetricCard\r\n          title=\"Total Spend\"\r\n          value={overview?.metrics.spend.formatted || '$0'}\r\n          change={overview?.metrics.spend.change_percent}\r\n          trend={overview?.metrics.spend.trend}\r\n          icon={<DollarSign className=\"w-5 h-5\" />}\r\n          loading={overviewLoading}\r\n        />\r\n        <MetricCard\r\n          title=\"Revenue\"\r\n          value={overview?.metrics.revenue.formatted || '$0'}\r\n          change={overview?.metrics.revenue.change_percent}\r\n          trend={overview?.metrics.revenue.trend}\r\n          icon={<TrendingUp className=\"w-5 h-5\" />}\r\n          loading={overviewLoading}\r\n          positive\r\n        />\r\n        <MetricCard\r\n          title=\"ROAS\"\r\n          value={overview?.metrics.roas.formatted || '0x'}\r\n          change={overview?.metrics.roas.change_percent}\r\n          trend={overview?.metrics.roas.trend}\r\n          icon={<Target className=\"w-5 h-5\" />}\r\n          loading={overviewLoading}\r\n          highlight={(overview?.metrics.roas.value ?? 0) >= 3}\r\n          positive\r\n        />\r\n        <MetricCard\r\n          title=\"Conversions\"\r\n          value={overview?.metrics.conversions.formatted || '0'}\r\n          change={overview?.metrics.conversions.change_percent}\r\n          trend={overview?.metrics.conversions.trend}\r\n          icon={<MousePointerClick className=\"w-5 h-5\" />}\r\n          loading={overviewLoading}\r\n          positive\r\n        />\r\n      </div>\r\n\r\n      {/* Secondary Metrics Row */}\r\n      <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-4\">\r\n        <MetricCard\r\n          title=\"CPA\"\r\n          value={overview?.metrics.cpa.formatted || '$0'}\r\n          change={overview?.metrics.cpa.change_percent}\r\n          trend={overview?.metrics.cpa.trend}\r\n          icon={<DollarSign className=\"w-4 h-4\" />}\r\n          size=\"small\"\r\n          loading={overviewLoading}\r\n        />\r\n        <MetricCard\r\n          title=\"CTR\"\r\n          value={overview?.metrics.ctr.formatted || '0%'}\r\n          change={overview?.metrics.ctr.change_percent}\r\n          trend={overview?.metrics.ctr.trend}\r\n          icon={<MousePointerClick className=\"w-4 h-4\" />}\r\n          size=\"small\"\r\n          loading={overviewLoading}\r\n        />\r\n        <MetricCard\r\n          title=\"Impressions\"\r\n          value={overview?.metrics.impressions.formatted || '0'}\r\n          icon={<BarChart3 className=\"w-4 h-4\" />}\r\n          size=\"small\"\r\n          loading={overviewLoading}\r\n        />\r\n        <MetricCard\r\n          title=\"Clicks\"\r\n          value={overview?.metrics.clicks.formatted || '0'}\r\n          icon={<MousePointerClick className=\"w-4 h-4\" />}\r\n          size=\"small\"\r\n          loading={overviewLoading}\r\n        />\r\n      </div>\r\n\r\n      {/* Platform Breakdown */}\r\n      <PlatformBreakdown platforms={overview?.platforms || []} loading={overviewLoading} />\r\n\r\n      {/* Main Content Grid */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n        {/* Campaigns Table - Takes 2 columns */}\r\n        <div className=\"lg:col-span-2\">\r\n          <CampaignPerformanceTable\r\n            campaigns={campaigns?.campaigns || []}\r\n            loading={campaignsLoading}\r\n            onViewAll={() => navigate('/dashboard/campaigns')}\r\n          />\r\n        </div>\r\n\r\n        {/* Right Column - Recommendations & Activity */}\r\n        <div className=\"space-y-6\">\r\n          <RecommendationsCard\r\n            recommendations={recommendations?.recommendations || []}\r\n            loading={recommendationsLoading}\r\n            onApprove={handleApproveRecommendation}\r\n            onReject={handleRejectRecommendation}\r\n            onViewAll={() => navigate('/dashboard/recommendations')}\r\n          />\r\n\r\n          <ActivityFeed\r\n            activities={activity?.activities || []}\r\n            loading={activityLoading}\r\n            onViewAll={() => navigate('/dashboard/activity')}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["__iconNode","ArrowUp","createLucideIcon","Hand","MousePointerClick","ShieldAlert","ShieldCheck","ShieldOff","dashboardApi","period","apiClient","params","recommendationId","useDashboardOverview","enabled","useQuery","useDashboardCampaigns","useDashboardRecommendations","useApproveRecommendation","queryClient","useQueryClient","useMutation","useRejectRecommendation","useDashboardActivity","useDashboardQuickActions","useDashboardSignalHealth","SignalHealthCard","signalHealth","loading","jsx","Loader2","jsxs","Activity","statusConfig","status","CheckCircle2","AlertTriangle","XCircle","StatusIcon","getScoreColor","score","formatFreshness","minutes","hours","cn","Clock","Server","Zap","issue","index","HEALTHY_THRESHOLD","DEGRADED_THRESHOLD","TrustGateStatus","gateStatus","config","GateIcon","ActionIcon","RecommendationsCard","recommendations","onApprove","onReject","onViewAll","processingId","setProcessingId","useState","getTypeConfig","type","TrendingUp","Eye","Wrench","Pause","handleApprove","id","handleReject","pendingRecommendations","r","Sparkles","ArrowRight","rec","typeConfig","TypeIcon","isProcessing","Fragment","X","Check","ActivityFeed","activities","AlertCircle","Key","Settings","getSeverityConfig","severity","CheckCircle","Info","formatTimestamp","timestamp","date","diffMs","diffMins","diffHours","diffDays","activity","severityConfig","SeverityIcon","MetricCard","title","value","change","trend","icon","size","highlight","positive","isSmall","getTrendIcon","ArrowDown","Minus","getChangeColor","platformConfigs","PlatformBreakdown","platforms","BarChart3","totalSpend","sum","p","totalRevenue","getStatusIcon","formatCurrency","formatRoas","roas","getPlatformConfig","platform","key","spendPercentage","CampaignPerformanceTable","campaigns","getScalingScoreColor","getStatusBadge","statusLower","campaign","iconMap","Plus","Link2","RefreshCw","Bell","QuickActionsBar","actions","navigate","useNavigate","handleAction","action","getIcon","iconName","Icon","periodOptions","UnifiedDashboard","setPeriod","showPeriodDropdown","setShowPeriodDropdown","overview","overviewLoading","refetchOverview","campaignsLoading","recommendationsLoading","activityLoading","signalHealthLoading","quickActions","approveRecommendation","rejectRecommendation","handleRefresh","useCallback","handlePeriodChange","newPeriod","handleApproveRecommendation","handleRejectRecommendation","isLoading","_a","ChevronDown","option","DollarSign","Target"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5]}