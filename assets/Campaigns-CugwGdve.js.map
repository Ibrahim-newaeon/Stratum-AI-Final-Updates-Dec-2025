{"version":3,"file":"Campaigns-CugwGdve.js","sources":["../../node_modules/lucide-react/dist/esm/icons/bookmark.js","../../node_modules/lucide-react/dist/esm/icons/user-plus.js","../../node_modules/lucide-react/dist/esm/icons/users-round.js","../../src/components/campaigns/CampaignCreateModal.tsx","../../src/views/Campaigns.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M17 3a2 2 0 0 1 2 2v15a1 1 0 0 1-1.496.868l-4.512-2.578a2 2 0 0 0-1.984 0l-4.512 2.578A1 1 0 0 1 5 20V5a2 2 0 0 1 2-2z\",\n      key: \"oz39mx\"\n    }\n  ]\n];\nconst Bookmark = createLucideIcon(\"bookmark\", __iconNode);\n\nexport { __iconNode, Bookmark as default };\n//# sourceMappingURL=bookmark.js.map\n","/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2\", key: \"1yyitq\" }],\n  [\"circle\", { cx: \"9\", cy: \"7\", r: \"4\", key: \"nufk8\" }],\n  [\"line\", { x1: \"19\", x2: \"19\", y1: \"8\", y2: \"14\", key: \"1bvyxn\" }],\n  [\"line\", { x1: \"22\", x2: \"16\", y1: \"11\", y2: \"11\", key: \"1shjgl\" }]\n];\nconst UserPlus = createLucideIcon(\"user-plus\", __iconNode);\n\nexport { __iconNode, UserPlus as default };\n//# sourceMappingURL=user-plus.js.map\n","/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M18 21a8 8 0 0 0-16 0\", key: \"3ypg7q\" }],\n  [\"circle\", { cx: \"10\", cy: \"8\", r: \"5\", key: \"o932ke\" }],\n  [\"path\", { d: \"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3\", key: \"10s06x\" }]\n];\nconst UsersRound = createLucideIcon(\"users-round\", __iconNode);\n\nexport { __iconNode, UsersRound as default };\n//# sourceMappingURL=users-round.js.map\n","/**\r\n * Campaign Creation Modal\r\n * Multi-step wizard for creating campaigns across all platforms\r\n */\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport {\r\n  AlertCircle,\r\n  Bookmark,\r\n  Check,\r\n  ChevronLeft,\r\n  ChevronRight,\r\n  DollarSign,\r\n  Loader2,\r\n  RefreshCw,\r\n  Settings,\r\n  UserPlus,\r\n  Users,\r\n  UsersRound,\r\n  X,\r\n} from 'lucide-react';\r\nimport { cn } from '@/lib/utils';\r\nimport { Platform, useAdAccounts } from '@/api/campaignBuilder';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\n\r\ninterface CampaignCreateModalProps {\r\n  open: boolean;\r\n  onClose: () => void;\r\n  onSuccess?: (campaign: any) => void;\r\n}\r\n\r\n// Platform configurations\r\nconst PLATFORMS = [\r\n  {\r\n    id: 'meta',\r\n    name: 'Meta',\r\n    description: 'Facebook & Instagram Ads',\r\n    color: 'bg-blue-600',\r\n    objectives: ['AWARENESS', 'TRAFFIC', 'ENGAGEMENT', 'LEADS', 'APP_PROMOTION', 'SALES'],\r\n  },\r\n  {\r\n    id: 'google',\r\n    name: 'Google',\r\n    description: 'Search, Display & YouTube',\r\n    color: 'bg-red-500',\r\n    objectives: ['SEARCH', 'DISPLAY', 'VIDEO', 'SHOPPING', 'PERFORMANCE_MAX', 'DISCOVERY'],\r\n  },\r\n  {\r\n    id: 'tiktok',\r\n    name: 'TikTok',\r\n    description: 'TikTok For Business',\r\n    color: 'bg-black',\r\n    objectives: [\r\n      'REACH',\r\n      'TRAFFIC',\r\n      'VIDEO_VIEWS',\r\n      'COMMUNITY_INTERACTION',\r\n      'CONVERSIONS',\r\n      'APP_PROMOTION',\r\n    ],\r\n  },\r\n  {\r\n    id: 'snapchat',\r\n    name: 'Snapchat',\r\n    description: 'Snapchat Ads Manager',\r\n    color: 'bg-yellow-400',\r\n    objectives: ['AWARENESS', 'CONSIDERATION', 'CONVERSIONS', 'CATALOG_SALES'],\r\n  },\r\n];\r\n\r\n// Audience types for when API is available\r\ninterface CustomAudience {\r\n  id: string;\r\n  name: string;\r\n  size: number;\r\n}\r\n\r\ninterface LookalikeAudience {\r\n  id: string;\r\n  name: string;\r\n  size: number;\r\n  source: string;\r\n}\r\n\r\ninterface SavedAudience {\r\n  id: string;\r\n  name: string;\r\n  description: string;\r\n}\r\n\r\ninterface PlatformAudiences {\r\n  custom: CustomAudience[];\r\n  lookalike: LookalikeAudience[];\r\n  saved: SavedAudience[];\r\n}\r\n\r\nconst STEPS = ['platform', 'basics', 'budget', 'targeting'] as const;\r\ntype Step = (typeof STEPS)[number];\r\n\r\ninterface FormData {\r\n  // Platform\r\n  platform: string;\r\n  // Basics\r\n  name: string;\r\n  objective: string;\r\n  external_id: string;\r\n  account_id: string;\r\n  status: string;\r\n  // Budget\r\n  daily_budget: string;\r\n  lifetime_budget: string;\r\n  currency: string;\r\n  start_date: string;\r\n  end_date: string;\r\n  // Targeting\r\n  targeting_age_min: string;\r\n  targeting_age_max: string;\r\n  targeting_genders: string[];\r\n  targeting_locations: string;\r\n  targeting_interests: string;\r\n  // Audiences\r\n  custom_audiences: string[];\r\n  lookalike_audiences: string[];\r\n  saved_audiences: string[];\r\n}\r\n\r\nconst initialFormData: FormData = {\r\n  platform: '',\r\n  name: '',\r\n  objective: '',\r\n  external_id: '',\r\n  account_id: '',\r\n  status: 'draft',\r\n  daily_budget: '',\r\n  lifetime_budget: '',\r\n  currency: 'USD',\r\n  start_date: '',\r\n  end_date: '',\r\n  targeting_age_min: '18',\r\n  targeting_age_max: '65',\r\n  targeting_genders: [],\r\n  targeting_locations: '',\r\n  targeting_interests: '',\r\n  custom_audiences: [],\r\n  lookalike_audiences: [],\r\n  saved_audiences: [],\r\n};\r\n\r\nexport function CampaignCreateModal({ open, onClose, onSuccess }: CampaignCreateModalProps) {\r\n  const { t } = useTranslation();\r\n  const { user } = useAuth();\r\n  const [currentStep, setCurrentStep] = useState<Step>('platform');\r\n  const [formData, setFormData] = useState<FormData>(initialFormData);\r\n  const [errors, setErrors] = useState<Partial<Record<keyof FormData, string>>>({});\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [submitError, setSubmitError] = useState<string | null>(null);\r\n  const [audienceTab, setAudienceTab] = useState<'custom' | 'lookalike' | 'saved'>('custom');\r\n  const [platformAudiences, setPlatformAudiences] = useState<PlatformAudiences | null>(null);\r\n\r\n  const tenantId = user?.tenant_id || 0;\r\n  const currentStepIndex = STEPS.indexOf(currentStep);\r\n  const selectedPlatform = PLATFORMS.find((p) => p.id === formData.platform);\r\n\r\n  // Fetch ad accounts from real API\r\n  const {\r\n    data: adAccounts = [],\r\n    isLoading: isLoadingAccounts,\r\n    refetch: _refetchAccounts,\r\n  } = useAdAccounts(\r\n    tenantId,\r\n    formData.platform as Platform,\r\n    true // enabled only\r\n  );\r\n\r\n  // Auto-select first account when accounts load\r\n  useEffect(() => {\r\n    if (adAccounts.length > 0 && !formData.account_id) {\r\n      setFormData((prev) => ({\r\n        ...prev,\r\n        account_id: adAccounts[0].platform_account_id,\r\n        currency: adAccounts[0].currency,\r\n      }));\r\n    }\r\n  }, [adAccounts, formData.account_id]);\r\n\r\n  // Reset account selection when platform changes\r\n  useEffect(() => {\r\n    if (formData.platform) {\r\n      setFormData((prev) => ({\r\n        ...prev,\r\n        account_id: '',\r\n        currency: 'USD',\r\n      }));\r\n      // Audiences would be fetched from API when endpoint is available\r\n      setPlatformAudiences(null);\r\n    }\r\n  }, [formData.platform]);\r\n\r\n  const updateFormData = (field: keyof FormData, value: any) => {\r\n    setFormData((prev) => ({ ...prev, [field]: value }));\r\n    if (errors[field]) {\r\n      setErrors((prev) => ({ ...prev, [field]: undefined }));\r\n    }\r\n  };\r\n\r\n  const handleAccountChange = (accountId: string) => {\r\n    const account = adAccounts.find((a) => a.platform_account_id === accountId);\r\n    if (account) {\r\n      setFormData((prev) => ({\r\n        ...prev,\r\n        account_id: accountId,\r\n        currency: account.currency,\r\n      }));\r\n    }\r\n  };\r\n\r\n  const toggleAudience = (\r\n    type: 'custom_audiences' | 'lookalike_audiences' | 'saved_audiences',\r\n    audienceId: string\r\n  ) => {\r\n    setFormData((prev) => {\r\n      const current = prev[type];\r\n      if (current.includes(audienceId)) {\r\n        return { ...prev, [type]: current.filter((id) => id !== audienceId) };\r\n      }\r\n      return { ...prev, [type]: [...current, audienceId] };\r\n    });\r\n  };\r\n\r\n  const validateStep = (step: Step): boolean => {\r\n    const newErrors: Partial<Record<keyof FormData, string>> = {};\r\n\r\n    switch (step) {\r\n      case 'platform':\r\n        if (!formData.platform) {\r\n          newErrors.platform = t('campaigns.create.errors.platformRequired');\r\n        }\r\n        break;\r\n      case 'basics':\r\n        if (!formData.name.trim()) {\r\n          newErrors.name = t('campaigns.create.errors.nameRequired');\r\n        }\r\n        if (!formData.objective) {\r\n          newErrors.objective = t('campaigns.create.errors.objectiveRequired');\r\n        }\r\n        if (!formData.account_id) {\r\n          newErrors.account_id = t('campaigns.create.errors.accountRequired');\r\n        }\r\n        break;\r\n      case 'budget':\r\n        if (!formData.daily_budget && !formData.lifetime_budget) {\r\n          newErrors.daily_budget = t('campaigns.create.errors.budgetRequired');\r\n        }\r\n        if (formData.start_date && formData.end_date && formData.end_date < formData.start_date) {\r\n          newErrors.end_date = t('campaigns.create.errors.endDateInvalid');\r\n        }\r\n        break;\r\n      case 'targeting':\r\n        const minAge = parseInt(formData.targeting_age_min);\r\n        const maxAge = parseInt(formData.targeting_age_max);\r\n        if (minAge < 13 || minAge > 100) {\r\n          newErrors.targeting_age_min = t('campaigns.create.errors.ageInvalid');\r\n        }\r\n        if (maxAge < 13 || maxAge > 100) {\r\n          newErrors.targeting_age_max = t('campaigns.create.errors.ageInvalid');\r\n        }\r\n        if (minAge > maxAge) {\r\n          newErrors.targeting_age_max = t('campaigns.create.errors.ageRangeInvalid');\r\n        }\r\n        break;\r\n    }\r\n\r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  const handleNext = () => {\r\n    if (validateStep(currentStep)) {\r\n      const nextIndex = currentStepIndex + 1;\r\n      if (nextIndex < STEPS.length) {\r\n        setCurrentStep(STEPS[nextIndex]);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleBack = () => {\r\n    const prevIndex = currentStepIndex - 1;\r\n    if (prevIndex >= 0) {\r\n      setCurrentStep(STEPS[prevIndex]);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    if (!validateStep('targeting')) return;\r\n\r\n    setIsSubmitting(true);\r\n    setSubmitError(null);\r\n\r\n    try {\r\n      const external_id =\r\n        formData.external_id || `stratum_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\r\n\r\n      const payload = {\r\n        name: formData.name,\r\n        platform: formData.platform,\r\n        status: formData.status,\r\n        objective: formData.objective,\r\n        external_id,\r\n        account_id: formData.account_id,\r\n        daily_budget_cents: formData.daily_budget\r\n          ? Math.round(parseFloat(formData.daily_budget) * 100)\r\n          : null,\r\n        lifetime_budget_cents: formData.lifetime_budget\r\n          ? Math.round(parseFloat(formData.lifetime_budget) * 100)\r\n          : null,\r\n        currency: formData.currency,\r\n        start_date: formData.start_date || null,\r\n        end_date: formData.end_date || null,\r\n        targeting_age_min: parseInt(formData.targeting_age_min) || 18,\r\n        targeting_age_max: parseInt(formData.targeting_age_max) || 65,\r\n        targeting_genders:\r\n          formData.targeting_genders.length > 0 ? formData.targeting_genders : null,\r\n        targeting_locations: formData.targeting_locations\r\n          ? formData.targeting_locations.split(',').map((l) => ({ name: l.trim() }))\r\n          : null,\r\n        targeting_interests: formData.targeting_interests\r\n          ? formData.targeting_interests.split(',').map((i) => i.trim())\r\n          : null,\r\n        custom_audiences: formData.custom_audiences.length > 0 ? formData.custom_audiences : null,\r\n        lookalike_audiences:\r\n          formData.lookalike_audiences.length > 0 ? formData.lookalike_audiences : null,\r\n        saved_audiences: formData.saved_audiences.length > 0 ? formData.saved_audiences : null,\r\n      };\r\n\r\n      const response = await fetch('/api/v1/campaigns', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(payload),\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (data.success) {\r\n        onSuccess?.(data.data);\r\n        handleClose();\r\n      } else {\r\n        setSubmitError(data.message || t('campaigns.create.errors.submitFailed'));\r\n      }\r\n    } catch (err) {\r\n      setSubmitError(t('campaigns.create.errors.submitFailed'));\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setFormData(initialFormData);\r\n    setCurrentStep('platform');\r\n    setErrors({});\r\n    setSubmitError(null);\r\n    setPlatformAudiences(null);\r\n    onClose();\r\n  };\r\n\r\n  const formatAudienceSize = (size: number) => {\r\n    if (size >= 1000000) return `${(size / 1000000).toFixed(1)}M`;\r\n    if (size >= 1000) return `${(size / 1000).toFixed(0)}K`;\r\n    return size.toString();\r\n  };\r\n\r\n  if (!open) return null;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center\">\r\n      {/* Backdrop */}\r\n      <div className=\"absolute inset-0 bg-black/50 backdrop-blur-sm\" onClick={handleClose} />\r\n\r\n      {/* Modal */}\r\n      <div className=\"relative w-full max-w-5xl max-h-[90vh] overflow-hidden rounded-2xl bg-card border shadow-xl mx-4\">\r\n        {/* Header */}\r\n        <div className=\"flex items-center justify-between p-6 border-b\">\r\n          <div>\r\n            <h2 className=\"text-xl font-bold text-foreground\">{t('campaigns.create.title')}</h2>\r\n            <p className=\"text-sm text-muted-foreground mt-1\">{t('campaigns.create.subtitle')}</p>\r\n          </div>\r\n          <button onClick={handleClose} className=\"p-2 rounded-lg hover:bg-muted transition-colors\">\r\n            <X className=\"w-5 h-5\" />\r\n          </button>\r\n        </div>\r\n\r\n        {/* Step Indicator */}\r\n        <div className=\"px-6 py-4 border-b bg-muted/30\">\r\n          <div className=\"flex items-center justify-between\">\r\n            {STEPS.map((step, index) => (\r\n              <div key={step} className=\"flex items-center\">\r\n                <div\r\n                  className={cn(\r\n                    'flex items-center justify-center w-8 h-8 rounded-full text-sm font-medium transition-all',\r\n                    index < currentStepIndex\r\n                      ? 'bg-green-500 text-white'\r\n                      : index === currentStepIndex\r\n                        ? 'bg-primary text-primary-foreground'\r\n                        : 'bg-muted text-muted-foreground'\r\n                  )}\r\n                >\r\n                  {index < currentStepIndex ? <Check className=\"w-4 h-4\" /> : index + 1}\r\n                </div>\r\n                <span\r\n                  className={cn(\r\n                    'ml-2 text-sm font-medium hidden sm:block',\r\n                    index === currentStepIndex ? 'text-foreground' : 'text-muted-foreground'\r\n                  )}\r\n                >\r\n                  {t(`campaigns.create.steps.${step}`)}\r\n                </span>\r\n                {index < STEPS.length - 1 && (\r\n                  <div\r\n                    className={cn(\r\n                      'w-12 h-0.5 mx-4 transition-colors',\r\n                      index < currentStepIndex ? 'bg-green-500' : 'bg-muted'\r\n                    )}\r\n                  />\r\n                )}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Content */}\r\n        <div className=\"p-8 overflow-y-auto max-h-[60vh]\">\r\n          {/* Platform Selection Step */}\r\n          {currentStep === 'platform' && (\r\n            <div className=\"space-y-6\">\r\n              <p className=\"text-muted-foreground text-lg\">\r\n                {t('campaigns.create.selectPlatform')}\r\n              </p>\r\n              <div className=\"grid grid-cols-2 lg:grid-cols-4 gap-4\">\r\n                {PLATFORMS.map((platform) => (\r\n                  <button\r\n                    key={platform.id}\r\n                    onClick={() => updateFormData('platform', platform.id)}\r\n                    className={cn(\r\n                      'flex flex-col items-center gap-4 p-6 rounded-xl border-2 transition-all text-center relative',\r\n                      formData.platform === platform.id\r\n                        ? 'border-primary bg-primary/5'\r\n                        : 'border-transparent bg-muted/50 hover:bg-muted'\r\n                    )}\r\n                  >\r\n                    {formData.platform === platform.id && (\r\n                      <Check className=\"w-5 h-5 text-primary absolute top-3 right-3\" />\r\n                    )}\r\n                    <div\r\n                      className={cn(\r\n                        'w-16 h-16 rounded-xl flex items-center justify-center text-white font-bold text-2xl',\r\n                        platform.color\r\n                      )}\r\n                    >\r\n                      {platform.name.charAt(0)}\r\n                    </div>\r\n                    <div>\r\n                      <h3 className=\"font-semibold text-foreground text-lg\">{platform.name}</h3>\r\n                      <p className=\"text-sm text-muted-foreground\">{platform.description}</p>\r\n                    </div>\r\n                  </button>\r\n                ))}\r\n              </div>\r\n              {errors.platform && (\r\n                <p className=\"text-sm text-red-500 flex items-center gap-1\">\r\n                  <AlertCircle className=\"w-4 h-4\" />\r\n                  {errors.platform}\r\n                </p>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Basics Step */}\r\n          {currentStep === 'basics' && (\r\n            <div className=\"space-y-5\">\r\n              {/* Campaign Name */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-foreground mb-2\">\r\n                  {t('campaigns.create.campaignName')} *\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={formData.name}\r\n                  onChange={(e) => updateFormData('name', e.target.value)}\r\n                  placeholder={t('campaigns.create.campaignNamePlaceholder')}\r\n                  className={cn(\r\n                    'w-full px-4 py-2.5 rounded-lg border bg-background focus:ring-2 focus:ring-primary/20 focus:border-primary',\r\n                    errors.name && 'border-red-500'\r\n                  )}\r\n                />\r\n                {errors.name && <p className=\"mt-1 text-sm text-red-500\">{errors.name}</p>}\r\n              </div>\r\n\r\n              {/* Objective */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-foreground mb-2\">\r\n                  {t('campaigns.create.objective')} *\r\n                </label>\r\n                <div className=\"grid grid-cols-2 sm:grid-cols-3 gap-2\">\r\n                  {selectedPlatform?.objectives.map((obj) => (\r\n                    <button\r\n                      key={obj}\r\n                      onClick={() => updateFormData('objective', obj)}\r\n                      className={cn(\r\n                        'px-3 py-2 rounded-lg text-sm font-medium border transition-all',\r\n                        formData.objective === obj\r\n                          ? 'border-primary bg-primary/10 text-primary'\r\n                          : 'border-transparent bg-muted hover:bg-muted/80 text-foreground'\r\n                      )}\r\n                    >\r\n                      {t(\r\n                        `campaigns.create.objectives.${obj.toLowerCase()}`,\r\n                        obj.replace(/_/g, ' ')\r\n                      )}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n                {errors.objective && (\r\n                  <p className=\"mt-1 text-sm text-red-500\">{errors.objective}</p>\r\n                )}\r\n              </div>\r\n\r\n              {/* Ad Account Dropdown */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-foreground mb-2\">\r\n                  {t('campaigns.create.accountId')} *\r\n                </label>\r\n                {isLoadingAccounts ? (\r\n                  <div className=\"flex items-center gap-2 px-4 py-2.5 rounded-lg border bg-muted\">\r\n                    <RefreshCw className=\"w-4 h-4 animate-spin\" />\r\n                    <span className=\"text-sm text-muted-foreground\">Loading accounts...</span>\r\n                  </div>\r\n                ) : adAccounts.length === 0 ? (\r\n                  <div className=\"flex items-center justify-between p-4 rounded-lg border border-dashed bg-muted/30\">\r\n                    <div className=\"flex items-center gap-3\">\r\n                      <Settings className=\"w-5 h-5 text-muted-foreground\" />\r\n                      <div>\r\n                        <p className=\"text-sm font-medium text-foreground\">\r\n                          No ad accounts connected\r\n                        </p>\r\n                        <p className=\"text-xs text-muted-foreground\">\r\n                          Connect your {selectedPlatform?.name} account in Settings → Integrations\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ) : (\r\n                  <select\r\n                    value={formData.account_id}\r\n                    onChange={(e) => handleAccountChange(e.target.value)}\r\n                    className={cn(\r\n                      'w-full px-4 py-2.5 rounded-lg border bg-background focus:ring-2 focus:ring-primary/20 focus:border-primary',\r\n                      errors.account_id && 'border-red-500'\r\n                    )}\r\n                  >\r\n                    <option value=\"\">Select an ad account</option>\r\n                    {adAccounts.map((account) => (\r\n                      <option key={account.id} value={account.platform_account_id}>\r\n                        {account.name} ({account.platform_account_id}) - {account.currency}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                )}\r\n                {errors.account_id && (\r\n                  <p className=\"mt-1 text-sm text-red-500\">{errors.account_id}</p>\r\n                )}\r\n              </div>\r\n\r\n              {/* Status */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-foreground mb-2\">\r\n                  {t('campaigns.create.initialStatus')}\r\n                </label>\r\n                <div className=\"flex gap-3\">\r\n                  {['draft', 'active', 'paused'].map((status) => (\r\n                    <button\r\n                      key={status}\r\n                      onClick={() => updateFormData('status', status)}\r\n                      className={cn(\r\n                        'px-4 py-2 rounded-lg text-sm font-medium border transition-all',\r\n                        formData.status === status\r\n                          ? 'border-primary bg-primary/10 text-primary'\r\n                          : 'border-transparent bg-muted hover:bg-muted/80 text-foreground'\r\n                      )}\r\n                    >\r\n                      {t(`campaigns.status.${status}`)}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Budget Step */}\r\n          {currentStep === 'budget' && (\r\n            <div className=\"space-y-5\">\r\n              <div className=\"flex items-center gap-3 p-4 rounded-lg bg-blue-500/10 border border-blue-500/20\">\r\n                <DollarSign className=\"w-5 h-5 text-blue-500\" />\r\n                <p className=\"text-sm text-blue-600 dark:text-blue-400\">\r\n                  {t('campaigns.create.budgetInfo')}\r\n                </p>\r\n              </div>\r\n\r\n              {/* Currency (Auto-set based on account) */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-foreground mb-2\">\r\n                  {t('campaigns.create.currency')}\r\n                </label>\r\n                <select\r\n                  value={formData.currency}\r\n                  onChange={(e) => updateFormData('currency', e.target.value)}\r\n                  className=\"w-full px-4 py-2.5 rounded-lg border bg-background focus:ring-2 focus:ring-primary/20 focus:border-primary\"\r\n                >\r\n                  <option value=\"USD\">USD - US Dollar</option>\r\n                  <option value=\"EUR\">EUR - Euro</option>\r\n                  <option value=\"GBP\">GBP - British Pound</option>\r\n                  <option value=\"SAR\">SAR - Saudi Riyal</option>\r\n                  <option value=\"AED\">AED - UAE Dirham</option>\r\n                </select>\r\n              </div>\r\n\r\n              {/* Daily Budget */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-foreground mb-2\">\r\n                  {t('campaigns.create.dailyBudget')}\r\n                </label>\r\n                <div className=\"relative\">\r\n                  <span className=\"absolute left-4 top-1/2 -translate-y-1/2 text-muted-foreground\">\r\n                    {formData.currency === 'USD'\r\n                      ? '$'\r\n                      : formData.currency === 'EUR'\r\n                        ? '€'\r\n                        : formData.currency}\r\n                  </span>\r\n                  <input\r\n                    type=\"number\"\r\n                    value={formData.daily_budget}\r\n                    onChange={(e) => updateFormData('daily_budget', e.target.value)}\r\n                    placeholder=\"0.00\"\r\n                    min=\"0\"\r\n                    step=\"0.01\"\r\n                    className={cn(\r\n                      'w-full pl-12 pr-4 py-2.5 rounded-lg border bg-background focus:ring-2 focus:ring-primary/20 focus:border-primary',\r\n                      errors.daily_budget && 'border-red-500'\r\n                    )}\r\n                  />\r\n                </div>\r\n                {errors.daily_budget && (\r\n                  <p className=\"mt-1 text-sm text-red-500\">{errors.daily_budget}</p>\r\n                )}\r\n              </div>\r\n\r\n              {/* Lifetime Budget */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-foreground mb-2\">\r\n                  {t('campaigns.create.lifetimeBudget')}\r\n                </label>\r\n                <div className=\"relative\">\r\n                  <span className=\"absolute left-4 top-1/2 -translate-y-1/2 text-muted-foreground\">\r\n                    {formData.currency === 'USD'\r\n                      ? '$'\r\n                      : formData.currency === 'EUR'\r\n                        ? '€'\r\n                        : formData.currency}\r\n                  </span>\r\n                  <input\r\n                    type=\"number\"\r\n                    value={formData.lifetime_budget}\r\n                    onChange={(e) => updateFormData('lifetime_budget', e.target.value)}\r\n                    placeholder=\"0.00\"\r\n                    min=\"0\"\r\n                    step=\"0.01\"\r\n                    className=\"w-full pl-12 pr-4 py-2.5 rounded-lg border bg-background focus:ring-2 focus:ring-primary/20 focus:border-primary\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              {/* Schedule */}\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-foreground mb-2\">\r\n                    {t('campaigns.create.startDate')}\r\n                  </label>\r\n                  <input\r\n                    type=\"date\"\r\n                    value={formData.start_date}\r\n                    onChange={(e) => updateFormData('start_date', e.target.value)}\r\n                    className=\"w-full px-4 py-2.5 rounded-lg border bg-background focus:ring-2 focus:ring-primary/20 focus:border-primary\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-foreground mb-2\">\r\n                    {t('campaigns.create.endDate')}\r\n                  </label>\r\n                  <input\r\n                    type=\"date\"\r\n                    value={formData.end_date}\r\n                    onChange={(e) => updateFormData('end_date', e.target.value)}\r\n                    min={formData.start_date}\r\n                    className={cn(\r\n                      'w-full px-4 py-2.5 rounded-lg border bg-background focus:ring-2 focus:ring-primary/20 focus:border-primary',\r\n                      errors.end_date && 'border-red-500'\r\n                    )}\r\n                  />\r\n                  {errors.end_date && (\r\n                    <p className=\"mt-1 text-sm text-red-500\">{errors.end_date}</p>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Targeting Step */}\r\n          {currentStep === 'targeting' && (\r\n            <div className=\"space-y-5\">\r\n              <div className=\"flex items-center gap-3 p-4 rounded-lg bg-purple-500/10 border border-purple-500/20\">\r\n                <Users className=\"w-5 h-5 text-purple-500\" />\r\n                <p className=\"text-sm text-purple-600 dark:text-purple-400\">\r\n                  {t('campaigns.create.targetingInfo')}\r\n                </p>\r\n              </div>\r\n\r\n              {/* Audiences Section */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-foreground mb-3\">\r\n                  {t('campaigns.create.audiences', 'Audiences')}{' '}\r\n                  <span className=\"text-muted-foreground font-normal\">(Optional)</span>\r\n                </label>\r\n\r\n                {platformAudiences ? (\r\n                  <>\r\n                    {/* Audience Tabs */}\r\n                    <div className=\"flex gap-2 mb-3\">\r\n                      <button\r\n                        onClick={() => setAudienceTab('custom')}\r\n                        className={cn(\r\n                          'flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium transition-all',\r\n                          audienceTab === 'custom'\r\n                            ? 'bg-primary text-primary-foreground'\r\n                            : 'bg-muted hover:bg-muted/80'\r\n                        )}\r\n                      >\r\n                        <UserPlus className=\"w-4 h-4\" />\r\n                        Custom ({platformAudiences.custom.length})\r\n                      </button>\r\n                      <button\r\n                        onClick={() => setAudienceTab('lookalike')}\r\n                        className={cn(\r\n                          'flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium transition-all',\r\n                          audienceTab === 'lookalike'\r\n                            ? 'bg-primary text-primary-foreground'\r\n                            : 'bg-muted hover:bg-muted/80'\r\n                        )}\r\n                      >\r\n                        <UsersRound className=\"w-4 h-4\" />\r\n                        Lookalike ({platformAudiences.lookalike.length})\r\n                      </button>\r\n                      <button\r\n                        onClick={() => setAudienceTab('saved')}\r\n                        className={cn(\r\n                          'flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium transition-all',\r\n                          audienceTab === 'saved'\r\n                            ? 'bg-primary text-primary-foreground'\r\n                            : 'bg-muted hover:bg-muted/80'\r\n                        )}\r\n                      >\r\n                        <Bookmark className=\"w-4 h-4\" />\r\n                        Saved ({platformAudiences.saved.length})\r\n                      </button>\r\n                    </div>\r\n\r\n                    {/* Custom Audiences */}\r\n                    {audienceTab === 'custom' && (\r\n                      <div className=\"space-y-2 max-h-40 overflow-y-auto\">\r\n                        {platformAudiences.custom.map((audience) => (\r\n                          <label\r\n                            key={audience.id}\r\n                            className={cn(\r\n                              'flex items-center justify-between p-3 rounded-lg border cursor-pointer transition-all',\r\n                              formData.custom_audiences.includes(audience.id)\r\n                                ? 'border-primary bg-primary/5'\r\n                                : 'border-transparent bg-muted/50 hover:bg-muted'\r\n                            )}\r\n                          >\r\n                            <div className=\"flex items-center gap-3\">\r\n                              <input\r\n                                type=\"checkbox\"\r\n                                checked={formData.custom_audiences.includes(audience.id)}\r\n                                onChange={() => toggleAudience('custom_audiences', audience.id)}\r\n                                className=\"rounded border-muted-foreground\"\r\n                              />\r\n                              <span className=\"font-medium text-sm\">{audience.name}</span>\r\n                            </div>\r\n                            <span className=\"text-xs text-muted-foreground\">\r\n                              {formatAudienceSize(audience.size)} users\r\n                            </span>\r\n                          </label>\r\n                        ))}\r\n                      </div>\r\n                    )}\r\n\r\n                    {/* Lookalike Audiences */}\r\n                    {audienceTab === 'lookalike' && (\r\n                      <div className=\"space-y-2 max-h-40 overflow-y-auto\">\r\n                        {platformAudiences.lookalike.map((audience) => (\r\n                          <label\r\n                            key={audience.id}\r\n                            className={cn(\r\n                              'flex items-center justify-between p-3 rounded-lg border cursor-pointer transition-all',\r\n                              formData.lookalike_audiences.includes(audience.id)\r\n                                ? 'border-primary bg-primary/5'\r\n                                : 'border-transparent bg-muted/50 hover:bg-muted'\r\n                            )}\r\n                          >\r\n                            <div className=\"flex items-center gap-3\">\r\n                              <input\r\n                                type=\"checkbox\"\r\n                                checked={formData.lookalike_audiences.includes(audience.id)}\r\n                                onChange={() => toggleAudience('lookalike_audiences', audience.id)}\r\n                                className=\"rounded border-muted-foreground\"\r\n                              />\r\n                              <div>\r\n                                <span className=\"font-medium text-sm block\">{audience.name}</span>\r\n                                <span className=\"text-xs text-muted-foreground\">\r\n                                  Source: {audience.source}\r\n                                </span>\r\n                              </div>\r\n                            </div>\r\n                            <span className=\"text-xs text-muted-foreground\">\r\n                              {formatAudienceSize(audience.size)}\r\n                            </span>\r\n                          </label>\r\n                        ))}\r\n                      </div>\r\n                    )}\r\n\r\n                    {/* Saved Audiences */}\r\n                    {audienceTab === 'saved' && (\r\n                      <div className=\"space-y-2 max-h-40 overflow-y-auto\">\r\n                        {platformAudiences.saved.map((audience) => (\r\n                          <label\r\n                            key={audience.id}\r\n                            className={cn(\r\n                              'flex items-center justify-between p-3 rounded-lg border cursor-pointer transition-all',\r\n                              formData.saved_audiences.includes(audience.id)\r\n                                ? 'border-primary bg-primary/5'\r\n                                : 'border-transparent bg-muted/50 hover:bg-muted'\r\n                            )}\r\n                          >\r\n                            <div className=\"flex items-center gap-3\">\r\n                              <input\r\n                                type=\"checkbox\"\r\n                                checked={formData.saved_audiences.includes(audience.id)}\r\n                                onChange={() => toggleAudience('saved_audiences', audience.id)}\r\n                                className=\"rounded border-muted-foreground\"\r\n                              />\r\n                              <div>\r\n                                <span className=\"font-medium text-sm block\">{audience.name}</span>\r\n                                <span className=\"text-xs text-muted-foreground\">\r\n                                  {audience.description}\r\n                                </span>\r\n                              </div>\r\n                            </div>\r\n                          </label>\r\n                        ))}\r\n                      </div>\r\n                    )}\r\n\r\n                    {/* Selected audiences count */}\r\n                    {(formData.custom_audiences.length > 0 ||\r\n                      formData.lookalike_audiences.length > 0 ||\r\n                      formData.saved_audiences.length > 0) && (\r\n                      <p className=\"text-xs text-primary mt-2\">\r\n                        {formData.custom_audiences.length +\r\n                          formData.lookalike_audiences.length +\r\n                          formData.saved_audiences.length}{' '}\r\n                        audience(s) selected\r\n                      </p>\r\n                    )}\r\n                  </>\r\n                ) : (\r\n                  <div className=\"flex items-center justify-between p-4 rounded-lg border border-dashed bg-muted/30\">\r\n                    <div className=\"flex items-center gap-3\">\r\n                      <Users className=\"w-5 h-5 text-muted-foreground\" />\r\n                      <div>\r\n                        <p className=\"text-sm font-medium text-foreground\">No audiences synced</p>\r\n                        <p className=\"text-xs text-muted-foreground\">\r\n                          Audiences can be synced after connecting your platform. Use demographic\r\n                          targeting below instead.\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              {/* Age Range */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-foreground mb-2\">\r\n                  {t('campaigns.create.ageRange')}\r\n                </label>\r\n                <div className=\"flex items-center gap-4\">\r\n                  <input\r\n                    type=\"number\"\r\n                    value={formData.targeting_age_min}\r\n                    onChange={(e) => updateFormData('targeting_age_min', e.target.value)}\r\n                    min=\"13\"\r\n                    max=\"100\"\r\n                    className={cn(\r\n                      'w-24 px-4 py-2.5 rounded-lg border bg-background focus:ring-2 focus:ring-primary/20 focus:border-primary text-center',\r\n                      errors.targeting_age_min && 'border-red-500'\r\n                    )}\r\n                  />\r\n                  <span className=\"text-muted-foreground\">to</span>\r\n                  <input\r\n                    type=\"number\"\r\n                    value={formData.targeting_age_max}\r\n                    onChange={(e) => updateFormData('targeting_age_max', e.target.value)}\r\n                    min=\"13\"\r\n                    max=\"100\"\r\n                    className={cn(\r\n                      'w-24 px-4 py-2.5 rounded-lg border bg-background focus:ring-2 focus:ring-primary/20 focus:border-primary text-center',\r\n                      errors.targeting_age_max && 'border-red-500'\r\n                    )}\r\n                  />\r\n                  <span className=\"text-sm text-muted-foreground\">\r\n                    {t('campaigns.create.yearsOld')}\r\n                  </span>\r\n                </div>\r\n                {(errors.targeting_age_min || errors.targeting_age_max) && (\r\n                  <p className=\"mt-1 text-sm text-red-500\">\r\n                    {errors.targeting_age_min || errors.targeting_age_max}\r\n                  </p>\r\n                )}\r\n              </div>\r\n\r\n              {/* Gender */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-foreground mb-2\">\r\n                  {t('campaigns.create.gender')}\r\n                </label>\r\n                <div className=\"flex gap-3\">\r\n                  {['all', 'male', 'female'].map((gender) => (\r\n                    <button\r\n                      key={gender}\r\n                      onClick={() => {\r\n                        if (gender === 'all') {\r\n                          updateFormData('targeting_genders', []);\r\n                        } else {\r\n                          const current = formData.targeting_genders;\r\n                          if (current.includes(gender)) {\r\n                            updateFormData(\r\n                              'targeting_genders',\r\n                              current.filter((g) => g !== gender)\r\n                            );\r\n                          } else {\r\n                            updateFormData('targeting_genders', [...current, gender]);\r\n                          }\r\n                        }\r\n                      }}\r\n                      className={cn(\r\n                        'px-4 py-2 rounded-lg text-sm font-medium border transition-all',\r\n                        (gender === 'all' && formData.targeting_genders.length === 0) ||\r\n                          formData.targeting_genders.includes(gender)\r\n                          ? 'border-primary bg-primary/10 text-primary'\r\n                          : 'border-transparent bg-muted hover:bg-muted/80 text-foreground'\r\n                      )}\r\n                    >\r\n                      {t(`campaigns.create.genders.${gender}`)}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Locations */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-foreground mb-2\">\r\n                  {t('campaigns.create.locations')}\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={formData.targeting_locations}\r\n                  onChange={(e) => updateFormData('targeting_locations', e.target.value)}\r\n                  placeholder={t('campaigns.create.locationsPlaceholder')}\r\n                  className=\"w-full px-4 py-2.5 rounded-lg border bg-background focus:ring-2 focus:ring-primary/20 focus:border-primary\"\r\n                />\r\n                <p className=\"mt-1 text-xs text-muted-foreground\">\r\n                  {t('campaigns.create.locationsHelp')}\r\n                </p>\r\n              </div>\r\n\r\n              {/* Interests */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-foreground mb-2\">\r\n                  {t('campaigns.create.interests')}\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={formData.targeting_interests}\r\n                  onChange={(e) => updateFormData('targeting_interests', e.target.value)}\r\n                  placeholder={t('campaigns.create.interestsPlaceholder')}\r\n                  className=\"w-full px-4 py-2.5 rounded-lg border bg-background focus:ring-2 focus:ring-primary/20 focus:border-primary\"\r\n                />\r\n                <p className=\"mt-1 text-xs text-muted-foreground\">\r\n                  {t('campaigns.create.interestsHelp')}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Submit Error */}\r\n          {submitError && (\r\n            <div className=\"mt-4 flex items-center gap-3 p-4 bg-red-500/10 border border-red-500/20 rounded-lg text-red-600\">\r\n              <AlertCircle className=\"w-5 h-5\" />\r\n              <span>{submitError}</span>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Footer */}\r\n        <div className=\"flex items-center justify-between p-6 border-t bg-muted/30\">\r\n          <button\r\n            onClick={currentStepIndex === 0 ? handleClose : handleBack}\r\n            className=\"flex items-center gap-2 px-4 py-2 rounded-lg border hover:bg-muted transition-colors\"\r\n          >\r\n            <ChevronLeft className=\"w-4 h-4\" />\r\n            {currentStepIndex === 0 ? t('common.cancel') : t('common.back')}\r\n          </button>\r\n\r\n          {currentStepIndex < STEPS.length - 1 ? (\r\n            <button\r\n              onClick={handleNext}\r\n              className=\"flex items-center gap-2 px-6 py-2 rounded-lg bg-primary text-primary-foreground hover:bg-primary/90 transition-colors\"\r\n            >\r\n              {t('common.next')}\r\n              <ChevronRight className=\"w-4 h-4\" />\r\n            </button>\r\n          ) : (\r\n            <button\r\n              onClick={handleSubmit}\r\n              disabled={isSubmitting}\r\n              className=\"flex items-center gap-2 px-6 py-2 rounded-lg bg-green-600 text-white hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\r\n            >\r\n              {isSubmitting ? (\r\n                <>\r\n                  <Loader2 className=\"w-4 h-4 animate-spin\" />\r\n                  {t('campaigns.create.creating')}\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <Check className=\"w-4 h-4\" />\r\n                  {t('campaigns.create.createCampaign')}\r\n                </>\r\n              )}\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CampaignCreateModal;\r\n","import { useMemo, useState } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { useToast } from '@/components/ui/use-toast';\r\nimport {\r\n  ChevronDown,\r\n  ChevronUp,\r\n  Edit,\r\n  ExternalLink,\r\n  Filter,\r\n  Loader2,\r\n  MoreHorizontal,\r\n  Pause,\r\n  Play,\r\n  Plus,\r\n  Search,\r\n  Trash2,\r\n  TrendingDown,\r\n  TrendingUp,\r\n} from 'lucide-react';\r\nimport {\r\n  cn,\r\n  formatCompactNumber,\r\n  formatCurrency,\r\n  formatPercent,\r\n  getPlatformColor,\r\n} from '@/lib/utils';\r\nimport CampaignCreateModal from '@/components/campaigns/CampaignCreateModal';\r\nimport {\r\n  useActivateCampaign,\r\n  useCampaigns,\r\n  useDeleteCampaign,\r\n  usePauseCampaign,\r\n} from '@/api/hooks';\r\nimport { useTenantStore } from '@/stores/tenantStore';\r\n\r\ninterface Campaign {\r\n  id: number;\r\n  name: string;\r\n  platform: string;\r\n  status: 'active' | 'paused' | 'completed' | 'draft';\r\n  spend: number;\r\n  budget: number;\r\n  revenue: number;\r\n  roas: number;\r\n  impressions: number;\r\n  clicks: number;\r\n  conversions: number;\r\n  ctr: number;\r\n  trend: 'up' | 'down' | 'stable';\r\n}\r\n\r\nconst mockCampaigns: Campaign[] = [\r\n  {\r\n    id: 1,\r\n    name: 'Summer Sale 2024',\r\n    platform: 'google',\r\n    status: 'active',\r\n    spend: 12450,\r\n    budget: 15000,\r\n    revenue: 48750,\r\n    roas: 3.92,\r\n    impressions: 1245000,\r\n    clicks: 34560,\r\n    conversions: 890,\r\n    ctr: 2.78,\r\n    trend: 'up',\r\n  },\r\n  {\r\n    id: 2,\r\n    name: 'Brand Awareness Q4',\r\n    platform: 'meta',\r\n    status: 'active',\r\n    spend: 8900,\r\n    budget: 10000,\r\n    revenue: 35600,\r\n    roas: 4.0,\r\n    impressions: 2100000,\r\n    clicks: 42000,\r\n    conversions: 560,\r\n    ctr: 2.0,\r\n    trend: 'stable',\r\n  },\r\n  {\r\n    id: 3,\r\n    name: 'Product Launch - Widget Pro',\r\n    platform: 'google',\r\n    status: 'paused',\r\n    spend: 5600,\r\n    budget: 8000,\r\n    revenue: 15680,\r\n    roas: 2.8,\r\n    impressions: 890000,\r\n    clicks: 21340,\r\n    conversions: 234,\r\n    ctr: 2.4,\r\n    trend: 'down',\r\n  },\r\n  {\r\n    id: 4,\r\n    name: 'Retargeting - Cart Abandoners',\r\n    platform: 'meta',\r\n    status: 'active',\r\n    spend: 3200,\r\n    budget: 5000,\r\n    revenue: 19200,\r\n    roas: 6.0,\r\n    impressions: 450000,\r\n    clicks: 13500,\r\n    conversions: 320,\r\n    ctr: 3.0,\r\n    trend: 'up',\r\n  },\r\n  {\r\n    id: 5,\r\n    name: 'TikTok Influencer Collab',\r\n    platform: 'tiktok',\r\n    status: 'active',\r\n    spend: 7800,\r\n    budget: 12000,\r\n    revenue: 23400,\r\n    roas: 3.0,\r\n    impressions: 5600000,\r\n    clicks: 168000,\r\n    conversions: 420,\r\n    ctr: 3.0,\r\n    trend: 'up',\r\n  },\r\n];\r\n\r\ntype SortField = 'name' | 'spend' | 'revenue' | 'roas' | 'conversions';\r\ntype SortDirection = 'asc' | 'desc';\r\n\r\nexport function Campaigns() {\r\n  const { t } = useTranslation();\r\n  const { toast } = useToast();\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [statusFilter, setStatusFilter] = useState<string>('all');\r\n  const [platformFilter, setPlatformFilter] = useState<string>('all');\r\n  const [sortField, setSortField] = useState<SortField>('spend');\r\n  const [sortDirection, setSortDirection] = useState<SortDirection>('desc');\r\n  const [selectedCampaigns, setSelectedCampaigns] = useState<number[]>([]);\r\n  const [createModalOpen, setCreateModalOpen] = useState(false);\r\n\r\n  // Use tenant store for context (reserved for API calls)\r\n  useTenantStore((state) => state.tenantId);\r\n\r\n  // Fetch campaigns from API\r\n  const { data: campaignsData, isLoading } = useCampaigns();\r\n  const pauseCampaign = usePauseCampaign();\r\n  const activateCampaign = useActivateCampaign();\r\n  const deleteCampaign = useDeleteCampaign();\r\n\r\n  // Transform API data or fall back to mock\r\n  const campaigns = useMemo((): Campaign[] => {\r\n    if (campaignsData?.items && campaignsData.items.length > 0) {\r\n      return campaignsData.items.map((c: any) => ({\r\n        id: Number(c.id) || Number(c.campaign_id) || 0,\r\n        name: c.name || c.campaign_name || '',\r\n        platform: c.platform?.toLowerCase() || 'google',\r\n        status: c.status?.toLowerCase() || 'active',\r\n        spend: c.spend || 0,\r\n        budget: c.budget || c.daily_budget || 10000,\r\n        revenue: c.revenue || 0,\r\n        roas: c.roas || (c.spend > 0 ? c.revenue / c.spend : 0),\r\n        impressions: c.impressions || 0,\r\n        clicks: c.clicks || 0,\r\n        conversions: c.conversions || 0,\r\n        ctr: c.ctr || (c.impressions > 0 ? (c.clicks / c.impressions) * 100 : 0),\r\n        trend: c.trend || (c.roas >= 3.5 ? 'up' : c.roas < 2.5 ? 'down' : 'stable'),\r\n      }));\r\n    }\r\n    return mockCampaigns;\r\n  }, [campaignsData]);\r\n\r\n  const handleSort = (field: SortField) => {\r\n    if (sortField === field) {\r\n      setSortDirection(sortDirection === 'asc' ? 'desc' : 'asc');\r\n    } else {\r\n      setSortField(field);\r\n      setSortDirection('desc');\r\n    }\r\n  };\r\n\r\n  const filteredCampaigns = campaigns\r\n    .filter((campaign) => {\r\n      if (searchQuery && !campaign.name.toLowerCase().includes(searchQuery.toLowerCase())) {\r\n        return false;\r\n      }\r\n      if (statusFilter !== 'all' && campaign.status !== statusFilter) {\r\n        return false;\r\n      }\r\n      if (platformFilter !== 'all' && campaign.platform !== platformFilter) {\r\n        return false;\r\n      }\r\n      return true;\r\n    })\r\n    .sort((a, b) => {\r\n      const aValue = a[sortField];\r\n      const bValue = b[sortField];\r\n      const direction = sortDirection === 'asc' ? 1 : -1;\r\n      if (typeof aValue === 'string') {\r\n        return aValue.localeCompare(bValue as string) * direction;\r\n      }\r\n      return (aValue - (bValue as number)) * direction;\r\n    });\r\n\r\n  // Handle bulk pause\r\n  const handleBulkPause = async () => {\r\n    for (const id of selectedCampaigns) {\r\n      await pauseCampaign.mutateAsync(id.toString());\r\n    }\r\n    setSelectedCampaigns([]);\r\n  };\r\n\r\n  // Handle bulk activate\r\n  const handleBulkActivate = async () => {\r\n    for (const id of selectedCampaigns) {\r\n      await activateCampaign.mutateAsync(id.toString());\r\n    }\r\n    setSelectedCampaigns([]);\r\n  };\r\n\r\n  // Handle bulk delete\r\n  const handleBulkDelete = async () => {\r\n    for (const id of selectedCampaigns) {\r\n      await deleteCampaign.mutateAsync(id.toString());\r\n    }\r\n    setSelectedCampaigns([]);\r\n  };\r\n\r\n  const toggleSelectAll = () => {\r\n    if (selectedCampaigns.length === filteredCampaigns.length) {\r\n      setSelectedCampaigns([]);\r\n    } else {\r\n      setSelectedCampaigns(filteredCampaigns.map((c) => c.id));\r\n    }\r\n  };\r\n\r\n  const toggleSelectCampaign = (id: number) => {\r\n    setSelectedCampaigns((prev) =>\r\n      prev.includes(id) ? prev.filter((i) => i !== id) : [...prev, id]\r\n    );\r\n  };\r\n\r\n  const SortIcon = ({ field }: { field: SortField }) => {\r\n    if (sortField !== field) return null;\r\n    return sortDirection === 'asc' ? (\r\n      <ChevronUp className=\"w-4 h-4\" />\r\n    ) : (\r\n      <ChevronDown className=\"w-4 h-4\" />\r\n    );\r\n  };\r\n\r\n  const getStatusBadge = (status: Campaign['status']) => {\r\n    const styles = {\r\n      active: 'bg-green-500/10 text-green-500',\r\n      paused: 'bg-amber-500/10 text-amber-500',\r\n      completed: 'bg-blue-500/10 text-blue-500',\r\n      draft: 'bg-gray-500/10 text-gray-500',\r\n    };\r\n\r\n    return (\r\n      <span className={cn('px-2 py-1 rounded-full text-xs font-medium', styles[status])}>\r\n        {status.charAt(0).toUpperCase() + status.slice(1)}\r\n      </span>\r\n    );\r\n  };\r\n\r\n  const getPlatformBadge = (platform: string) => (\r\n    <div\r\n      className=\"w-6 h-6 rounded-full flex items-center justify-center text-white text-xs font-bold\"\r\n      style={{ backgroundColor: getPlatformColor(platform) }}\r\n      title={platform.charAt(0).toUpperCase() + platform.slice(1)}\r\n    >\r\n      {platform.charAt(0).toUpperCase()}\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Page Header */}\r\n      <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4\">\r\n        <div>\r\n          <h1 className=\"text-2xl font-bold\">{t('campaigns.title')}</h1>\r\n          <p className=\"text-muted-foreground\">{t('campaigns.subtitle')}</p>\r\n        </div>\r\n\r\n        <button\r\n          onClick={() => setCreateModalOpen(true)}\r\n          className=\"flex items-center gap-2 px-4 py-2 rounded-lg bg-primary text-primary-foreground hover:bg-primary/90 transition-colors\"\r\n        >\r\n          <Plus className=\"w-4 h-4\" />\r\n          <span>{t('campaigns.createNew')}</span>\r\n        </button>\r\n      </div>\r\n\r\n      {/* Filters */}\r\n      <div className=\"flex flex-col md:flex-row gap-4\">\r\n        <div className=\"relative flex-1\">\r\n          <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground\" />\r\n          <input\r\n            type=\"text\"\r\n            placeholder={t('campaigns.searchPlaceholder')}\r\n            value={searchQuery}\r\n            onChange={(e) => setSearchQuery(e.target.value)}\r\n            className=\"w-full pl-10 pr-4 py-2 rounded-lg border bg-background focus:outline-none focus:ring-2 focus:ring-primary/20\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"flex gap-3\">\r\n          <select\r\n            value={statusFilter}\r\n            onChange={(e) => setStatusFilter(e.target.value)}\r\n            className=\"px-4 py-2 rounded-lg border bg-background focus:outline-none focus:ring-2 focus:ring-primary/20\"\r\n          >\r\n            <option value=\"all\">{t('campaigns.allStatuses')}</option>\r\n            <option value=\"active\">{t('campaigns.active')}</option>\r\n            <option value=\"paused\">{t('campaigns.paused')}</option>\r\n            <option value=\"completed\">{t('campaigns.completed')}</option>\r\n            <option value=\"draft\">{t('campaigns.draft')}</option>\r\n          </select>\r\n\r\n          <select\r\n            value={platformFilter}\r\n            onChange={(e) => setPlatformFilter(e.target.value)}\r\n            className=\"px-4 py-2 rounded-lg border bg-background focus:outline-none focus:ring-2 focus:ring-primary/20\"\r\n          >\r\n            <option value=\"all\">{t('campaigns.allPlatforms')}</option>\r\n            <option value=\"google\">Google Ads</option>\r\n            <option value=\"meta\">Meta Ads</option>\r\n            <option value=\"tiktok\">TikTok Ads</option>\r\n          </select>\r\n\r\n          <button className=\"flex items-center gap-2 px-4 py-2 rounded-lg border hover:bg-muted transition-colors\">\r\n            <Filter className=\"w-4 h-4\" />\r\n            <span>{t('common.moreFilters')}</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Bulk Actions */}\r\n      {selectedCampaigns.length > 0 && (\r\n        <div className=\"flex items-center gap-4 p-3 rounded-lg bg-primary/10 border border-primary/20\">\r\n          <span className=\"text-sm font-medium\">\r\n            {selectedCampaigns.length} {t('campaigns.selected')}\r\n          </span>\r\n          <div className=\"flex gap-2\">\r\n            <button\r\n              onClick={handleBulkPause}\r\n              disabled={pauseCampaign.isPending}\r\n              className=\"flex items-center gap-1 px-3 py-1.5 rounded-md bg-background border hover:bg-muted transition-colors text-sm disabled:opacity-50\"\r\n            >\r\n              {pauseCampaign.isPending ? (\r\n                <Loader2 className=\"w-4 h-4 animate-spin\" />\r\n              ) : (\r\n                <Pause className=\"w-4 h-4\" />\r\n              )}\r\n              {t('campaigns.pauseSelected')}\r\n            </button>\r\n            <button\r\n              onClick={handleBulkActivate}\r\n              disabled={activateCampaign.isPending}\r\n              className=\"flex items-center gap-1 px-3 py-1.5 rounded-md bg-background border hover:bg-muted transition-colors text-sm disabled:opacity-50\"\r\n            >\r\n              {activateCampaign.isPending ? (\r\n                <Loader2 className=\"w-4 h-4 animate-spin\" />\r\n              ) : (\r\n                <Play className=\"w-4 h-4\" />\r\n              )}\r\n              {t('campaigns.activateSelected')}\r\n            </button>\r\n            <button\r\n              onClick={handleBulkDelete}\r\n              disabled={deleteCampaign.isPending}\r\n              className=\"flex items-center gap-1 px-3 py-1.5 rounded-md bg-red-500/10 text-red-500 hover:bg-red-500/20 transition-colors text-sm disabled:opacity-50\"\r\n            >\r\n              {deleteCampaign.isPending ? (\r\n                <Loader2 className=\"w-4 h-4 animate-spin\" />\r\n              ) : (\r\n                <Trash2 className=\"w-4 h-4\" />\r\n              )}\r\n              {t('campaigns.deleteSelected')}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Table */}\r\n      <div className=\"rounded-xl border bg-card overflow-hidden\">\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"w-full\">\r\n            <thead className=\"bg-muted/50 border-b\">\r\n              <tr>\r\n                <th className=\"p-4 text-left\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    checked={\r\n                      selectedCampaigns.length === filteredCampaigns.length &&\r\n                      filteredCampaigns.length > 0\r\n                    }\r\n                    onChange={toggleSelectAll}\r\n                    className=\"rounded border-muted-foreground/50\"\r\n                  />\r\n                </th>\r\n                <th className=\"p-4 text-left\">\r\n                  <button\r\n                    onClick={() => handleSort('name')}\r\n                    className=\"flex items-center gap-1 text-sm font-medium hover:text-primary\"\r\n                  >\r\n                    {t('campaigns.name')}\r\n                    <SortIcon field=\"name\" />\r\n                  </button>\r\n                </th>\r\n                <th className=\"p-4 text-left text-sm font-medium\">{t('campaigns.status')}</th>\r\n                <th className=\"p-4 text-right\">\r\n                  <button\r\n                    onClick={() => handleSort('spend')}\r\n                    className=\"flex items-center gap-1 text-sm font-medium hover:text-primary ml-auto\"\r\n                  >\r\n                    {t('campaigns.spend')}\r\n                    <SortIcon field=\"spend\" />\r\n                  </button>\r\n                </th>\r\n                <th className=\"p-4 text-right\">\r\n                  <button\r\n                    onClick={() => handleSort('revenue')}\r\n                    className=\"flex items-center gap-1 text-sm font-medium hover:text-primary ml-auto\"\r\n                  >\r\n                    {t('campaigns.revenue')}\r\n                    <SortIcon field=\"revenue\" />\r\n                  </button>\r\n                </th>\r\n                <th className=\"p-4 text-right\">\r\n                  <button\r\n                    onClick={() => handleSort('roas')}\r\n                    className=\"flex items-center gap-1 text-sm font-medium hover:text-primary ml-auto\"\r\n                  >\r\n                    ROAS\r\n                    <SortIcon field=\"roas\" />\r\n                  </button>\r\n                </th>\r\n                <th className=\"p-4 text-right\">\r\n                  <button\r\n                    onClick={() => handleSort('conversions')}\r\n                    className=\"flex items-center gap-1 text-sm font-medium hover:text-primary ml-auto\"\r\n                  >\r\n                    {t('campaigns.conversions')}\r\n                    <SortIcon field=\"conversions\" />\r\n                  </button>\r\n                </th>\r\n                <th className=\"p-4 text-right text-sm font-medium\">CTR</th>\r\n                <th className=\"p-4 text-center text-sm font-medium\">{t('campaigns.trend')}</th>\r\n                <th className=\"p-4 text-right text-sm font-medium\">{t('campaigns.actions')}</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody className=\"divide-y\">\r\n              {filteredCampaigns.map((campaign) => (\r\n                <tr key={campaign.id} className=\"hover:bg-muted/30 transition-colors\">\r\n                  <td className=\"p-4\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={selectedCampaigns.includes(campaign.id)}\r\n                      onChange={() => toggleSelectCampaign(campaign.id)}\r\n                      className=\"rounded border-muted-foreground/50\"\r\n                    />\r\n                  </td>\r\n                  <td className=\"p-4\">\r\n                    <div className=\"flex items-center gap-3\">\r\n                      {getPlatformBadge(campaign.platform)}\r\n                      <div>\r\n                        <p className=\"font-medium\">{campaign.name}</p>\r\n                        <p className=\"text-xs text-muted-foreground\">\r\n                          {formatCurrency(campaign.spend)} / {formatCurrency(campaign.budget)}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </td>\r\n                  <td className=\"p-4\">{getStatusBadge(campaign.status)}</td>\r\n                  <td className=\"p-4 text-right font-medium\">{formatCurrency(campaign.spend)}</td>\r\n                  <td className=\"p-4 text-right font-medium text-green-500\">\r\n                    {formatCurrency(campaign.revenue)}\r\n                  </td>\r\n                  <td className=\"p-4 text-right\">\r\n                    <span\r\n                      className={cn(\r\n                        'font-semibold',\r\n                        campaign.roas >= 4 && 'text-green-500',\r\n                        campaign.roas >= 3 && campaign.roas < 4 && 'text-primary',\r\n                        campaign.roas < 3 && 'text-amber-500'\r\n                      )}\r\n                    >\r\n                      {campaign.roas.toFixed(2)}x\r\n                    </span>\r\n                  </td>\r\n                  <td className=\"p-4 text-right\">{formatCompactNumber(campaign.conversions)}</td>\r\n                  <td className=\"p-4 text-right\">{formatPercent(campaign.ctr)}</td>\r\n                  <td className=\"p-4 text-center\">\r\n                    {campaign.trend === 'up' && (\r\n                      <TrendingUp className=\"w-5 h-5 text-green-500 mx-auto\" />\r\n                    )}\r\n                    {campaign.trend === 'down' && (\r\n                      <TrendingDown className=\"w-5 h-5 text-red-500 mx-auto\" />\r\n                    )}\r\n                    {campaign.trend === 'stable' && (\r\n                      <div className=\"w-5 h-0.5 bg-muted-foreground mx-auto\" />\r\n                    )}\r\n                  </td>\r\n                  <td className=\"p-4 text-right\">\r\n                    <div className=\"flex items-center justify-end gap-1\">\r\n                      <button className=\"p-2 rounded-lg hover:bg-muted transition-colors\">\r\n                        <ExternalLink className=\"w-4 h-4\" />\r\n                      </button>\r\n                      <button className=\"p-2 rounded-lg hover:bg-muted transition-colors\">\r\n                        <Edit className=\"w-4 h-4\" />\r\n                      </button>\r\n                      <button className=\"p-2 rounded-lg hover:bg-muted transition-colors\">\r\n                        <MoreHorizontal className=\"w-4 h-4\" />\r\n                      </button>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n\r\n        {filteredCampaigns.length === 0 && (\r\n          <div className=\"p-12 text-center\">\r\n            <p className=\"text-muted-foreground\">{t('campaigns.noResults')}</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Pagination */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <p className=\"text-sm text-muted-foreground\">\r\n          {isLoading ? (\r\n            <span className=\"flex items-center gap-2\">\r\n              <Loader2 className=\"w-4 h-4 animate-spin\" />\r\n              Loading campaigns...\r\n            </span>\r\n          ) : (\r\n            t('campaigns.showing', {\r\n              count: filteredCampaigns.length,\r\n              total: campaigns.length,\r\n            })\r\n          )}\r\n        </p>\r\n        <div className=\"flex items-center gap-2\">\r\n          <button\r\n            className=\"px-3 py-1.5 rounded-lg border hover:bg-muted transition-colors text-sm disabled:opacity-50\"\r\n            disabled\r\n          >\r\n            {t('common.previous')}\r\n          </button>\r\n          <button className=\"px-3 py-1.5 rounded-lg bg-primary text-primary-foreground text-sm\">\r\n            1\r\n          </button>\r\n          <button className=\"px-3 py-1.5 rounded-lg border hover:bg-muted transition-colors text-sm\">\r\n            2\r\n          </button>\r\n          <button className=\"px-3 py-1.5 rounded-lg border hover:bg-muted transition-colors text-sm\">\r\n            {t('common.next')}\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Campaign Create Modal */}\r\n      <CampaignCreateModal\r\n        open={createModalOpen}\r\n        onClose={() => setCreateModalOpen(false)}\r\n        onSuccess={(campaign) => {\r\n          toast({ title: 'Campaign created', description: `\"${campaign?.name || 'New campaign'}\" has been created successfully.` });\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Campaigns;\r\n"],"names":["__iconNode","Bookmark","createLucideIcon","UserPlus","UsersRound","PLATFORMS","STEPS","initialFormData","CampaignCreateModal","open","onClose","onSuccess","t","useTranslation","user","useAuth","currentStep","setCurrentStep","useState","formData","setFormData","errors","setErrors","isSubmitting","setIsSubmitting","submitError","setSubmitError","audienceTab","setAudienceTab","platformAudiences","setPlatformAudiences","tenantId","currentStepIndex","selectedPlatform","p","adAccounts","isLoadingAccounts","_refetchAccounts","useAdAccounts","useEffect","prev","updateFormData","field","value","handleAccountChange","accountId","account","a","toggleAudience","type","audienceId","current","id","validateStep","step","newErrors","minAge","maxAge","handleNext","nextIndex","handleBack","prevIndex","handleSubmit","external_id","payload","l","i","data","handleClose","formatAudienceSize","size","jsxs","jsx","X","index","cn","Check","platform","AlertCircle","e","obj","RefreshCw","Settings","status","DollarSign","Users","Fragment","audience","gender","g","ChevronLeft","ChevronRight","Loader2","mockCampaigns","Campaigns","toast","useToast","searchQuery","setSearchQuery","statusFilter","setStatusFilter","platformFilter","setPlatformFilter","sortField","setSortField","sortDirection","setSortDirection","selectedCampaigns","setSelectedCampaigns","createModalOpen","setCreateModalOpen","useTenantStore","state","campaignsData","isLoading","useCampaigns","pauseCampaign","usePauseCampaign","activateCampaign","useActivateCampaign","deleteCampaign","useDeleteCampaign","campaigns","useMemo","c","_a","_b","handleSort","filteredCampaigns","campaign","b","aValue","bValue","direction","handleBulkPause","handleBulkActivate","handleBulkDelete","toggleSelectAll","toggleSelectCampaign","SortIcon","ChevronUp","ChevronDown","getStatusBadge","styles","getPlatformBadge","getPlatformColor","Plus","Search","Filter","Pause","Play","Trash2","formatCurrency","formatCompactNumber","formatPercent","TrendingUp","TrendingDown","ExternalLink","Edit","MoreHorizontal"],"mappings":"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","x_google_ignoreList":[0,1,2]}