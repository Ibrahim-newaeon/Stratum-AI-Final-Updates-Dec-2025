{"version":3,"file":"MLTraining-D3Zizt-O.js","sources":["../../src/views/MLTraining.tsx"],"sourcesContent":["import { useEffect, useRef, useState } from 'react';\r\nimport {\r\n  AlertCircle,\r\n  BarChart3,\r\n  Brain,\r\n  CheckCircle,\r\n  Cpu,\r\n  Database,\r\n  FileSpreadsheet,\r\n  Play,\r\n  RefreshCw,\r\n  Sparkles,\r\n  Target,\r\n  Trash2,\r\n  TrendingUp,\r\n  Upload,\r\n  XCircle,\r\n} from 'lucide-react';\r\nimport { cn } from '@/lib/utils';\r\nimport { apiClient } from '@/api/client';\r\n\r\n// Types\r\ninterface ModelInfo {\r\n  name: string;\r\n  version: string;\r\n  created_at: string;\r\n  metrics: {\r\n    r2?: number;\r\n    mae?: number;\r\n    rmse?: number;\r\n    mape?: number;\r\n  };\r\n  features: string[];\r\n}\r\n\r\ninterface TrainingFile {\r\n  name: string;\r\n  path: string;\r\n  size_bytes: number;\r\n  modified_at: string;\r\n}\r\n\r\ninterface TrainingResult {\r\n  success: boolean;\r\n  message: string;\r\n  models_trained: string[];\r\n  metrics: Record<string, any>;\r\n  training_time_seconds: number;\r\n}\r\n\r\ntype TabType = 'upload' | 'models' | 'training';\r\n\r\nexport default function MLTraining() {\r\n  const [activeTab, setActiveTab] = useState<TabType>('upload');\r\n  const [models, setModels] = useState<ModelInfo[]>([]);\r\n  const [trainingFiles, setTrainingFiles] = useState<TrainingFile[]>([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isTraining, setIsTraining] = useState(false);\r\n  const [, setUploadProgress] = useState(0);\r\n  const [trainingResult, setTrainingResult] = useState<TrainingResult | null>(null);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const fileInputRef = useRef<HTMLInputElement>(null);\r\n\r\n  // Fetch models and training data on mount\r\n  useEffect(() => {\r\n    fetchModels();\r\n    fetchTrainingData();\r\n  }, []);\r\n\r\n  const fetchModels = async () => {\r\n    try {\r\n      const response = await apiClient.get('/ml/models');\r\n      setModels(response.data.models || []);\r\n    } catch (err) {\r\n      console.error('Failed to fetch models:', err);\r\n    }\r\n  };\r\n\r\n  const fetchTrainingData = async () => {\r\n    try {\r\n      const response = await apiClient.get('/ml/training-data');\r\n      setTrainingFiles(response.data.files || []);\r\n    } catch (err) {\r\n      console.error('Failed to fetch training data:', err);\r\n    }\r\n  };\r\n\r\n  const handleFileUpload = async (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = event.target.files?.[0];\r\n    if (!file) return;\r\n\r\n    if (!file.name.endsWith('.csv')) {\r\n      setError('Please upload a CSV file');\r\n      return;\r\n    }\r\n\r\n    setIsLoading(true);\r\n    setError(null);\r\n    setUploadProgress(0);\r\n\r\n    const formData = new FormData();\r\n    formData.append('file', file);\r\n\r\n    try {\r\n      const response = await apiClient.post('/ml/upload?train_after_upload=false', formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n        },\r\n        onUploadProgress: (progressEvent) => {\r\n          if (progressEvent.total) {\r\n            const progress = Math.round((progressEvent.loaded * 100) / progressEvent.total);\r\n            setUploadProgress(progress);\r\n          }\r\n        },\r\n      });\r\n\r\n      setUploadProgress(100);\r\n\r\n      // Refresh training data list\r\n      await fetchTrainingData();\r\n\r\n      // Show success\r\n      setError(null);\r\n      alert(`Successfully uploaded ${response.data.rows_processed || 'N/A'} rows of training data`);\r\n    } catch (err: any) {\r\n      const errorMessage = err.response?.data?.detail || 'Failed to upload file. Please try again.';\r\n      setError(errorMessage);\r\n      console.error('Upload error:', err);\r\n    } finally {\r\n      setIsLoading(false);\r\n      if (fileInputRef.current) {\r\n        fileInputRef.current.value = '';\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleGenerateSample = async () => {\r\n    setIsLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const response = await apiClient.post('/ml/generate-sample', {\r\n        num_campaigns: 100,\r\n        days_per_campaign: 30,\r\n      });\r\n\r\n      await fetchTrainingData();\r\n      alert(`Generated ${response.data.rows} rows of sample training data`);\r\n    } catch (err: any) {\r\n      const errorMessage = err.response?.data?.detail || 'Failed to generate sample data';\r\n      setError(errorMessage);\r\n      console.error('Generate sample error:', err);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleTrainModels = async (useSampleData: boolean = false) => {\r\n    setIsTraining(true);\r\n    setTrainingResult(null);\r\n    setError(null);\r\n\r\n    try {\r\n      const url = useSampleData\r\n        ? '/ml/train?use_sample_data=true&num_campaigns=100&days=30'\r\n        : '/ml/train';\r\n\r\n      const response = await apiClient.post(url);\r\n\r\n      setTrainingResult(response.data);\r\n      await fetchModels();\r\n    } catch (err: any) {\r\n      const errorMessage =\r\n        err.response?.data?.detail ||\r\n        'Training failed. Please ensure you have uploaded training data.';\r\n      setError(errorMessage);\r\n      console.error('Training error:', err);\r\n    } finally {\r\n      setIsTraining(false);\r\n    }\r\n  };\r\n\r\n  const handleDeleteModel = async (modelName: string) => {\r\n    if (!confirm(`Are you sure you want to delete the ${modelName} model?`)) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await apiClient.delete(`/ml/models/${modelName}`);\r\n      await fetchModels();\r\n    } catch (err: any) {\r\n      const errorMessage = err.response?.data?.detail || 'Failed to delete model';\r\n      setError(errorMessage);\r\n      console.error('Delete error:', err);\r\n    }\r\n  };\r\n\r\n  const formatBytes = (bytes: number) => {\r\n    if (bytes < 1024) return `${bytes} B`;\r\n    if (bytes < 1024 * 1024) return `${(bytes / 1024).toFixed(1)} KB`;\r\n    return `${(bytes / (1024 * 1024)).toFixed(1)} MB`;\r\n  };\r\n\r\n  const formatDate = (dateStr: string) => {\r\n    return new Date(dateStr).toLocaleDateString('en-US', {\r\n      year: 'numeric',\r\n      month: 'short',\r\n      day: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit',\r\n    });\r\n  };\r\n\r\n  const getModelIcon = (name: string) => {\r\n    if (name.includes('roas')) return <TrendingUp className=\"w-5 h-5\" />;\r\n    if (name.includes('conversion')) return <Target className=\"w-5 h-5\" />;\r\n    if (name.includes('budget')) return <BarChart3 className=\"w-5 h-5\" />;\r\n    return <Brain className=\"w-5 h-5\" />;\r\n  };\r\n\r\n  const tabs = [\r\n    { id: 'upload' as TabType, label: 'Upload Data', icon: Upload },\r\n    { id: 'models' as TabType, label: 'Models', icon: Brain },\r\n    { id: 'training' as TabType, label: 'Train', icon: Cpu },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h1 className=\"text-2xl font-bold text-gray-900 dark:text-white\">ML Training</h1>\r\n          <p className=\"text-gray-500 dark:text-gray-400 mt-1\">\r\n            Upload training data and manage ML models\r\n          </p>\r\n        </div>\r\n        <div className=\"flex items-center gap-2\">\r\n          <span\r\n            className={cn(\r\n              'inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-sm font-medium',\r\n              models.length > 0\r\n                ? 'bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400'\r\n                : 'bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400'\r\n            )}\r\n          >\r\n            <Cpu className=\"w-4 h-4\" />\r\n            {models.length} Models Ready\r\n          </span>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Error Display */}\r\n      {error && (\r\n        <div className=\"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 flex items-center gap-3\">\r\n          <AlertCircle className=\"w-5 h-5 text-red-500\" />\r\n          <span className=\"text-red-700 dark:text-red-400\">{error}</span>\r\n          <button\r\n            onClick={() => setError(null)}\r\n            className=\"ml-auto text-red-500 hover:text-red-700\"\r\n          >\r\n            <XCircle className=\"w-5 h-5\" />\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {/* Tabs */}\r\n      <div className=\"border-b border-gray-200 dark:border-gray-700\">\r\n        <nav className=\"flex gap-4\">\r\n          {tabs.map((tab) => (\r\n            <button\r\n              key={tab.id}\r\n              onClick={() => setActiveTab(tab.id)}\r\n              className={cn(\r\n                'flex items-center gap-2 px-4 py-3 border-b-2 font-medium transition-colors',\r\n                activeTab === tab.id\r\n                  ? 'border-blue-500 text-blue-600 dark:text-blue-400'\r\n                  : 'border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400'\r\n              )}\r\n            >\r\n              <tab.icon className=\"w-5 h-5\" />\r\n              {tab.label}\r\n            </button>\r\n          ))}\r\n        </nav>\r\n      </div>\r\n\r\n      {/* Upload Tab */}\r\n      {activeTab === 'upload' && (\r\n        <div className=\"space-y-6\">\r\n          {/* Upload Area */}\r\n          <div className=\"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6\">\r\n            <h2 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-4\">\r\n              Upload Training Data\r\n            </h2>\r\n\r\n            <div className=\"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-8 text-center\">\r\n              <input\r\n                type=\"file\"\r\n                ref={fileInputRef}\r\n                onChange={handleFileUpload}\r\n                accept=\".csv\"\r\n                className=\"hidden\"\r\n              />\r\n              <FileSpreadsheet className=\"w-12 h-12 mx-auto text-gray-400 mb-4\" />\r\n              <p className=\"text-gray-600 dark:text-gray-400 mb-2\">\r\n                Drag and drop your CSV file here, or\r\n              </p>\r\n              <button\r\n                onClick={() => fileInputRef.current?.click()}\r\n                disabled={isLoading}\r\n                className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50\"\r\n              >\r\n                {isLoading ? 'Uploading...' : 'Browse Files'}\r\n              </button>\r\n              <p className=\"text-sm text-gray-500 dark:text-gray-500 mt-4\">\r\n                Supported: CSV files from Kaggle (Facebook Ads, Google Ads) or generic format\r\n              </p>\r\n            </div>\r\n\r\n            {/* Required Columns */}\r\n            <div className=\"mt-6\">\r\n              <h3 className=\"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                Required CSV Columns:\r\n              </h3>\r\n              <div className=\"flex flex-wrap gap-2\">\r\n                {[\r\n                  'spend',\r\n                  'impressions',\r\n                  'clicks',\r\n                  'conversions',\r\n                  'revenue',\r\n                  'platform',\r\n                  'date',\r\n                ].map((col) => (\r\n                  <span\r\n                    key={col}\r\n                    className=\"px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded text-sm text-gray-600 dark:text-gray-400\"\r\n                  >\r\n                    {col}\r\n                  </span>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Generate Sample Data */}\r\n          <div className=\"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6\">\r\n            <h2 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-4\">\r\n              Or Generate Sample Data\r\n            </h2>\r\n            <p className=\"text-gray-500 dark:text-gray-400 mb-4\">\r\n              Generate synthetic training data for testing the ML pipeline\r\n            </p>\r\n            <button\r\n              onClick={handleGenerateSample}\r\n              disabled={isLoading}\r\n              className=\"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50\"\r\n            >\r\n              <Sparkles className=\"w-5 h-5\" />\r\n              Generate 100 Campaigns (30 days each)\r\n            </button>\r\n          </div>\r\n\r\n          {/* Training Files List */}\r\n          <div className=\"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6\">\r\n            <div className=\"flex items-center justify-between mb-4\">\r\n              <h2 className=\"text-lg font-semibold text-gray-900 dark:text-white\">\r\n                Training Data Files\r\n              </h2>\r\n              <button\r\n                onClick={fetchTrainingData}\r\n                className=\"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg\"\r\n              >\r\n                <RefreshCw className=\"w-5 h-5 text-gray-500\" />\r\n              </button>\r\n            </div>\r\n\r\n            {trainingFiles.length === 0 ? (\r\n              <p className=\"text-gray-500 dark:text-gray-400 text-center py-8\">\r\n                No training data uploaded yet\r\n              </p>\r\n            ) : (\r\n              <div className=\"space-y-2\">\r\n                {trainingFiles.map((file) => (\r\n                  <div\r\n                    key={file.path}\r\n                    className=\"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg\"\r\n                  >\r\n                    <div className=\"flex items-center gap-3\">\r\n                      <Database className=\"w-5 h-5 text-blue-500\" />\r\n                      <div>\r\n                        <p className=\"font-medium text-gray-900 dark:text-white\">{file.name}</p>\r\n                        <p className=\"text-sm text-gray-500 dark:text-gray-400\">\r\n                          {formatBytes(file.size_bytes)} • {formatDate(file.modified_at)}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                    <CheckCircle className=\"w-5 h-5 text-green-500\" />\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Models Tab */}\r\n      {activeTab === 'models' && (\r\n        <div className=\"space-y-6\">\r\n          {models.length === 0 ? (\r\n            <div className=\"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-12 text-center\">\r\n              <Brain className=\"w-16 h-16 mx-auto text-gray-300 dark:text-gray-600 mb-4\" />\r\n              <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-2\">\r\n                No Models Trained\r\n              </h3>\r\n              <p className=\"text-gray-500 dark:text-gray-400 mb-4\">\r\n                Upload training data and train models to get started\r\n              </p>\r\n              <button\r\n                onClick={() => setActiveTab('training')}\r\n                className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\r\n              >\r\n                Go to Training\r\n              </button>\r\n            </div>\r\n          ) : (\r\n            <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-3\">\r\n              {models.map((model) => (\r\n                <div\r\n                  key={model.name}\r\n                  className=\"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6\"\r\n                >\r\n                  <div className=\"flex items-start justify-between mb-4\">\r\n                    <div className=\"flex items-center gap-3\">\r\n                      <div className=\"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg text-blue-600 dark:text-blue-400\">\r\n                        {getModelIcon(model.name)}\r\n                      </div>\r\n                      <div>\r\n                        <h3 className=\"font-semibold text-gray-900 dark:text-white\">\r\n                          {model.name.replace(/_/g, ' ').replace(/\\b\\w/g, (l) => l.toUpperCase())}\r\n                        </h3>\r\n                        <p className=\"text-sm text-gray-500 dark:text-gray-400\">v{model.version}</p>\r\n                      </div>\r\n                    </div>\r\n                    <button\r\n                      onClick={() => handleDeleteModel(model.name)}\r\n                      className=\"p-1.5 hover:bg-red-100 dark:hover:bg-red-900/30 rounded text-gray-400 hover:text-red-500\"\r\n                    >\r\n                      <Trash2 className=\"w-4 h-4\" />\r\n                    </button>\r\n                  </div>\r\n\r\n                  {/* Metrics */}\r\n                  <div className=\"space-y-2 mb-4\">\r\n                    {model.metrics.r2 !== undefined && (\r\n                      <div className=\"flex justify-between text-sm\">\r\n                        <span className=\"text-gray-500 dark:text-gray-400\">R² Score</span>\r\n                        <span\r\n                          className={cn(\r\n                            'font-medium',\r\n                            model.metrics.r2 > 0.7\r\n                              ? 'text-green-600'\r\n                              : model.metrics.r2 > 0.5\r\n                                ? 'text-yellow-600'\r\n                                : 'text-red-600'\r\n                          )}\r\n                        >\r\n                          {(model.metrics.r2 * 100).toFixed(1)}%\r\n                        </span>\r\n                      </div>\r\n                    )}\r\n                    {model.metrics.mae !== undefined && (\r\n                      <div className=\"flex justify-between text-sm\">\r\n                        <span className=\"text-gray-500 dark:text-gray-400\">MAE</span>\r\n                        <span className=\"font-medium text-gray-900 dark:text-white\">\r\n                          {model.metrics.mae.toFixed(3)}\r\n                        </span>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n\r\n                  {/* Features */}\r\n                  <div>\r\n                    <p className=\"text-xs text-gray-500 dark:text-gray-400 mb-1\">Features:</p>\r\n                    <div className=\"flex flex-wrap gap-1\">\r\n                      {model.features.slice(0, 4).map((feature) => (\r\n                        <span\r\n                          key={feature}\r\n                          className=\"px-1.5 py-0.5 bg-gray-100 dark:bg-gray-700 rounded text-xs text-gray-600 dark:text-gray-400\"\r\n                        >\r\n                          {feature}\r\n                        </span>\r\n                      ))}\r\n                      {model.features.length > 4 && (\r\n                        <span className=\"px-1.5 py-0.5 text-xs text-gray-500\">\r\n                          +{model.features.length - 4} more\r\n                        </span>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n\r\n                  <p className=\"text-xs text-gray-400 dark:text-gray-500 mt-4\">\r\n                    Created: {formatDate(model.created_at)}\r\n                  </p>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* Training Tab */}\r\n      {activeTab === 'training' && (\r\n        <div className=\"space-y-6\">\r\n          {/* Training Options */}\r\n          <div className=\"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6\">\r\n            <h2 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-4\">\r\n              Train Models\r\n            </h2>\r\n\r\n            <div className=\"grid gap-4 md:grid-cols-2\">\r\n              {/* Train from Uploaded Data */}\r\n              <div className=\"p-4 border border-gray-200 dark:border-gray-600 rounded-lg\">\r\n                <div className=\"flex items-center gap-3 mb-3\">\r\n                  <Database className=\"w-6 h-6 text-blue-500\" />\r\n                  <h3 className=\"font-medium text-gray-900 dark:text-white\">\r\n                    Train from Uploaded Data\r\n                  </h3>\r\n                </div>\r\n                <p className=\"text-sm text-gray-500 dark:text-gray-400 mb-4\">\r\n                  Use your uploaded CSV training data to train models\r\n                </p>\r\n                <button\r\n                  onClick={() => handleTrainModels(false)}\r\n                  disabled={isTraining || trainingFiles.length === 0}\r\n                  className=\"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                >\r\n                  {isTraining ? (\r\n                    <>\r\n                      <RefreshCw className=\"w-5 h-5 animate-spin\" />\r\n                      Training...\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <Play className=\"w-5 h-5\" />\r\n                      Start Training\r\n                    </>\r\n                  )}\r\n                </button>\r\n                {trainingFiles.length === 0 && (\r\n                  <p className=\"text-xs text-yellow-600 dark:text-yellow-400 mt-2\">\r\n                    Upload training data first\r\n                  </p>\r\n                )}\r\n              </div>\r\n\r\n              {/* Train from Sample Data */}\r\n              <div className=\"p-4 border border-gray-200 dark:border-gray-600 rounded-lg\">\r\n                <div className=\"flex items-center gap-3 mb-3\">\r\n                  <Sparkles className=\"w-6 h-6 text-purple-500\" />\r\n                  <h3 className=\"font-medium text-gray-900 dark:text-white\">\r\n                    Train from Sample Data\r\n                  </h3>\r\n                </div>\r\n                <p className=\"text-sm text-gray-500 dark:text-gray-400 mb-4\">\r\n                  Generate synthetic data and train models for testing\r\n                </p>\r\n                <button\r\n                  onClick={() => handleTrainModels(true)}\r\n                  disabled={isTraining}\r\n                  className=\"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50\"\r\n                >\r\n                  {isTraining ? (\r\n                    <>\r\n                      <RefreshCw className=\"w-5 h-5 animate-spin\" />\r\n                      Training...\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <Play className=\"w-5 h-5\" />\r\n                      Quick Train\r\n                    </>\r\n                  )}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Training Result */}\r\n          {trainingResult && (\r\n            <div\r\n              className={cn(\r\n                'rounded-xl border p-6',\r\n                trainingResult.success\r\n                  ? 'bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800'\r\n                  : 'bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800'\r\n              )}\r\n            >\r\n              <div className=\"flex items-center gap-3 mb-4\">\r\n                {trainingResult.success ? (\r\n                  <CheckCircle className=\"w-6 h-6 text-green-500\" />\r\n                ) : (\r\n                  <XCircle className=\"w-6 h-6 text-red-500\" />\r\n                )}\r\n                <h3\r\n                  className={cn(\r\n                    'font-semibold',\r\n                    trainingResult.success\r\n                      ? 'text-green-700 dark:text-green-400'\r\n                      : 'text-red-700 dark:text-red-400'\r\n                  )}\r\n                >\r\n                  {trainingResult.message}\r\n                </h3>\r\n              </div>\r\n\r\n              {trainingResult.success && (\r\n                <>\r\n                  <p className=\"text-sm text-gray-600 dark:text-gray-400 mb-4\">\r\n                    Training completed in {trainingResult.training_time_seconds}s\r\n                  </p>\r\n\r\n                  <div className=\"space-y-3\">\r\n                    {trainingResult.models_trained.map((modelName) => {\r\n                      const metrics = trainingResult.metrics[modelName] || {};\r\n                      return (\r\n                        <div\r\n                          key={modelName}\r\n                          className=\"flex items-center justify-between p-3 bg-white dark:bg-gray-800 rounded-lg\"\r\n                        >\r\n                          <div className=\"flex items-center gap-3\">\r\n                            {getModelIcon(modelName)}\r\n                            <span className=\"font-medium text-gray-900 dark:text-white\">\r\n                              {modelName}\r\n                            </span>\r\n                          </div>\r\n                          <span\r\n                            className={cn(\r\n                              'text-sm font-medium',\r\n                              metrics.r2 > 0.7\r\n                                ? 'text-green-600'\r\n                                : metrics.r2 > 0.5\r\n                                  ? 'text-yellow-600'\r\n                                  : 'text-red-600'\r\n                            )}\r\n                          >\r\n                            R² = {metrics.r2 ? (metrics.r2 * 100).toFixed(1) : 'N/A'}%\r\n                          </span>\r\n                        </div>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                </>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Models Being Trained Info */}\r\n          <div className=\"bg-gray-50 dark:bg-gray-800/50 rounded-xl border border-gray-200 dark:border-gray-700 p-6\">\r\n            <h3 className=\"font-semibold text-gray-900 dark:text-white mb-4\">\r\n              Models That Will Be Trained\r\n            </h3>\r\n            <div className=\"grid gap-4 md:grid-cols-3\">\r\n              <div className=\"flex items-start gap-3\">\r\n                <TrendingUp className=\"w-5 h-5 text-blue-500 mt-0.5\" />\r\n                <div>\r\n                  <h4 className=\"font-medium text-gray-900 dark:text-white\">ROAS Predictor</h4>\r\n                  <p className=\"text-sm text-gray-500 dark:text-gray-400\">\r\n                    Predicts Return on Ad Spend from campaign features\r\n                  </p>\r\n                </div>\r\n              </div>\r\n              <div className=\"flex items-start gap-3\">\r\n                <Target className=\"w-5 h-5 text-green-500 mt-0.5\" />\r\n                <div>\r\n                  <h4 className=\"font-medium text-gray-900 dark:text-white\">\r\n                    Conversion Predictor\r\n                  </h4>\r\n                  <p className=\"text-sm text-gray-500 dark:text-gray-400\">\r\n                    Predicts conversions based on spend and engagement\r\n                  </p>\r\n                </div>\r\n              </div>\r\n              <div className=\"flex items-start gap-3\">\r\n                <BarChart3 className=\"w-5 h-5 text-purple-500 mt-0.5\" />\r\n                <div>\r\n                  <h4 className=\"font-medium text-gray-900 dark:text-white\">Budget Impact</h4>\r\n                  <p className=\"text-sm text-gray-500 dark:text-gray-400\">\r\n                    Predicts revenue changes from budget adjustments\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":["MLTraining","activeTab","setActiveTab","useState","models","setModels","trainingFiles","setTrainingFiles","isLoading","setIsLoading","isTraining","setIsTraining","setUploadProgress","trainingResult","setTrainingResult","error","setError","fileInputRef","useRef","useEffect","fetchModels","fetchTrainingData","response","apiClient","err","handleFileUpload","event","file","_a","formData","progressEvent","progress","errorMessage","_c","_b","handleGenerateSample","handleTrainModels","useSampleData","url","handleDeleteModel","modelName","formatBytes","bytes","formatDate","dateStr","getModelIcon","name","jsx","TrendingUp","Target","BarChart3","Brain","tabs","Upload","Cpu","jsxs","cn","AlertCircle","XCircle","tab","FileSpreadsheet","col","Sparkles","RefreshCw","Database","CheckCircle","model","l","Trash2","feature","Fragment","Play","metrics"],"mappings":"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"}