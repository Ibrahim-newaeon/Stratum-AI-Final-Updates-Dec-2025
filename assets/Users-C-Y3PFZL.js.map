{"version":3,"file":"Users-C-Y3PFZL.js","sources":["../../src/views/superadmin/Users.tsx"],"sourcesContent":["/**\r\n * Superadmin Users Management\r\n * Manage all users across tenants with role assignment\r\n */\r\n\r\nimport { useState } from 'react';\r\nimport { useMutation, useQuery, useQueryClient } from '@tanstack/react-query';\r\nimport {\r\n  CheckCircleIcon,\r\n  EnvelopeIcon,\r\n  MagnifyingGlassIcon,\r\n  PencilIcon,\r\n  PlusIcon,\r\n  ShieldCheckIcon,\r\n  TrashIcon,\r\n  UserIcon,\r\n  XCircleIcon,\r\n} from '@heroicons/react/24/outline';\r\nimport { cn } from '@/lib/utils';\r\n\r\n// Helper to get auth headers\r\nconst getAuthHeaders = () => {\r\n  const token = localStorage.getItem('access_token');\r\n  return {\r\n    'Content-Type': 'application/json',\r\n    ...(token ? { Authorization: `Bearer ${token}` } : {}),\r\n  };\r\n};\r\n\r\ninterface User {\r\n  id: number;\r\n  tenant_id: number;\r\n  email: string;\r\n  full_name: string | null;\r\n  role: string;\r\n  is_active: boolean;\r\n  is_verified: boolean;\r\n  last_login_at: string | null;\r\n  created_at: string;\r\n  updated_at: string;\r\n}\r\n\r\nconst roleColors: Record<string, string> = {\r\n  superadmin: 'bg-purple-600 text-purple-100',\r\n  admin: 'bg-blue-600 text-blue-100',\r\n  manager: 'bg-green-600 text-green-100',\r\n  analyst: 'bg-yellow-600 text-yellow-100',\r\n  viewer: 'bg-neutral-600 text-neutral-100',\r\n};\r\n\r\nconst roleLabels: Record<string, string> = {\r\n  superadmin: 'Super Admin',\r\n  admin: 'Admin',\r\n  manager: 'Manager',\r\n  analyst: 'Analyst',\r\n  viewer: 'Viewer',\r\n};\r\n\r\nexport default function SuperAdminUsers() {\r\n  const queryClient = useQueryClient();\r\n  const [search, setSearch] = useState('');\r\n  const [roleFilter, setRoleFilter] = useState<string>('');\r\n  const [showInviteModal, setShowInviteModal] = useState(false);\r\n  const [showEditModal, setShowEditModal] = useState(false);\r\n  const [selectedUser, setSelectedUser] = useState<User | null>(null);\r\n\r\n  // Form state\r\n  const [inviteEmail, setInviteEmail] = useState('');\r\n  const [inviteRole, setInviteRole] = useState('analyst');\r\n  const [inviteName, setInviteName] = useState('');\r\n  const [editRole, setEditRole] = useState('');\r\n  const [editActive, setEditActive] = useState(true);\r\n\r\n  // Fetch users\r\n  const { data: usersData, isLoading } = useQuery({\r\n    queryKey: ['superadmin-users'],\r\n    queryFn: async () => {\r\n      const response = await fetch('/api/v1/users', {\r\n        headers: getAuthHeaders(),\r\n      });\r\n      if (!response.ok) throw new Error('Failed to fetch users');\r\n      return response.json();\r\n    },\r\n  });\r\n\r\n  // Invite user mutation\r\n  const inviteUser = useMutation({\r\n    mutationFn: async (data: { email: string; role: string; full_name?: string }) => {\r\n      const response = await fetch('/api/v1/users/invite', {\r\n        method: 'POST',\r\n        headers: getAuthHeaders(),\r\n        body: JSON.stringify(data),\r\n      });\r\n      if (!response.ok) throw new Error('Failed to invite user');\r\n      return response.json();\r\n    },\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['superadmin-users'] });\r\n      setShowInviteModal(false);\r\n      setInviteEmail('');\r\n      setInviteRole('analyst');\r\n      setInviteName('');\r\n    },\r\n  });\r\n\r\n  // Update user mutation\r\n  const updateUser = useMutation({\r\n    mutationFn: async ({\r\n      userId,\r\n      data,\r\n    }: {\r\n      userId: number;\r\n      data: { role?: string; is_active?: boolean };\r\n    }) => {\r\n      const response = await fetch(`/api/v1/users/${userId}`, {\r\n        method: 'PATCH',\r\n        headers: getAuthHeaders(),\r\n        body: JSON.stringify(data),\r\n      });\r\n      if (!response.ok) throw new Error('Failed to update user');\r\n      return response.json();\r\n    },\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['superadmin-users'] });\r\n      setShowEditModal(false);\r\n      setSelectedUser(null);\r\n    },\r\n  });\r\n\r\n  // Delete user mutation\r\n  const deleteUser = useMutation({\r\n    mutationFn: async (userId: number) => {\r\n      const response = await fetch(`/api/v1/users/${userId}`, {\r\n        method: 'DELETE',\r\n        headers: getAuthHeaders(),\r\n      });\r\n      if (!response.ok) throw new Error('Failed to delete user');\r\n      return response.json();\r\n    },\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['superadmin-users'] });\r\n    },\r\n  });\r\n\r\n  const users: User[] = usersData?.data || [];\r\n\r\n  // Filter users\r\n  const filteredUsers = users.filter((user) => {\r\n    const matchesSearch =\r\n      !search ||\r\n      user.email.toLowerCase().includes(search.toLowerCase()) ||\r\n      user.full_name?.toLowerCase().includes(search.toLowerCase());\r\n    const matchesRole = !roleFilter || user.role === roleFilter;\r\n    return matchesSearch && matchesRole;\r\n  });\r\n\r\n  const handleInvite = () => {\r\n    if (!inviteEmail) return;\r\n    inviteUser.mutate({\r\n      email: inviteEmail,\r\n      role: inviteRole,\r\n      full_name: inviteName || undefined,\r\n    });\r\n  };\r\n\r\n  const handleEdit = (user: User) => {\r\n    setSelectedUser(user);\r\n    setEditRole(user.role);\r\n    setEditActive(user.is_active);\r\n    setShowEditModal(true);\r\n  };\r\n\r\n  const handleSaveEdit = () => {\r\n    if (!selectedUser) return;\r\n    updateUser.mutate({\r\n      userId: selectedUser.id,\r\n      data: {\r\n        role: editRole,\r\n        is_active: editActive,\r\n      },\r\n    });\r\n  };\r\n\r\n  const handleDelete = (user: User) => {\r\n    if (confirm(`Are you sure you want to delete ${user.email}?`)) {\r\n      deleteUser.mutate(user.id);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-6 space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h1 className=\"text-2xl font-bold text-white flex items-center gap-3\">\r\n            <UserIcon className=\"w-7 h-7 text-purple-400\" />\r\n            User Management\r\n          </h1>\r\n          <p className=\"text-neutral-400 mt-1\">Manage users and their permissions</p>\r\n        </div>\r\n        <button\r\n          onClick={() => setShowInviteModal(true)}\r\n          className=\"flex items-center gap-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors\"\r\n        >\r\n          <PlusIcon className=\"w-5 h-5\" />\r\n          Invite User\r\n        </button>\r\n      </div>\r\n\r\n      {/* Filters */}\r\n      <div className=\"flex items-center gap-4\">\r\n        <div className=\"relative flex-1 max-w-md\">\r\n          <MagnifyingGlassIcon className=\"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-500\" />\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Search by email or name...\"\r\n            value={search}\r\n            onChange={(e) => setSearch(e.target.value)}\r\n            className=\"w-full pl-10 pr-4 py-2 bg-neutral-800 border border-neutral-700 rounded-lg text-white placeholder-neutral-500 focus:outline-none focus:border-purple-500\"\r\n          />\r\n        </div>\r\n        <select\r\n          value={roleFilter}\r\n          onChange={(e) => setRoleFilter(e.target.value)}\r\n          className=\"px-4 py-2 bg-neutral-800 border border-neutral-700 rounded-lg text-white focus:outline-none focus:border-purple-500\"\r\n        >\r\n          <option value=\"\">All Roles</option>\r\n          <option value=\"superadmin\">Super Admin</option>\r\n          <option value=\"admin\">Admin</option>\r\n          <option value=\"manager\">Manager</option>\r\n          <option value=\"analyst\">Analyst</option>\r\n          <option value=\"viewer\">Viewer</option>\r\n        </select>\r\n      </div>\r\n\r\n      {/* Stats */}\r\n      <div className=\"grid grid-cols-4 gap-4\">\r\n        <div className=\"bg-neutral-900 border border-neutral-800 rounded-xl p-4\">\r\n          <div className=\"text-2xl font-bold text-white\">{users.length}</div>\r\n          <div className=\"text-sm text-neutral-400\">Total Users</div>\r\n        </div>\r\n        <div className=\"bg-neutral-900 border border-neutral-800 rounded-xl p-4\">\r\n          <div className=\"text-2xl font-bold text-green-400\">\r\n            {users.filter((u) => u.is_active).length}\r\n          </div>\r\n          <div className=\"text-sm text-neutral-400\">Active</div>\r\n        </div>\r\n        <div className=\"bg-neutral-900 border border-neutral-800 rounded-xl p-4\">\r\n          <div className=\"text-2xl font-bold text-purple-400\">\r\n            {users.filter((u) => u.role === 'superadmin' || u.role === 'admin').length}\r\n          </div>\r\n          <div className=\"text-sm text-neutral-400\">Admins</div>\r\n        </div>\r\n        <div className=\"bg-neutral-900 border border-neutral-800 rounded-xl p-4\">\r\n          <div className=\"text-2xl font-bold text-blue-400\">\r\n            {users.filter((u) => u.is_verified).length}\r\n          </div>\r\n          <div className=\"text-sm text-neutral-400\">Verified</div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Users Table */}\r\n      <div className=\"bg-neutral-900 border border-neutral-800 rounded-xl overflow-hidden\">\r\n        <table className=\"w-full\">\r\n          <thead className=\"bg-neutral-800/50\">\r\n            <tr>\r\n              <th className=\"text-left px-6 py-3 text-xs font-medium text-neutral-400 uppercase tracking-wider\">\r\n                User\r\n              </th>\r\n              <th className=\"text-left px-6 py-3 text-xs font-medium text-neutral-400 uppercase tracking-wider\">\r\n                Role\r\n              </th>\r\n              <th className=\"text-left px-6 py-3 text-xs font-medium text-neutral-400 uppercase tracking-wider\">\r\n                Status\r\n              </th>\r\n              <th className=\"text-left px-6 py-3 text-xs font-medium text-neutral-400 uppercase tracking-wider\">\r\n                Last Login\r\n              </th>\r\n              <th className=\"text-left px-6 py-3 text-xs font-medium text-neutral-400 uppercase tracking-wider\">\r\n                Created\r\n              </th>\r\n              <th className=\"text-right px-6 py-3 text-xs font-medium text-neutral-400 uppercase tracking-wider\">\r\n                Actions\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody className=\"divide-y divide-neutral-800\">\r\n            {isLoading ? (\r\n              <tr>\r\n                <td colSpan={6} className=\"px-6 py-12 text-center text-neutral-500\">\r\n                  Loading users...\r\n                </td>\r\n              </tr>\r\n            ) : filteredUsers.length === 0 ? (\r\n              <tr>\r\n                <td colSpan={6} className=\"px-6 py-12 text-center text-neutral-500\">\r\n                  No users found\r\n                </td>\r\n              </tr>\r\n            ) : (\r\n              filteredUsers.map((user) => (\r\n                <tr key={user.id} className=\"hover:bg-neutral-800/30 transition-colors\">\r\n                  <td className=\"px-6 py-4\">\r\n                    <div className=\"flex items-center gap-3\">\r\n                      <div className=\"w-10 h-10 rounded-full bg-neutral-700 flex items-center justify-center\">\r\n                        <UserIcon className=\"w-5 h-5 text-neutral-400\" />\r\n                      </div>\r\n                      <div>\r\n                        <div className=\"text-white font-medium\">{user.full_name || 'No name'}</div>\r\n                        <div className=\"text-sm text-neutral-400\">{user.email}</div>\r\n                      </div>\r\n                    </div>\r\n                  </td>\r\n                  <td className=\"px-6 py-4\">\r\n                    <span\r\n                      className={cn(\r\n                        'px-2 py-1 rounded-full text-xs font-medium',\r\n                        roleColors[user.role] || 'bg-neutral-600'\r\n                      )}\r\n                    >\r\n                      {user.role === 'superadmin' && (\r\n                        <ShieldCheckIcon className=\"w-3 h-3 inline mr-1\" />\r\n                      )}\r\n                      {roleLabels[user.role] || user.role}\r\n                    </span>\r\n                  </td>\r\n                  <td className=\"px-6 py-4\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                      {user.is_active ? (\r\n                        <span className=\"flex items-center gap-1 text-green-400 text-sm\">\r\n                          <CheckCircleIcon className=\"w-4 h-4\" />\r\n                          Active\r\n                        </span>\r\n                      ) : (\r\n                        <span className=\"flex items-center gap-1 text-red-400 text-sm\">\r\n                          <XCircleIcon className=\"w-4 h-4\" />\r\n                          Inactive\r\n                        </span>\r\n                      )}\r\n                      {user.is_verified && (\r\n                        <span className=\"text-blue-400 text-xs\">(Verified)</span>\r\n                      )}\r\n                    </div>\r\n                  </td>\r\n                  <td className=\"px-6 py-4 text-sm text-neutral-400\">\r\n                    {user.last_login_at\r\n                      ? new Date(user.last_login_at).toLocaleDateString()\r\n                      : 'Never'}\r\n                  </td>\r\n                  <td className=\"px-6 py-4 text-sm text-neutral-400\">\r\n                    {new Date(user.created_at).toLocaleDateString()}\r\n                  </td>\r\n                  <td className=\"px-6 py-4\">\r\n                    <div className=\"flex items-center justify-end gap-2\">\r\n                      <button\r\n                        onClick={() => handleEdit(user)}\r\n                        className=\"p-2 text-neutral-400 hover:text-white hover:bg-neutral-700 rounded-lg transition-colors\"\r\n                        title=\"Edit user\"\r\n                      >\r\n                        <PencilIcon className=\"w-4 h-4\" />\r\n                      </button>\r\n                      <button\r\n                        onClick={() => handleDelete(user)}\r\n                        className=\"p-2 text-neutral-400 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors\"\r\n                        title=\"Delete user\"\r\n                      >\r\n                        <TrashIcon className=\"w-4 h-4\" />\r\n                      </button>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              ))\r\n            )}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      {/* Invite Modal */}\r\n      {showInviteModal && (\r\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\">\r\n          <div className=\"bg-neutral-900 border border-neutral-800 rounded-xl p-6 w-full max-w-md\">\r\n            <h3 className=\"text-lg font-semibold text-white mb-4 flex items-center gap-2\">\r\n              <EnvelopeIcon className=\"w-5 h-5 text-purple-400\" />\r\n              Invite New User\r\n            </h3>\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-neutral-300 mb-1\">Email *</label>\r\n                <input\r\n                  type=\"email\"\r\n                  value={inviteEmail}\r\n                  onChange={(e) => setInviteEmail(e.target.value)}\r\n                  placeholder=\"user@example.com\"\r\n                  className=\"w-full px-4 py-2 bg-neutral-800 border border-neutral-700 rounded-lg text-white placeholder-neutral-500 focus:outline-none focus:border-purple-500\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-neutral-300 mb-1\">Full Name</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={inviteName}\r\n                  onChange={(e) => setInviteName(e.target.value)}\r\n                  placeholder=\"John Doe\"\r\n                  className=\"w-full px-4 py-2 bg-neutral-800 border border-neutral-700 rounded-lg text-white placeholder-neutral-500 focus:outline-none focus:border-purple-500\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-neutral-300 mb-1\">Role *</label>\r\n                <select\r\n                  value={inviteRole}\r\n                  onChange={(e) => setInviteRole(e.target.value)}\r\n                  className=\"w-full px-4 py-2 bg-neutral-800 border border-neutral-700 rounded-lg text-white focus:outline-none focus:border-purple-500\"\r\n                >\r\n                  <option value=\"viewer\">Viewer</option>\r\n                  <option value=\"analyst\">Analyst</option>\r\n                  <option value=\"manager\">Manager</option>\r\n                  <option value=\"admin\">Admin</option>\r\n                  <option value=\"superadmin\">Super Admin</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <div className=\"flex justify-end gap-3 mt-6\">\r\n              <button\r\n                onClick={() => {\r\n                  setShowInviteModal(false);\r\n                  setInviteEmail('');\r\n                  setInviteName('');\r\n                }}\r\n                className=\"px-4 py-2 text-neutral-400 hover:text-white transition-colors\"\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                onClick={handleInvite}\r\n                disabled={!inviteEmail || inviteUser.isPending}\r\n                className=\"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg disabled:opacity-50 transition-colors\"\r\n              >\r\n                {inviteUser.isPending ? 'Inviting...' : 'Send Invite'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Edit Modal */}\r\n      {showEditModal && selectedUser && (\r\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\">\r\n          <div className=\"bg-neutral-900 border border-neutral-800 rounded-xl p-6 w-full max-w-md\">\r\n            <h3 className=\"text-lg font-semibold text-white mb-4\">Edit User</h3>\r\n            <p className=\"text-neutral-400 text-sm mb-4\">{selectedUser.email}</p>\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-neutral-300 mb-1\">Role</label>\r\n                <select\r\n                  value={editRole}\r\n                  onChange={(e) => setEditRole(e.target.value)}\r\n                  className=\"w-full px-4 py-2 bg-neutral-800 border border-neutral-700 rounded-lg text-white focus:outline-none focus:border-purple-500\"\r\n                >\r\n                  <option value=\"viewer\">Viewer</option>\r\n                  <option value=\"analyst\">Analyst</option>\r\n                  <option value=\"manager\">Manager</option>\r\n                  <option value=\"admin\">Admin</option>\r\n                  <option value=\"superadmin\">Super Admin</option>\r\n                </select>\r\n              </div>\r\n              <div className=\"flex items-center gap-3\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  id=\"editActive\"\r\n                  checked={editActive}\r\n                  onChange={(e) => setEditActive(e.target.checked)}\r\n                  className=\"w-4 h-4 rounded border-neutral-600 text-purple-600 focus:ring-purple-500\"\r\n                />\r\n                <label htmlFor=\"editActive\" className=\"text-sm text-neutral-300\">\r\n                  Active\r\n                </label>\r\n              </div>\r\n            </div>\r\n            <div className=\"flex justify-end gap-3 mt-6\">\r\n              <button\r\n                onClick={() => {\r\n                  setShowEditModal(false);\r\n                  setSelectedUser(null);\r\n                }}\r\n                className=\"px-4 py-2 text-neutral-400 hover:text-white transition-colors\"\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                onClick={handleSaveEdit}\r\n                disabled={updateUser.isPending}\r\n                className=\"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg disabled:opacity-50 transition-colors\"\r\n              >\r\n                {updateUser.isPending ? 'Saving...' : 'Save Changes'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":["getAuthHeaders","token","roleColors","roleLabels","SuperAdminUsers","queryClient","useQueryClient","search","setSearch","useState","roleFilter","setRoleFilter","showInviteModal","setShowInviteModal","showEditModal","setShowEditModal","selectedUser","setSelectedUser","inviteEmail","setInviteEmail","inviteRole","setInviteRole","inviteName","setInviteName","editRole","setEditRole","editActive","setEditActive","usersData","isLoading","useQuery","response","inviteUser","useMutation","data","updateUser","userId","deleteUser","users","filteredUsers","user","matchesSearch","_a","matchesRole","handleInvite","handleEdit","handleSaveEdit","handleDelete","jsxs","jsx","UserIcon","PlusIcon","MagnifyingGlassIcon","e","u","cn","ShieldCheckIcon","CheckCircleIcon","XCircleIcon","PencilIcon","TrashIcon","EnvelopeIcon"],"mappings":"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"}