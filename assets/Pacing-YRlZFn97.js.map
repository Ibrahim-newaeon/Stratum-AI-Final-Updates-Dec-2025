{"version":3,"file":"Pacing-YRlZFn97.js","sources":["../../src/api/pacing.ts","../../src/views/tenant/Pacing.tsx"],"sourcesContent":["/**\r\n * Stratum AI - Pacing & Forecasting API\r\n *\r\n * Handles targets, pacing calculations, forecasts, and alerts.\r\n */\r\n\r\nimport { useMutation, useQuery, useQueryClient } from '@tanstack/react-query';\r\nimport { apiClient, ApiResponse } from './client';\r\n\r\n// =============================================================================\r\n// Types\r\n// =============================================================================\r\n\r\nexport type TargetPeriod = 'daily' | 'weekly' | 'monthly' | 'quarterly' | 'yearly' | 'custom';\r\nexport type TargetMetric =\r\n  | 'spend'\r\n  | 'revenue'\r\n  | 'roas'\r\n  | 'conversions'\r\n  | 'cpa'\r\n  | 'ctr'\r\n  | 'impressions'\r\n  | 'clicks';\r\nexport type AlertSeverity = 'info' | 'warning' | 'critical';\r\nexport type AlertType =\r\n  | 'underpacing'\r\n  | 'overpacing'\r\n  | 'target_at_risk'\r\n  | 'target_missed'\r\n  | 'target_exceeded';\r\nexport type AlertStatus = 'active' | 'acknowledged' | 'resolved' | 'dismissed';\r\n\r\nexport interface Target {\r\n  id: string;\r\n  tenantId: number;\r\n  name: string;\r\n  description?: string;\r\n  metricType: TargetMetric;\r\n  targetValue: number;\r\n  periodType: TargetPeriod;\r\n  periodStart: string;\r\n  periodEnd: string;\r\n  platform?: string;\r\n  campaignId?: string;\r\n  minValue?: number;\r\n  maxValue?: number;\r\n  warningThresholdPct: number;\r\n  criticalThresholdPct: number;\r\n  isActive: boolean;\r\n  notifySlack: boolean;\r\n  notifyEmail: boolean;\r\n  notifyWhatsapp: boolean;\r\n  notificationRecipients: string[];\r\n  createdAt: string;\r\n  updatedAt: string;\r\n}\r\n\r\nexport interface DailyKPI {\r\n  id: string;\r\n  tenantId: number;\r\n  date: string;\r\n  platform?: string;\r\n  campaignId?: string;\r\n  spend: number;\r\n  revenue: number;\r\n  conversions: number;\r\n  impressions: number;\r\n  clicks: number;\r\n  roas: number;\r\n  cpa: number;\r\n  ctr: number;\r\n}\r\n\r\nexport interface PacingStatus {\r\n  targetId: string;\r\n  targetName: string;\r\n  metricType: TargetMetric;\r\n  targetValue: number;\r\n  currentValue: number;\r\n  pacingPct: number;\r\n  projectedValue: number;\r\n  projectedPct: number;\r\n  daysRemaining: number;\r\n  daysElapsed: number;\r\n  dailyTarget: number;\r\n  dailyActual: number;\r\n  status: 'on_track' | 'ahead' | 'behind' | 'at_risk' | 'missed';\r\n  trend: 'improving' | 'declining' | 'stable';\r\n}\r\n\r\nexport interface PacingAlert {\r\n  id: string;\r\n  tenantId: number;\r\n  targetId: string;\r\n  target?: Target;\r\n  alertType: AlertType;\r\n  severity: AlertSeverity;\r\n  status: AlertStatus;\r\n  message: string;\r\n  currentValue: number;\r\n  expectedValue: number;\r\n  deviationPct: number;\r\n  triggeredAt: string;\r\n  acknowledgedAt?: string;\r\n  resolvedAt?: string;\r\n  acknowledgedBy?: string;\r\n  resolvedBy?: string;\r\n  notes?: string;\r\n}\r\n\r\nexport interface Forecast {\r\n  id: string;\r\n  tenantId: number;\r\n  targetId?: string;\r\n  metricType: TargetMetric;\r\n  platform?: string;\r\n  campaignId?: string;\r\n  forecastDate: string;\r\n  generatedAt: string;\r\n  horizon: number;\r\n  predictions: ForecastPrediction[];\r\n  modelType: string;\r\n  accuracy?: number;\r\n  confidenceLevel: number;\r\n}\r\n\r\nexport interface ForecastPrediction {\r\n  date: string;\r\n  predicted: number;\r\n  lowerBound: number;\r\n  upperBound: number;\r\n  confidencePct: number;\r\n}\r\n\r\nexport interface PacingSummary {\r\n  id: string;\r\n  tenantId: number;\r\n  date: string;\r\n  period: TargetPeriod;\r\n  totalTargets: number;\r\n  onTrack: number;\r\n  ahead: number;\r\n  behind: number;\r\n  atRisk: number;\r\n  missed: number;\r\n  overallHealthScore: number;\r\n  topPerformers: string[];\r\n  needsAttention: string[];\r\n}\r\n\r\nexport interface CreateTargetRequest {\r\n  name: string;\r\n  description?: string;\r\n  metricType: TargetMetric;\r\n  targetValue: number;\r\n  periodType: TargetPeriod;\r\n  periodStart: string;\r\n  periodEnd: string;\r\n  platform?: string;\r\n  campaignId?: string;\r\n  minValue?: number;\r\n  maxValue?: number;\r\n  warningThresholdPct?: number;\r\n  criticalThresholdPct?: number;\r\n  notifySlack?: boolean;\r\n  notifyEmail?: boolean;\r\n  notifyWhatsapp?: boolean;\r\n  notificationRecipients?: string[];\r\n}\r\n\r\n// =============================================================================\r\n// API Functions\r\n// =============================================================================\r\n\r\nexport const pacingApi = {\r\n  // Targets\r\n  getTargets: async (params?: {\r\n    isActive?: boolean;\r\n    metricType?: TargetMetric;\r\n    periodType?: TargetPeriod;\r\n  }) => {\r\n    const response = await apiClient.get<ApiResponse<Target[]>>('/pacing/targets', { params });\r\n    return response.data.data;\r\n  },\r\n\r\n  getTarget: async (targetId: string) => {\r\n    const response = await apiClient.get<ApiResponse<Target>>(`/pacing/targets/${targetId}`);\r\n    return response.data.data;\r\n  },\r\n\r\n  createTarget: async (data: CreateTargetRequest) => {\r\n    const response = await apiClient.post<ApiResponse<Target>>('/pacing/targets', data);\r\n    return response.data.data;\r\n  },\r\n\r\n  updateTarget: async (targetId: string, data: Partial<CreateTargetRequest>) => {\r\n    const response = await apiClient.patch<ApiResponse<Target>>(\r\n      `/pacing/targets/${targetId}`,\r\n      data\r\n    );\r\n    return response.data.data;\r\n  },\r\n\r\n  deleteTarget: async (targetId: string) => {\r\n    const response = await apiClient.delete<ApiResponse<void>>(`/pacing/targets/${targetId}`);\r\n    return response.data;\r\n  },\r\n\r\n  // Pacing\r\n  getPacingStatus: async (targetId: string) => {\r\n    const response = await apiClient.get<ApiResponse<PacingStatus>>(\r\n      `/pacing/targets/${targetId}/pacing`\r\n    );\r\n    return response.data.data;\r\n  },\r\n\r\n  getAllPacingStatus: async () => {\r\n    const response = await apiClient.get<ApiResponse<PacingStatus[]>>('/pacing/status');\r\n    return response.data.data;\r\n  },\r\n\r\n  getPacingSummary: async (period?: TargetPeriod) => {\r\n    const response = await apiClient.get<ApiResponse<PacingSummary>>('/pacing/summary', {\r\n      params: { period },\r\n    });\r\n    return response.data.data;\r\n  },\r\n\r\n  // Daily KPIs\r\n  getDailyKPIs: async (params: {\r\n    startDate: string;\r\n    endDate: string;\r\n    platform?: string;\r\n    campaignId?: string;\r\n  }) => {\r\n    const response = await apiClient.get<ApiResponse<DailyKPI[]>>('/pacing/kpis/daily', { params });\r\n    return response.data.data;\r\n  },\r\n\r\n  // Forecasts\r\n  getForecast: async (targetId: string, horizon?: number) => {\r\n    const response = await apiClient.get<ApiResponse<Forecast>>(\r\n      `/pacing/targets/${targetId}/forecast`,\r\n      {\r\n        params: { horizon },\r\n      }\r\n    );\r\n    return response.data.data;\r\n  },\r\n\r\n  getMetricForecast: async (params: {\r\n    metricType: TargetMetric;\r\n    platform?: string;\r\n    horizon?: number;\r\n  }) => {\r\n    const response = await apiClient.get<ApiResponse<Forecast>>('/pacing/forecast', { params });\r\n    return response.data.data;\r\n  },\r\n\r\n  generateForecast: async (targetId: string, horizon?: number) => {\r\n    const response = await apiClient.post<ApiResponse<Forecast>>(\r\n      `/pacing/targets/${targetId}/forecast/generate`,\r\n      {\r\n        horizon,\r\n      }\r\n    );\r\n    return response.data.data;\r\n  },\r\n\r\n  // Alerts\r\n  getAlerts: async (params?: {\r\n    status?: AlertStatus;\r\n    severity?: AlertSeverity;\r\n    targetId?: string;\r\n  }) => {\r\n    const response = await apiClient.get<ApiResponse<PacingAlert[]>>('/pacing/alerts', { params });\r\n    return response.data.data;\r\n  },\r\n\r\n  getAlert: async (alertId: string) => {\r\n    const response = await apiClient.get<ApiResponse<PacingAlert>>(`/pacing/alerts/${alertId}`);\r\n    return response.data.data;\r\n  },\r\n\r\n  acknowledgeAlert: async (alertId: string, notes?: string) => {\r\n    const response = await apiClient.post<ApiResponse<PacingAlert>>(\r\n      `/pacing/alerts/${alertId}/acknowledge`,\r\n      { notes }\r\n    );\r\n    return response.data.data;\r\n  },\r\n\r\n  resolveAlert: async (alertId: string, notes?: string) => {\r\n    const response = await apiClient.post<ApiResponse<PacingAlert>>(\r\n      `/pacing/alerts/${alertId}/resolve`,\r\n      { notes }\r\n    );\r\n    return response.data.data;\r\n  },\r\n\r\n  dismissAlert: async (alertId: string, notes?: string) => {\r\n    const response = await apiClient.post<ApiResponse<PacingAlert>>(\r\n      `/pacing/alerts/${alertId}/dismiss`,\r\n      { notes }\r\n    );\r\n    return response.data.data;\r\n  },\r\n\r\n  getAlertStats: async () => {\r\n    const response = await apiClient.get<\r\n      ApiResponse<{\r\n        total: number;\r\n        active: number;\r\n        acknowledged: number;\r\n        bySeverity: Record<AlertSeverity, number>;\r\n        byType: Record<AlertType, number>;\r\n      }>\r\n    >('/pacing/alerts/stats');\r\n    return response.data.data;\r\n  },\r\n};\r\n\r\n// =============================================================================\r\n// React Query Hooks\r\n// =============================================================================\r\n\r\n// Targets\r\nexport function useTargets(params?: {\r\n  isActive?: boolean;\r\n  metricType?: TargetMetric;\r\n  periodType?: TargetPeriod;\r\n}) {\r\n  return useQuery({\r\n    queryKey: ['pacing', 'targets', params],\r\n    queryFn: () => pacingApi.getTargets(params),\r\n  });\r\n}\r\n\r\nexport function useTarget(targetId: string) {\r\n  return useQuery({\r\n    queryKey: ['pacing', 'targets', targetId],\r\n    queryFn: () => pacingApi.getTarget(targetId),\r\n    enabled: !!targetId,\r\n  });\r\n}\r\n\r\nexport function useCreateTarget() {\r\n  const queryClient = useQueryClient();\r\n  return useMutation({\r\n    mutationFn: pacingApi.createTarget,\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['pacing', 'targets'] });\r\n    },\r\n  });\r\n}\r\n\r\nexport function useUpdateTarget() {\r\n  const queryClient = useQueryClient();\r\n  return useMutation({\r\n    mutationFn: ({ targetId, data }: { targetId: string; data: Partial<CreateTargetRequest> }) =>\r\n      pacingApi.updateTarget(targetId, data),\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['pacing', 'targets'] });\r\n    },\r\n  });\r\n}\r\n\r\nexport function useDeleteTarget() {\r\n  const queryClient = useQueryClient();\r\n  return useMutation({\r\n    mutationFn: pacingApi.deleteTarget,\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['pacing', 'targets'] });\r\n    },\r\n  });\r\n}\r\n\r\n// Pacing\r\nexport function usePacingStatus(targetId: string) {\r\n  return useQuery({\r\n    queryKey: ['pacing', 'status', targetId],\r\n    queryFn: () => pacingApi.getPacingStatus(targetId),\r\n    enabled: !!targetId,\r\n    refetchInterval: 60000, // Refresh every minute\r\n  });\r\n}\r\n\r\nexport function useAllPacingStatus() {\r\n  return useQuery({\r\n    queryKey: ['pacing', 'status', 'all'],\r\n    queryFn: pacingApi.getAllPacingStatus,\r\n    refetchInterval: 60000,\r\n  });\r\n}\r\n\r\nexport function usePacingSummary(period?: TargetPeriod) {\r\n  return useQuery({\r\n    queryKey: ['pacing', 'summary', period],\r\n    queryFn: () => pacingApi.getPacingSummary(period),\r\n    refetchInterval: 60000,\r\n  });\r\n}\r\n\r\n// Daily KPIs\r\nexport function useDailyKPIs(params: {\r\n  startDate: string;\r\n  endDate: string;\r\n  platform?: string;\r\n  campaignId?: string;\r\n}) {\r\n  return useQuery({\r\n    queryKey: ['pacing', 'kpis', 'daily', params],\r\n    queryFn: () => pacingApi.getDailyKPIs(params),\r\n    enabled: !!params.startDate && !!params.endDate,\r\n  });\r\n}\r\n\r\n// Forecasts\r\nexport function useForecast(targetId: string, horizon?: number) {\r\n  return useQuery({\r\n    queryKey: ['pacing', 'forecast', targetId, horizon],\r\n    queryFn: () => pacingApi.getForecast(targetId, horizon),\r\n    enabled: !!targetId,\r\n  });\r\n}\r\n\r\nexport function useMetricForecast(params: {\r\n  metricType: TargetMetric;\r\n  platform?: string;\r\n  horizon?: number;\r\n}) {\r\n  return useQuery({\r\n    queryKey: ['pacing', 'forecast', 'metric', params],\r\n    queryFn: () => pacingApi.getMetricForecast(params),\r\n  });\r\n}\r\n\r\nexport function useGenerateForecast() {\r\n  const queryClient = useQueryClient();\r\n  return useMutation({\r\n    mutationFn: ({ targetId, horizon }: { targetId: string; horizon?: number }) =>\r\n      pacingApi.generateForecast(targetId, horizon),\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['pacing', 'forecast'] });\r\n    },\r\n  });\r\n}\r\n\r\n// Alerts\r\nexport function usePacingAlerts(params?: {\r\n  status?: AlertStatus;\r\n  severity?: AlertSeverity;\r\n  targetId?: string;\r\n}) {\r\n  return useQuery({\r\n    queryKey: ['pacing', 'alerts', params],\r\n    queryFn: () => pacingApi.getAlerts(params),\r\n    refetchInterval: 30000, // Refresh every 30 seconds\r\n  });\r\n}\r\n\r\nexport function usePacingAlert(alertId: string) {\r\n  return useQuery({\r\n    queryKey: ['pacing', 'alerts', alertId],\r\n    queryFn: () => pacingApi.getAlert(alertId),\r\n    enabled: !!alertId,\r\n  });\r\n}\r\n\r\nexport function useAcknowledgeAlert() {\r\n  const queryClient = useQueryClient();\r\n  return useMutation({\r\n    mutationFn: ({ alertId, notes }: { alertId: string; notes?: string }) =>\r\n      pacingApi.acknowledgeAlert(alertId, notes),\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['pacing', 'alerts'] });\r\n    },\r\n  });\r\n}\r\n\r\nexport function useResolveAlert() {\r\n  const queryClient = useQueryClient();\r\n  return useMutation({\r\n    mutationFn: ({ alertId, notes }: { alertId: string; notes?: string }) =>\r\n      pacingApi.resolveAlert(alertId, notes),\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['pacing', 'alerts'] });\r\n    },\r\n  });\r\n}\r\n\r\nexport function useDismissAlert() {\r\n  const queryClient = useQueryClient();\r\n  return useMutation({\r\n    mutationFn: ({ alertId, notes }: { alertId: string; notes?: string }) =>\r\n      pacingApi.dismissAlert(alertId, notes),\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['pacing', 'alerts'] });\r\n    },\r\n  });\r\n}\r\n\r\nexport function useAlertStats() {\r\n  return useQuery({\r\n    queryKey: ['pacing', 'alerts', 'stats'],\r\n    queryFn: pacingApi.getAlertStats,\r\n    refetchInterval: 30000,\r\n  });\r\n}\r\n","/**\r\n * Stratum AI - Pacing & Forecasting Page\r\n *\r\n * Manages targets, pacing status, forecasts, and alerts.\r\n */\r\n\r\nimport { useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport {\r\n  useAcknowledgeAlert,\r\n  useAlertStats,\r\n  useAllPacingStatus,\r\n  usePacingAlerts,\r\n  usePacingSummary,\r\n  useResolveAlert,\r\n  useTargets,\r\n} from '@/api/hooks';\r\nimport {\r\n  ArrowTrendingDownIcon,\r\n  ArrowTrendingUpIcon,\r\n  BellAlertIcon,\r\n  CalendarIcon,\r\n  ChartBarIcon,\r\n  CheckCircleIcon,\r\n  ExclamationTriangleIcon,\r\n  PlusIcon,\r\n} from '@heroicons/react/24/outline';\r\nimport { cn } from '@/lib/utils';\r\n\r\ntype TabType = 'overview' | 'targets' | 'alerts' | 'forecasts';\r\n\r\nconst statusColors = {\r\n  on_track: 'bg-emerald-100 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-300',\r\n  ahead: 'bg-blue-100 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300',\r\n  behind: 'bg-amber-100 dark:bg-amber-900/20 text-amber-700 dark:text-amber-300',\r\n  at_risk: 'bg-red-100 dark:bg-red-900/20 text-red-700 dark:text-red-300',\r\n  missed: 'bg-gray-100 dark:bg-gray-900/20 text-gray-700 dark:text-gray-300',\r\n};\r\n\r\nexport default function Pacing() {\r\n  useParams<{ tenantId: string }>();\r\n  const [activeTab, setActiveTab] = useState<TabType>('overview');\r\n  const [, setShowNewTargetModal] = useState(false);\r\n\r\n  const { data: targets } = useTargets();\r\n  const { data: pacingStatus } = useAllPacingStatus();\r\n  const { data: summary } = usePacingSummary();\r\n  const { data: alerts } = usePacingAlerts({ status: 'active' });\r\n  const { data: alertStats } = useAlertStats();\r\n  const acknowledgeAlert = useAcknowledgeAlert();\r\n  const resolveAlert = useResolveAlert();\r\n\r\n  const tabs = [\r\n    { id: 'overview' as TabType, label: 'Overview' },\r\n    { id: 'targets' as TabType, label: 'Targets' },\r\n    { id: 'alerts' as TabType, label: 'Alerts', badge: alertStats?.active },\r\n    { id: 'forecasts' as TabType, label: 'Forecasts' },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h1 className=\"text-2xl font-bold\">Pacing & Forecasting</h1>\r\n          <p className=\"text-muted-foreground\">\r\n            Track campaign targets, pacing, and AI-powered forecasts\r\n          </p>\r\n        </div>\r\n        <button\r\n          onClick={() => setShowNewTargetModal(true)}\r\n          className=\"flex items-center gap-2 px-4 py-2 rounded-lg bg-primary text-primary-foreground hover:bg-primary/90\"\r\n        >\r\n          <PlusIcon className=\"h-4 w-4\" />\r\n          New Target\r\n        </button>\r\n      </div>\r\n\r\n      {/* Tabs */}\r\n      <div className=\"border-b\">\r\n        <nav className=\"flex gap-4\">\r\n          {tabs.map((tab) => (\r\n            <button\r\n              key={tab.id}\r\n              onClick={() => setActiveTab(tab.id)}\r\n              className={cn(\r\n                'px-4 py-2 border-b-2 font-medium text-sm transition-colors flex items-center gap-2',\r\n                activeTab === tab.id\r\n                  ? 'border-primary text-primary'\r\n                  : 'border-transparent text-muted-foreground hover:text-foreground'\r\n              )}\r\n            >\r\n              {tab.label}\r\n              {tab.badge && tab.badge > 0 && (\r\n                <span className=\"px-2 py-0.5 text-xs rounded-full bg-red-100 dark:bg-red-900/20 text-red-700 dark:text-red-300\">\r\n                  {tab.badge}\r\n                </span>\r\n              )}\r\n            </button>\r\n          ))}\r\n        </nav>\r\n      </div>\r\n\r\n      {/* Overview Tab */}\r\n      {activeTab === 'overview' && (\r\n        <div className=\"space-y-6\">\r\n          {/* Health Score */}\r\n          {summary && (\r\n            <div className=\"grid grid-cols-1 md:grid-cols-5 gap-4\">\r\n              <div className=\"rounded-xl border bg-card p-6 shadow-card\">\r\n                <p className=\"text-sm text-muted-foreground\">Health Score</p>\r\n                <p className=\"text-3xl font-bold text-primary\">{summary.overallHealthScore}%</p>\r\n              </div>\r\n              <div className=\"rounded-xl border bg-card p-6 shadow-card\">\r\n                <p className=\"text-sm text-muted-foreground\">On Track</p>\r\n                <p className=\"text-2xl font-bold text-emerald-600\">{summary.onTrack}</p>\r\n              </div>\r\n              <div className=\"rounded-xl border bg-card p-6 shadow-card\">\r\n                <p className=\"text-sm text-muted-foreground\">Ahead</p>\r\n                <p className=\"text-2xl font-bold text-blue-600\">{summary.ahead}</p>\r\n              </div>\r\n              <div className=\"rounded-xl border bg-card p-6 shadow-card\">\r\n                <p className=\"text-sm text-muted-foreground\">Behind</p>\r\n                <p className=\"text-2xl font-bold text-amber-600\">{summary.behind}</p>\r\n              </div>\r\n              <div className=\"rounded-xl border bg-card p-6 shadow-card\">\r\n                <p className=\"text-sm text-muted-foreground\">At Risk</p>\r\n                <p className=\"text-2xl font-bold text-red-600\">{summary.atRisk}</p>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Pacing Cards */}\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n            {pacingStatus?.map((status) => (\r\n              <div key={status.targetId} className=\"rounded-xl border bg-card p-6 shadow-card\">\r\n                <div className=\"flex items-center justify-between mb-4\">\r\n                  <h3 className=\"font-medium truncate\">{status.targetName}</h3>\r\n                  <span\r\n                    className={cn('px-2 py-1 rounded-full text-xs', statusColors[status.status])}\r\n                  >\r\n                    {status.status.replace('_', ' ')}\r\n                  </span>\r\n                </div>\r\n\r\n                <div className=\"space-y-3\">\r\n                  <div>\r\n                    <div className=\"flex justify-between text-sm mb-1\">\r\n                      <span className=\"text-muted-foreground\">Progress</span>\r\n                      <span className=\"font-medium\">{status.pacingPct.toFixed(1)}%</span>\r\n                    </div>\r\n                    <div className=\"w-full bg-muted rounded-full h-2\">\r\n                      <div\r\n                        className={cn(\r\n                          'h-2 rounded-full',\r\n                          status.status === 'on_track' && 'bg-emerald-500',\r\n                          status.status === 'ahead' && 'bg-blue-500',\r\n                          status.status === 'behind' && 'bg-amber-500',\r\n                          status.status === 'at_risk' && 'bg-red-500',\r\n                          status.status === 'missed' && 'bg-gray-500'\r\n                        )}\r\n                        style={{ width: `${Math.min(status.pacingPct, 100)}%` }}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"grid grid-cols-2 gap-4 text-sm\">\r\n                    <div>\r\n                      <p className=\"text-muted-foreground\">Current</p>\r\n                      <p className=\"font-medium\">{status.currentValue.toLocaleString()}</p>\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"text-muted-foreground\">Target</p>\r\n                      <p className=\"font-medium\">{status.targetValue.toLocaleString()}</p>\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"text-muted-foreground\">Projected</p>\r\n                      <p className=\"font-medium\">{status.projectedValue.toLocaleString()}</p>\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"text-muted-foreground\">Days Left</p>\r\n                      <p className=\"font-medium\">{status.daysRemaining}</p>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"flex items-center gap-1 text-sm\">\r\n                    {status.trend === 'improving' ? (\r\n                      <ArrowTrendingUpIcon className=\"h-4 w-4 text-emerald-500\" />\r\n                    ) : status.trend === 'declining' ? (\r\n                      <ArrowTrendingDownIcon className=\"h-4 w-4 text-red-500\" />\r\n                    ) : null}\r\n                    <span className=\"text-muted-foreground capitalize\">{status.trend}</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Targets Tab */}\r\n      {activeTab === 'targets' && (\r\n        <div className=\"rounded-xl border bg-card shadow-card overflow-hidden\">\r\n          <table className=\"w-full\">\r\n            <thead className=\"bg-muted/50\">\r\n              <tr>\r\n                <th className=\"px-4 py-3 text-left text-sm font-medium\">Target</th>\r\n                <th className=\"px-4 py-3 text-left text-sm font-medium\">Metric</th>\r\n                <th className=\"px-4 py-3 text-left text-sm font-medium\">Period</th>\r\n                <th className=\"px-4 py-3 text-right text-sm font-medium\">Value</th>\r\n                <th className=\"px-4 py-3 text-center text-sm font-medium\">Status</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody className=\"divide-y\">\r\n              {targets?.map((target) => (\r\n                <tr key={target.id} className=\"hover:bg-muted/30\">\r\n                  <td className=\"px-4 py-3\">\r\n                    <p className=\"font-medium\">{target.name}</p>\r\n                    {target.description && (\r\n                      <p className=\"text-sm text-muted-foreground truncate max-w-xs\">\r\n                        {target.description}\r\n                      </p>\r\n                    )}\r\n                  </td>\r\n                  <td className=\"px-4 py-3 text-sm capitalize\">{target.metricType}</td>\r\n                  <td className=\"px-4 py-3 text-sm\">\r\n                    <div className=\"flex items-center gap-1\">\r\n                      <CalendarIcon className=\"h-4 w-4 text-muted-foreground\" />\r\n                      {new Date(target.periodStart).toLocaleDateString()} -{' '}\r\n                      {new Date(target.periodEnd).toLocaleDateString()}\r\n                    </div>\r\n                  </td>\r\n                  <td className=\"px-4 py-3 text-right font-medium\">\r\n                    {target.metricType === 'spend' || target.metricType === 'revenue'\r\n                      ? `$${target.targetValue.toLocaleString()}`\r\n                      : target.metricType === 'roas'\r\n                        ? `${target.targetValue}x`\r\n                        : target.targetValue.toLocaleString()}\r\n                  </td>\r\n                  <td className=\"px-4 py-3 text-center\">\r\n                    {target.isActive ? (\r\n                      <span className=\"px-2 py-1 rounded-full text-xs bg-emerald-100 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-300\">\r\n                        Active\r\n                      </span>\r\n                    ) : (\r\n                      <span className=\"px-2 py-1 rounded-full text-xs bg-gray-100 dark:bg-gray-900/20 text-gray-700 dark:text-gray-300\">\r\n                        Inactive\r\n                      </span>\r\n                    )}\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      )}\r\n\r\n      {/* Alerts Tab */}\r\n      {activeTab === 'alerts' && (\r\n        <div className=\"space-y-4\">\r\n          {alerts?.length === 0 ? (\r\n            <div className=\"rounded-xl border bg-card p-12 text-center\">\r\n              <CheckCircleIcon className=\"h-12 w-12 mx-auto text-emerald-500 mb-3\" />\r\n              <p className=\"text-lg font-medium\">No Active Alerts</p>\r\n              <p className=\"text-muted-foreground\">All targets are on track</p>\r\n            </div>\r\n          ) : (\r\n            alerts?.map((alert) => (\r\n              <div\r\n                key={alert.id}\r\n                className={cn(\r\n                  'rounded-xl border p-4 flex items-start justify-between gap-4',\r\n                  alert.severity === 'critical' &&\r\n                    'border-red-200 dark:border-red-800 bg-red-50 dark:bg-red-950/20',\r\n                  alert.severity === 'warning' &&\r\n                    'border-amber-200 dark:border-amber-800 bg-amber-50 dark:bg-amber-950/20',\r\n                  alert.severity === 'info' &&\r\n                    'border-blue-200 dark:border-blue-800 bg-blue-50 dark:bg-blue-950/20'\r\n                )}\r\n              >\r\n                <div className=\"flex items-start gap-3\">\r\n                  {alert.severity === 'critical' ? (\r\n                    <ExclamationTriangleIcon className=\"h-5 w-5 text-red-500 mt-0.5\" />\r\n                  ) : alert.severity === 'warning' ? (\r\n                    <ExclamationTriangleIcon className=\"h-5 w-5 text-amber-500 mt-0.5\" />\r\n                  ) : (\r\n                    <BellAlertIcon className=\"h-5 w-5 text-blue-500 mt-0.5\" />\r\n                  )}\r\n                  <div>\r\n                    <p className=\"font-medium\">{alert.message}</p>\r\n                    <p className=\"text-sm text-muted-foreground mt-1\">\r\n                      Deviation: {alert.deviationPct.toFixed(1)}% | Expected:{' '}\r\n                      {alert.expectedValue.toLocaleString()} | Actual:{' '}\r\n                      {alert.currentValue.toLocaleString()}\r\n                    </p>\r\n                    <p className=\"text-xs text-muted-foreground mt-1\">\r\n                      {new Date(alert.triggeredAt).toLocaleString()}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex gap-2\">\r\n                  <button\r\n                    onClick={() => acknowledgeAlert.mutate({ alertId: alert.id })}\r\n                    className=\"px-3 py-1 text-sm rounded-lg border hover:bg-muted\"\r\n                  >\r\n                    Acknowledge\r\n                  </button>\r\n                  <button\r\n                    onClick={() => resolveAlert.mutate({ alertId: alert.id })}\r\n                    className=\"px-3 py-1 text-sm rounded-lg bg-primary text-primary-foreground hover:bg-primary/90\"\r\n                  >\r\n                    Resolve\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            ))\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* Forecasts Tab */}\r\n      {activeTab === 'forecasts' && (\r\n        <div className=\"rounded-xl border bg-card p-6 shadow-card\">\r\n          <div className=\"flex items-center gap-3 mb-6\">\r\n            <ChartBarIcon className=\"h-6 w-6 text-primary\" />\r\n            <h2 className=\"text-lg font-semibold\">AI-Powered Forecasts</h2>\r\n          </div>\r\n          <p className=\"text-muted-foreground\">\r\n            Select a target to view its forecast predictions. Forecasts use machine learning models\r\n            trained on your historical data to predict future performance.\r\n          </p>\r\n          <div className=\"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            {targets\r\n              ?.filter((t) => t.isActive)\r\n              .map((target) => (\r\n                <button\r\n                  key={target.id}\r\n                  className=\"p-4 rounded-lg border text-left hover:bg-muted/50 transition-colors\"\r\n                >\r\n                  <p className=\"font-medium\">{target.name}</p>\r\n                  <p className=\"text-sm text-muted-foreground capitalize\">\r\n                    {target.metricType} | {target.periodType}\r\n                  </p>\r\n                </button>\r\n              ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":["pacingApi","params","apiClient","targetId","data","period","horizon","alertId","notes","useTargets","useQuery","useAllPacingStatus","usePacingSummary","usePacingAlerts","useAcknowledgeAlert","queryClient","useQueryClient","useMutation","useResolveAlert","useAlertStats","statusColors","Pacing","useParams","activeTab","setActiveTab","useState","setShowNewTargetModal","targets","pacingStatus","summary","alerts","alertStats","acknowledgeAlert","resolveAlert","tabs","jsxs","jsx","PlusIcon","tab","cn","status","ArrowTrendingUpIcon","ArrowTrendingDownIcon","target","CalendarIcon","CheckCircleIcon","alert","ExclamationTriangleIcon","BellAlertIcon","ChartBarIcon","t"],"mappings":"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"}