import{j as e}from"./vendor-ui-B0DL0VNC.js";import{r as d}from"./vendor-react-Dz7uKsMg.js";import{J as g,f as N,g as y,h as v}from"./cms-Bf3FZYRT.js";import{F as x}from"./PlusIcon-ByQcgXHI.js";import{b as u,F}from"./index-BQex3859.js";import{F as C}from"./PencilSquareIcon-8mqFv-8U.js";import{F as k}from"./TrashIcon-DR9paOX4.js";import"./vendor-charts-Cj11RBfc.js";import"./vendor-utils-L2YjCnAZ.js";import"./vendor-query-BPt-n81V.js";import"./vendor-motion-CR45sdSp.js";function _(){const{data:n,isLoading:w}=g(),o=N(),c=y(),b=v(),[f,a]=d.useState(!1),[h,m]=d.useState(null),[,p]=d.useState(""),[i,r]=d.useState({title:"",description:"",iconName:"ChartBarIcon",layerId:"",layerName:"",displayOrder:0}),l=(t,s)=>{t?(m(t),p(s||""),r({title:t.title,description:t.description,iconName:t.iconName,layerId:s||"",layerName:"",displayOrder:t.displayOrder})):(m(null),p(""),r({title:"",description:"",iconName:"ChartBarIcon",layerId:"",layerName:"",displayOrder:0})),a(!0)},j=()=>{const t={title:i.title,excerpt:i.description,status:"published",content_type:"blog_post",meta_title:JSON.stringify({layerId:i.layerId||"default",layerName:i.layerName,featureIcon:i.iconName,displayOrder:i.displayOrder})};h?c.mutate({id:h.id,data:t},{onSuccess:()=>a(!1)}):o.mutate(t,{onSuccess:()=>a(!1)})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Landing Features"}),e.jsx("p",{className:"text-white/60 mt-1",children:"Manage feature sections on the landing page"})]}),e.jsxs("button",{onClick:()=>l(),className:"flex items-center gap-2 px-4 py-2.5 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-medium transition-colors",children:[e.jsx(x,{className:"w-5 h-5"}),"Add Feature"]})]}),w?e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-purple-500 border-t-transparent rounded-full"})}):!n||n.length===0?e.jsxs("div",{className:"rounded-2xl bg-white/5 border border-white/10 text-center py-20",children:[e.jsx(u,{className:"w-12 h-12 text-white/20 mx-auto mb-4"}),e.jsx("p",{className:"text-white/60 mb-2",children:"No feature layers configured"}),e.jsx("p",{className:"text-white/40 text-sm mb-6",children:'Create feature posts with the "landing-features" category to populate this section.'}),e.jsxs("button",{onClick:()=>l(),className:"inline-flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[e.jsx(x,{className:"w-4 h-4"}),"Add first feature"]})]}):e.jsx("div",{className:"space-y-8",children:n.map(t=>e.jsxs("div",{className:"rounded-2xl bg-white/5 border border-white/10 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-white/10",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg ${t.bgColor} flex items-center justify-center`,children:e.jsx(u,{className:"w-5 h-5 text-purple-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-semibold",children:t.name}),e.jsx("p",{className:"text-sm text-white/50",children:t.description})]})]}),e.jsxs("span",{className:"text-xs text-white/40",children:[t.features.length," feature",t.features.length!==1?"s":""]})]}),e.jsx("div",{className:"divide-y divide-white/5",children:t.features.map(s=>e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 hover:bg-white/5 transition-colors group",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-white font-medium truncate",children:s.title}),e.jsx("p",{className:"text-sm text-white/40 truncate",children:s.description})]}),e.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:()=>l(s,t.id),className:"p-1.5 text-white/40 hover:text-white",children:e.jsx(C,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>b.mutate(s.id),className:"p-1.5 text-white/40 hover:text-red-400",children:e.jsx(k,{className:"w-4 h-4"})})]})]},s.id))}),e.jsxs("button",{onClick:()=>{r(s=>({...s,layerId:t.id,layerName:t.name})),l()},className:"flex items-center gap-2 w-full px-6 py-3 text-sm text-white/40 hover:text-white hover:bg-white/5 transition-colors",children:[e.jsx(x,{className:"w-4 h-4"}),"Add feature to this layer"]})]},t.id))}),f&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4",children:e.jsxs("div",{className:"bg-neutral-900 border border-white/10 rounded-xl w-full max-w-lg",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[e.jsx("h2",{className:"text-lg font-semibold text-white",children:h?"Edit Feature":"Add Feature"}),e.jsx("button",{onClick:()=>a(!1),className:"p-2 text-white/40 hover:text-white",children:e.jsx(F,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-1.5",children:"Title *"}),e.jsx("input",{type:"text",value:i.title,onChange:t=>r(s=>({...s,title:t.target.value})),className:"w-full px-4 py-2.5 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/30 focus:outline-none focus:border-purple-500/50",placeholder:"Feature title"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-1.5",children:"Description"}),e.jsx("textarea",{value:i.description,onChange:t=>r(s=>({...s,description:t.target.value})),rows:3,className:"w-full px-4 py-2.5 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/30 focus:outline-none focus:border-purple-500/50 resize-none",placeholder:"Feature description..."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-1.5",children:"Layer"}),e.jsx("input",{type:"text",value:i.layerId,onChange:t=>r(s=>({...s,layerId:t.target.value})),className:"w-full px-4 py-2.5 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/30 focus:outline-none focus:border-purple-500/50",placeholder:"Layer ID"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-1.5",children:"Order"}),e.jsx("input",{type:"number",value:i.displayOrder,onChange:t=>r(s=>({...s,displayOrder:Number(t.target.value)})),className:"w-full px-4 py-2.5 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-purple-500/50"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 p-4 border-t border-white/10",children:[e.jsx("button",{onClick:()=>a(!1),className:"px-4 py-2 text-white/60 hover:text-white",children:"Cancel"}),e.jsx("button",{onClick:j,disabled:!i.title||o.isPending||c.isPending,className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-medium disabled:opacity-50",children:o.isPending||c.isPending?"Saving...":"Save"})]})]})})]})}export{_ as default};
//# sourceMappingURL=CMSLandingFeatures-BE67nXt_.js.map
