import{j as s}from"./vendor-ui-B0DL0VNC.js";import{k as v,r as i,L as n}from"./vendor-react-Dz7uKsMg.js";import{c as N,d as w}from"./auth-BmOk07v4.js";import{h as u,f as m}from"./index-BQex3859.js";import{F as k}from"./EnvelopeIcon-CWLK6IWu.js";import"./vendor-charts-Cj11RBfc.js";import"./vendor-utils-L2YjCnAZ.js";import"./vendor-query-BPt-n81V.js";import"./vendor-motion-CR45sdSp.js";const e={blue:"#007AFF",blueHover:"#0056CC",blueLight:"#E8F4FF",bgElevated:"#F5F5F7",bgSurface:"#FFFFFF",textPrimary:"#1D1D1F",textMuted:"#86868B",border:"rgba(0, 0, 0, 0.08)",success:"#34C759",danger:"#FF3B30"};function T(){var d;const[c]=v(),l=c.get("token"),x=c.get("email"),[a,b]=i.useState(x||""),[f,h]=i.useState(!1),r=N(),o=w(),g=r.isPending,y=r.isSuccess,p=((d=r.error)==null?void 0:d.message)||(r.isError?"Verification failed":""),j=()=>{a&&o.mutate({email:a},{onSuccess:()=>h(!0)})};return i.useEffect(()=>{l&&!r.isPending&&!r.isSuccess&&!r.isError&&r.mutate({token:l})},[l]),l?g?s.jsx("div",{className:"min-h-screen flex items-center justify-center p-6",style:{background:e.bgElevated},children:s.jsx("div",{className:"max-w-md w-full text-center",children:s.jsxs("div",{className:"p-8 rounded-2xl",style:{background:e.bgSurface,border:`1px solid ${e.border}`,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.08)"},children:[s.jsxs("div",{className:"flex items-center justify-center gap-3 mb-8",children:[s.jsx("div",{className:"h-10 w-10 rounded-xl flex items-center justify-center",style:{background:e.blue},children:s.jsx("span",{className:"text-white font-semibold text-lg",children:"S"})}),s.jsx("span",{className:"text-xl font-semibold",style:{color:e.textPrimary},children:"Stratum AI"})]}),s.jsx("div",{className:"w-12 h-12 rounded-full mx-auto mb-6 animate-spin",style:{border:`3px solid ${e.blueLight}`,borderTopColor:e.blue}}),s.jsx("h1",{className:"text-xl font-semibold mb-2",style:{color:e.textPrimary},children:"Verifying your email"}),s.jsx("p",{style:{color:e.textMuted},children:"Please wait..."})]})})}):y?s.jsx("div",{className:"min-h-screen flex items-center justify-center p-6",style:{background:e.bgElevated},children:s.jsx("div",{className:"max-w-md w-full text-center",children:s.jsxs("div",{className:"p-8 rounded-2xl",style:{background:e.bgSurface,border:`1px solid ${e.border}`,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.08)"},children:[s.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6",style:{background:`${e.success}15`},children:s.jsx(m,{className:"w-8 h-8",style:{color:e.success}})}),s.jsx("h1",{className:"text-2xl font-semibold mb-3",style:{color:e.textPrimary},children:"Email verified!"}),s.jsx("p",{className:"mb-6",style:{color:e.textMuted},children:"Your email has been verified. You can now sign in."}),s.jsx(n,{to:"/login",className:"block w-full py-3 rounded-xl text-white font-semibold text-center transition-all duration-200",style:{background:e.blue},onMouseEnter:t=>t.currentTarget.style.background=e.blueHover,onMouseLeave:t=>t.currentTarget.style.background=e.blue,children:"Sign in to your account"})]})})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center p-6",style:{background:e.bgElevated},children:s.jsx("div",{className:"max-w-md w-full text-center",children:s.jsxs("div",{className:"p-8 rounded-2xl",style:{background:e.bgSurface,border:`1px solid ${e.border}`,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.08)"},children:[s.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6",style:{background:"#FEF2F2"},children:s.jsx(u,{className:"w-8 h-8",style:{color:e.danger}})}),s.jsx("h1",{className:"text-2xl font-semibold mb-3",style:{color:e.textPrimary},children:"Verification failed"}),s.jsx("p",{className:"mb-6",style:{color:e.textMuted},children:p||"The verification link is invalid or has expired."}),f?s.jsxs("div",{className:"p-4 rounded-xl",style:{background:`${e.success}15`},children:[s.jsx(m,{className:"w-6 h-6 mx-auto mb-2",style:{color:e.success}}),s.jsx("p",{style:{color:e.success},children:"Verification email sent!"})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm",style:{color:e.textMuted},children:"Enter your email to get a new link:"}),s.jsxs("div",{className:"relative",children:[s.jsx(k,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5",style:{color:e.textMuted}}),s.jsx("input",{type:"email",value:a,onChange:t=>b(t.target.value),placeholder:"name@company.com",className:"w-full pl-12 pr-4 py-3 rounded-xl outline-none transition-all duration-200",style:{background:e.bgElevated,border:`1px solid ${e.border}`,color:e.textPrimary},onFocus:t=>{t.target.style.borderColor=e.blue,t.target.style.boxShadow=`0 0 0 3px ${e.blueLight}`},onBlur:t=>{t.target.style.borderColor=e.border,t.target.style.boxShadow="none"}})]}),s.jsx("button",{onClick:j,disabled:!a||o.isPending,className:"w-full py-3 rounded-xl text-white font-semibold disabled:opacity-50 transition-all duration-200",style:{background:e.blue},onMouseEnter:t=>{o.isPending||(t.currentTarget.style.background=e.blueHover)},onMouseLeave:t=>{t.currentTarget.style.background=e.blue},children:o.isPending?"Sending...":"Resend verification email"})]}),s.jsx(n,{to:"/login",className:"inline-block mt-6 text-sm font-medium transition-colors hover:underline",style:{color:e.blue},children:"Back to login"})]})})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center p-6",style:{background:e.bgElevated},children:s.jsx("div",{className:"max-w-md w-full text-center",children:s.jsxs("div",{className:"p-8 rounded-2xl",style:{background:e.bgSurface,border:`1px solid ${e.border}`,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.08)"},children:[s.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6",style:{background:"#FEF2F2"},children:s.jsx(u,{className:"w-8 h-8",style:{color:e.danger}})}),s.jsx("h1",{className:"text-2xl font-semibold mb-3",style:{color:e.textPrimary},children:"Invalid verification link"}),s.jsx("p",{className:"mb-6",style:{color:e.textMuted},children:"The verification link is missing or invalid."}),s.jsx(n,{to:"/login",className:"block w-full py-3 rounded-xl text-white font-semibold text-center transition-all duration-200",style:{background:e.blue},children:"Back to login"})]})})})}export{T as default};
//# sourceMappingURL=VerifyEmail-apT6TVzV.js.map
