import{j as e}from"./vendor-ui-B0DL0VNC.js";import{r as n}from"./vendor-react-Dz7uKsMg.js";import{K as S,f as Q,g as E,h as O}from"./cms-Bf3FZYRT.js";import{F as g}from"./PlusIcon-ByQcgXHI.js";import{F as P}from"./QuestionMarkCircleIcon-BzqYgCw4.js";import{d6 as D,F as R}from"./index-BQex3859.js";import{F as j}from"./PencilSquareIcon-8mqFv-8U.js";import{F as f}from"./TrashIcon-DR9paOX4.js";import"./vendor-charts-Cj11RBfc.js";import"./vendor-utils-L2YjCnAZ.js";import"./vendor-query-BPt-n81V.js";import"./vendor-motion-CR45sdSp.js";const c=[{value:"general",label:"General"},{value:"pricing",label:"Pricing"},{value:"features",label:"Features"},{value:"trust-engine",label:"Trust Engine"},{value:"integrations",label:"Integrations"},{value:"data",label:"Data & Privacy"},{value:"support",label:"Support"}];function B(){const{data:v,isLoading:N}=S(),m=Q(),h=E(),x=O(),[y,a]=n.useState(!1),[u,w]=n.useState(null),[p,F]=n.useState(null),[b,d]=n.useState(null),[i,r]=n.useState({question:"",answer:"",category:"general",displayOrder:0}),l=v||[],C=c.map(t=>({...t,items:l.filter(s=>s.category===t.value)})).filter(t=>t.items.length>0),o=t=>{t?(w(t),r({question:t.question,answer:t.answer,category:t.category,displayOrder:t.displayOrder})):(w(null),r({question:"",answer:"",category:"general",displayOrder:l.length})),a(!0)},k=()=>{const t={title:i.question,content:i.answer,excerpt:i.answer.substring(0,200),status:"published",content_type:"blog_post",meta_title:JSON.stringify({faqCategory:i.category,displayOrder:i.displayOrder})};u?h.mutate({id:u.id,data:t},{onSuccess:()=>a(!1)}):m.mutate(t,{onSuccess:()=>a(!1)})},A=t=>{x.mutate(t,{onSuccess:()=>d(null)})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Landing FAQ"}),e.jsxs("p",{className:"text-white/60 mt-1",children:[l.length," FAQ item",l.length!==1?"s":""]})]}),e.jsxs("button",{onClick:()=>o(),className:"flex items-center gap-2 px-4 py-2.5 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-medium transition-colors",children:[e.jsx(g,{className:"w-5 h-5"}),"Add FAQ"]})]}),N?e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-purple-500 border-t-transparent rounded-full"})}):l.length===0?e.jsxs("div",{className:"rounded-2xl bg-white/5 border border-white/10 text-center py-20",children:[e.jsx(P,{className:"w-12 h-12 text-white/20 mx-auto mb-4"}),e.jsx("p",{className:"text-white/60 mb-4",children:"No FAQ items yet"}),e.jsxs("button",{onClick:()=>o(),className:"inline-flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[e.jsx(g,{className:"w-4 h-4"}),"Add first FAQ"]})]}):e.jsxs("div",{className:"space-y-6",children:[C.map(t=>e.jsxs("div",{children:[e.jsxs("h2",{className:"text-sm font-medium text-white/50 uppercase tracking-wider mb-3",children:[t.label," (",t.items.length,")"]}),e.jsx("div",{className:"rounded-2xl bg-white/5 border border-white/10 divide-y divide-white/5 overflow-hidden",children:t.items.map(s=>e.jsxs("div",{className:"group",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[e.jsxs("button",{onClick:()=>F(p===s.id?null:s.id),className:"flex items-center gap-3 flex-1 text-left min-w-0",children:[e.jsx(D,{className:`w-4 h-4 text-white/40 transition-transform flex-shrink-0 ${p===s.id?"rotate-180":""}`}),e.jsx("span",{className:"text-white font-medium truncate",children:s.question})]}),e.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:()=>o(s),className:"p-1.5 text-white/40 hover:text-white",children:e.jsx(j,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>d(s.id),className:"p-1.5 text-white/40 hover:text-red-400",children:e.jsx(f,{className:"w-4 h-4"})})]})]}),p===s.id&&e.jsx("div",{className:"px-6 pb-4 pl-13",children:e.jsx("div",{className:"ml-7 text-white/60 text-sm whitespace-pre-wrap",children:s.answer})})]},s.id))})]},t.value)),l.filter(t=>!c.some(s=>s.value===t.category)).length>0&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm font-medium text-white/50 uppercase tracking-wider mb-3",children:"Uncategorized"}),e.jsx("div",{className:"rounded-2xl bg-white/5 border border-white/10 divide-y divide-white/5 overflow-hidden",children:l.filter(t=>!c.some(s=>s.value===t.category)).map(t=>e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 group",children:[e.jsx("span",{className:"text-white font-medium truncate",children:t.question}),e.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:()=>o(t),className:"p-1.5 text-white/40 hover:text-white",children:e.jsx(j,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>d(t.id),className:"p-1.5 text-white/40 hover:text-red-400",children:e.jsx(f,{className:"w-4 h-4"})})]})]},t.id))})]})]}),y&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4",children:e.jsxs("div",{className:"bg-neutral-900 border border-white/10 rounded-xl w-full max-w-lg",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[e.jsx("h2",{className:"text-lg font-semibold text-white",children:u?"Edit FAQ":"Add FAQ"}),e.jsx("button",{onClick:()=>a(!1),className:"p-2 text-white/40 hover:text-white",children:e.jsx(R,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-1.5",children:"Question *"}),e.jsx("input",{type:"text",value:i.question,onChange:t=>r(s=>({...s,question:t.target.value})),className:"w-full px-4 py-2.5 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/30 focus:outline-none focus:border-purple-500/50",placeholder:"What is...?"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-1.5",children:"Answer *"}),e.jsx("textarea",{value:i.answer,onChange:t=>r(s=>({...s,answer:t.target.value})),rows:5,className:"w-full px-4 py-2.5 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/30 focus:outline-none focus:border-purple-500/50 resize-none",placeholder:"The answer is..."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-1.5",children:"Category"}),e.jsx("select",{value:i.category,onChange:t=>r(s=>({...s,category:t.target.value})),className:"w-full px-4 py-2.5 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-purple-500/50",children:c.map(t=>e.jsx("option",{value:t.value,className:"bg-neutral-900",children:t.label},t.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-1.5",children:"Order"}),e.jsx("input",{type:"number",value:i.displayOrder,onChange:t=>r(s=>({...s,displayOrder:Number(t.target.value)})),className:"w-full px-4 py-2.5 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-purple-500/50"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 p-4 border-t border-white/10",children:[e.jsx("button",{onClick:()=>a(!1),className:"px-4 py-2 text-white/60 hover:text-white",children:"Cancel"}),e.jsx("button",{onClick:k,disabled:!i.question||!i.answer||m.isPending||h.isPending,className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-medium disabled:opacity-50",children:m.isPending||h.isPending?"Saving...":"Save"})]})]})}),b&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60",children:e.jsxs("div",{className:"bg-neutral-900 border border-white/10 rounded-xl p-6 max-w-md w-full mx-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Delete FAQ"}),e.jsx("p",{className:"text-white/60 mb-6",children:"Remove this FAQ item from the landing page?"}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>d(null),className:"px-4 py-2 text-white/60 hover:text-white",children:"Cancel"}),e.jsx("button",{onClick:()=>A(b),disabled:x.isPending,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium disabled:opacity-50",children:x.isPending?"Deleting...":"Delete"})]})]})})]})}export{B as default};
//# sourceMappingURL=CMSLandingFAQ-BrxqURfq.js.map
