{"version":3,"file":"CampaignDrafts-CcCzTGjB.js","sources":["../../src/views/tenant/CampaignDrafts.tsx"],"sourcesContent":["/**\r\n * Stratum AI - Campaign Drafts List\r\n *\r\n * View and manage campaign drafts with approval workflow.\r\n */\r\n\r\nimport { useState } from 'react';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport {\r\n  CheckCircleIcon,\r\n  ClockIcon,\r\n  DocumentTextIcon,\r\n  PaperAirplaneIcon,\r\n  PencilSquareIcon,\r\n  TrashIcon,\r\n  XCircleIcon,\r\n} from '@heroicons/react/24/outline';\r\nimport { cn } from '@/lib/utils';\r\nimport { useToast } from '@/components/ui/use-toast';\r\nimport { useDeleteCampaignDraft, usePublishDraft, useSubmitDraft } from '@/api/campaignBuilder';\r\n\r\ntype DraftStatus =\r\n  | 'draft'\r\n  | 'submitted'\r\n  | 'approved'\r\n  | 'rejected'\r\n  | 'publishing'\r\n  | 'published'\r\n  | 'failed';\r\n\r\ninterface CampaignDraft {\r\n  id: string;\r\n  name: string;\r\n  platform: string;\r\n  status: DraftStatus;\r\n  budget: number;\r\n  currency: string;\r\n  objective: string;\r\n  createdAt: string;\r\n  updatedAt: string;\r\n  createdBy: string;\r\n  approvedBy?: string;\r\n}\r\n\r\nconst mockDrafts: CampaignDraft[] = [\r\n  {\r\n    id: '1',\r\n    name: 'KSA Prospecting - Q1',\r\n    platform: 'meta',\r\n    status: 'draft',\r\n    budget: 500,\r\n    currency: 'SAR',\r\n    objective: 'sales',\r\n    createdAt: '2024-01-18T10:00:00Z',\r\n    updatedAt: '2024-01-20T14:30:00Z',\r\n    createdBy: 'Ahmed Al-Saud',\r\n  },\r\n  {\r\n    id: '2',\r\n    name: 'UAE Retargeting',\r\n    platform: 'google',\r\n    status: 'submitted',\r\n    budget: 1200,\r\n    currency: 'AED',\r\n    objective: 'conversions',\r\n    createdAt: '2024-01-15T09:00:00Z',\r\n    updatedAt: '2024-01-19T11:00:00Z',\r\n    createdBy: 'Sara Mohammed',\r\n  },\r\n  {\r\n    id: '3',\r\n    name: 'Brand Awareness - Ramadan',\r\n    platform: 'meta',\r\n    status: 'approved',\r\n    budget: 2500,\r\n    currency: 'SAR',\r\n    objective: 'awareness',\r\n    createdAt: '2024-01-10T08:00:00Z',\r\n    updatedAt: '2024-01-18T16:00:00Z',\r\n    createdBy: 'Omar Hassan',\r\n    approvedBy: 'Admin User',\r\n  },\r\n  {\r\n    id: '4',\r\n    name: 'Product Launch - Winter',\r\n    platform: 'tiktok',\r\n    status: 'rejected',\r\n    budget: 800,\r\n    currency: 'SAR',\r\n    objective: 'traffic',\r\n    createdAt: '2024-01-12T12:00:00Z',\r\n    updatedAt: '2024-01-17T10:00:00Z',\r\n    createdBy: 'Fatima Al-Ali',\r\n  },\r\n];\r\n\r\nconst statusConfig: Record<DraftStatus, { icon: any; label: string; color: string }> = {\r\n  draft: {\r\n    icon: DocumentTextIcon,\r\n    label: 'Draft',\r\n    color: 'text-gray-600 bg-gray-100 dark:bg-gray-800',\r\n  },\r\n  submitted: {\r\n    icon: ClockIcon,\r\n    label: 'Pending Approval',\r\n    color: 'text-amber-600 bg-amber-100 dark:bg-amber-900/30',\r\n  },\r\n  approved: {\r\n    icon: CheckCircleIcon,\r\n    label: 'Approved',\r\n    color: 'text-emerald-600 bg-emerald-100 dark:bg-emerald-900/30',\r\n  },\r\n  rejected: {\r\n    icon: XCircleIcon,\r\n    label: 'Rejected',\r\n    color: 'text-red-600 bg-red-100 dark:bg-red-900/30',\r\n  },\r\n  publishing: {\r\n    icon: ClockIcon,\r\n    label: 'Publishing...',\r\n    color: 'text-blue-600 bg-blue-100 dark:bg-blue-900/30',\r\n  },\r\n  published: {\r\n    icon: CheckCircleIcon,\r\n    label: 'Published',\r\n    color: 'text-emerald-600 bg-emerald-100 dark:bg-emerald-900/30',\r\n  },\r\n  failed: {\r\n    icon: XCircleIcon,\r\n    label: 'Failed',\r\n    color: 'text-red-600 bg-red-100 dark:bg-red-900/30',\r\n  },\r\n};\r\n\r\nexport default function CampaignDrafts() {\r\n  const { tenantId } = useParams<{ tenantId: string }>();\r\n  const [drafts, setDrafts] = useState(mockDrafts);\r\n  const [statusFilter, setStatusFilter] = useState<string>('all');\r\n  const { toast } = useToast();\r\n\r\n  // API hooks\r\n  const tenantIdNum = tenantId ? parseInt(tenantId, 10) : 0;\r\n  const submitDraft = useSubmitDraft(tenantIdNum);\r\n  const publishDraft = usePublishDraft(tenantIdNum);\r\n  const deleteDraft = useDeleteCampaignDraft(tenantIdNum);\r\n\r\n  const handleDelete = async (draftId: string) => {\r\n    if (confirm('Are you sure you want to delete this draft?')) {\r\n      try {\r\n        await deleteDraft.mutateAsync(draftId);\r\n        // Update local state optimistically\r\n        setDrafts(drafts.filter((d) => d.id !== draftId));\r\n        toast({\r\n          title: 'Draft deleted',\r\n          description: 'The campaign draft has been deleted successfully.',\r\n        });\r\n      } catch (error) {\r\n        toast({\r\n          title: 'Delete failed',\r\n          description:\r\n            error instanceof Error ? error.message : 'Failed to delete draft. Please try again.',\r\n          variant: 'destructive',\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (draftId: string) => {\r\n    try {\r\n      await submitDraft.mutateAsync(draftId);\r\n      // Update local state optimistically\r\n      setDrafts(\r\n        drafts.map((d) => (d.id === draftId ? { ...d, status: 'submitted' as DraftStatus } : d))\r\n      );\r\n      toast({\r\n        title: 'Draft submitted',\r\n        description: 'The campaign draft has been submitted for approval.',\r\n      });\r\n    } catch (error) {\r\n      toast({\r\n        title: 'Submit failed',\r\n        description:\r\n          error instanceof Error ? error.message : 'Failed to submit draft. Please try again.',\r\n        variant: 'destructive',\r\n      });\r\n    }\r\n  };\r\n\r\n  const handlePublish = async (draftId: string) => {\r\n    // Set publishing status optimistically\r\n    setDrafts(\r\n      drafts.map((d) => (d.id === draftId ? { ...d, status: 'publishing' as DraftStatus } : d))\r\n    );\r\n    try {\r\n      await publishDraft.mutateAsync(draftId);\r\n      // Update local state on success\r\n      setDrafts(\r\n        drafts.map((d) => (d.id === draftId ? { ...d, status: 'published' as DraftStatus } : d))\r\n      );\r\n      toast({\r\n        title: 'Campaign published',\r\n        description: 'The campaign has been published successfully.',\r\n      });\r\n    } catch (error) {\r\n      // Revert to approved status on failure\r\n      setDrafts(\r\n        drafts.map((d) => (d.id === draftId ? { ...d, status: 'failed' as DraftStatus } : d))\r\n      );\r\n      toast({\r\n        title: 'Publish failed',\r\n        description:\r\n          error instanceof Error ? error.message : 'Failed to publish campaign. Please try again.',\r\n        variant: 'destructive',\r\n      });\r\n    }\r\n  };\r\n\r\n  const filteredDrafts = drafts.filter((d) => statusFilter === 'all' || d.status === statusFilter);\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h1 className=\"text-2xl font-bold\">Campaign Drafts</h1>\r\n          <p className=\"text-muted-foreground\">\r\n            {drafts.length} draft{drafts.length !== 1 ? 's' : ''} total\r\n          </p>\r\n        </div>\r\n        <Link\r\n          to={`/app/${tenantId}/campaigns/new`}\r\n          className=\"px-4 py-2 rounded-lg bg-primary text-primary-foreground hover:opacity-90 transition-opacity\"\r\n        >\r\n          Create New Draft\r\n        </Link>\r\n      </div>\r\n\r\n      {/* Filters */}\r\n      <div className=\"flex gap-2 flex-wrap\">\r\n        {['all', 'draft', 'submitted', 'approved', 'rejected', 'published'].map((status) => (\r\n          <button\r\n            key={status}\r\n            onClick={() => setStatusFilter(status)}\r\n            className={cn(\r\n              'px-3 py-1.5 text-sm rounded-lg transition-colors',\r\n              statusFilter === status\r\n                ? 'bg-primary text-primary-foreground'\r\n                : 'bg-muted hover:bg-muted/80'\r\n            )}\r\n          >\r\n            {status.charAt(0).toUpperCase() + status.slice(1)}\r\n          </button>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Drafts List */}\r\n      <div className=\"space-y-4\">\r\n        {filteredDrafts.map((draft) => {\r\n          const status = statusConfig[draft.status];\r\n          const StatusIcon = status.icon;\r\n\r\n          return (\r\n            <div\r\n              key={draft.id}\r\n              className=\"rounded-xl border bg-card p-6 shadow-card hover:shadow-lg transition-shadow\"\r\n            >\r\n              <div className=\"flex items-start justify-between\">\r\n                <div className=\"flex items-start gap-4\">\r\n                  <div className=\"p-3 rounded-lg bg-muted\">\r\n                    <DocumentTextIcon className=\"h-6 w-6\" />\r\n                  </div>\r\n                  <div>\r\n                    <h3 className=\"font-semibold text-lg\">{draft.name}</h3>\r\n                    <div className=\"flex items-center gap-3 mt-1 text-sm text-muted-foreground\">\r\n                      <span className=\"capitalize\">{draft.platform}</span>\r\n                      <span>-</span>\r\n                      <span className=\"capitalize\">{draft.objective}</span>\r\n                      <span>-</span>\r\n                      <span>\r\n                        {draft.currency} {draft.budget}/day\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2 mt-2\">\r\n                      <span\r\n                        className={cn(\r\n                          'inline-flex items-center gap-1 px-2 py-0.5 text-xs font-medium rounded-full',\r\n                          status.color\r\n                        )}\r\n                      >\r\n                        <StatusIcon className=\"h-3 w-3\" />\r\n                        {status.label}\r\n                      </span>\r\n                      {draft.approvedBy && (\r\n                        <span className=\"text-xs text-muted-foreground\">\r\n                          Approved by {draft.approvedBy}\r\n                        </span>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"flex items-center gap-2\">\r\n                  {/* Actions based on status */}\r\n                  {draft.status === 'draft' && (\r\n                    <>\r\n                      <Link\r\n                        to={`/app/${tenantId}/campaigns/drafts/${draft.id}`}\r\n                        className=\"p-2 rounded-lg hover:bg-accent transition-colors\"\r\n                        title=\"Edit\"\r\n                      >\r\n                        <PencilSquareIcon className=\"h-5 w-5\" />\r\n                      </Link>\r\n                      <button\r\n                        onClick={() => handleSubmit(draft.id)}\r\n                        className=\"p-2 rounded-lg hover:bg-accent transition-colors\"\r\n                        title=\"Submit for Approval\"\r\n                      >\r\n                        <PaperAirplaneIcon className=\"h-5 w-5\" />\r\n                      </button>\r\n                      <button\r\n                        onClick={() => handleDelete(draft.id)}\r\n                        className=\"p-2 rounded-lg hover:bg-red-50 dark:hover:bg-red-950/30 text-red-600 transition-colors\"\r\n                        title=\"Delete\"\r\n                      >\r\n                        <TrashIcon className=\"h-5 w-5\" />\r\n                      </button>\r\n                    </>\r\n                  )}\r\n\r\n                  {draft.status === 'approved' && (\r\n                    <button\r\n                      onClick={() => handlePublish(draft.id)}\r\n                      className=\"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-emerald-600 text-white hover:bg-emerald-700 transition-colors\"\r\n                    >\r\n                      <PaperAirplaneIcon className=\"h-4 w-4\" />\r\n                      Publish\r\n                    </button>\r\n                  )}\r\n\r\n                  {draft.status === 'rejected' && (\r\n                    <Link\r\n                      to={`/app/${tenantId}/campaigns/drafts/${draft.id}`}\r\n                      className=\"flex items-center gap-2 px-3 py-1.5 rounded-lg border hover:bg-accent transition-colors\"\r\n                    >\r\n                      <PencilSquareIcon className=\"h-4 w-4\" />\r\n                      Edit & Resubmit\r\n                    </Link>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Metadata */}\r\n              <div className=\"mt-4 pt-4 border-t flex items-center justify-between text-sm text-muted-foreground\">\r\n                <span>Created by {draft.createdBy}</span>\r\n                <span>Updated {new Date(draft.updatedAt).toLocaleDateString()}</span>\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n\r\n      {filteredDrafts.length === 0 && (\r\n        <div className=\"rounded-xl border bg-muted/30 p-12 text-center\">\r\n          <DocumentTextIcon className=\"h-12 w-12 mx-auto text-muted-foreground\" />\r\n          <h3 className=\"mt-4 font-semibold\">No Drafts Found</h3>\r\n          <p className=\"text-muted-foreground mt-2\">\r\n            {statusFilter === 'all'\r\n              ? 'Create your first campaign draft to get started'\r\n              : `No drafts with status \"${statusFilter}\"`}\r\n          </p>\r\n          <Link\r\n            to={`/app/${tenantId}/campaigns/new`}\r\n            className=\"inline-block mt-4 px-4 py-2 rounded-lg bg-primary text-primary-foreground hover:opacity-90 transition-opacity\"\r\n          >\r\n            Create Draft\r\n          </Link>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":["mockDrafts","statusConfig","DocumentTextIcon","ClockIcon","CheckCircleIcon","XCircleIcon","CampaignDrafts","tenantId","useParams","drafts","setDrafts","useState","statusFilter","setStatusFilter","toast","useToast","tenantIdNum","submitDraft","useSubmitDraft","publishDraft","usePublishDraft","deleteDraft","useDeleteCampaignDraft","handleDelete","draftId","d","error","handleSubmit","handlePublish","filteredDrafts","jsxs","jsx","Link","status","cn","draft","StatusIcon","Fragment","PencilSquareIcon","PaperAirplaneIcon","TrashIcon"],"mappings":"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"}