{"version":3,"file":"cms-Bf3FZYRT.js","sources":["../../src/api/cms.ts"],"sourcesContent":["/**\r\n * Stratum AI - CMS (Content Management System) API Client\r\n *\r\n * API client with TypeScript types and React Query hooks for CMS endpoints.\r\n * Handles blog posts, pages, categories, tags, authors, and contact submissions.\r\n */\r\n\r\nimport { useMutation, useQuery, useQueryClient } from '@tanstack/react-query';\r\nimport { apiClient, ApiResponse } from './client';\r\n\r\n// =============================================================================\r\n// TypeScript Types\r\n// =============================================================================\r\n\r\n// Status Types (2026 Workflow Standard)\r\nexport type PostStatus =\r\n  | 'draft'\r\n  | 'in_review'\r\n  | 'changes_requested'\r\n  | 'approved'\r\n  | 'scheduled'\r\n  | 'published'\r\n  | 'unpublished'\r\n  | 'archived'\r\n  | 'rejected';\r\n\r\nexport type ContentType =\r\n  | 'blog_post'\r\n  | 'case_study'\r\n  | 'guide'\r\n  | 'whitepaper'\r\n  | 'announcement'\r\n  | 'newsletter'\r\n  | 'press_release';\r\nexport type PageStatus = 'draft' | 'in_review' | 'approved' | 'published' | 'archived';\r\n\r\n// 2026 CMS Roles\r\nexport type CMSRole =\r\n  | 'super_admin'\r\n  | 'admin'\r\n  | 'editor_in_chief'\r\n  | 'editor'\r\n  | 'author'\r\n  | 'contributor'\r\n  | 'reviewer'\r\n  | 'viewer';\r\n\r\n// 2026 Workflow Actions\r\nexport type WorkflowAction =\r\n  | 'created'\r\n  | 'updated'\r\n  | 'submitted_for_review'\r\n  | 'approved'\r\n  | 'rejected'\r\n  | 'changes_requested'\r\n  | 'scheduled'\r\n  | 'published'\r\n  | 'unpublished'\r\n  | 'archived'\r\n  | 'restored'\r\n  | 'deleted';\r\n\r\n// Category Types\r\nexport interface CMSCategory {\r\n  id: string;\r\n  name: string;\r\n  slug: string;\r\n  description?: string;\r\n  color?: string;\r\n  icon?: string;\r\n  display_order: number;\r\n  is_active: boolean;\r\n  created_at: string;\r\n  updated_at: string;\r\n}\r\n\r\nexport interface CategoryCreate {\r\n  name: string;\r\n  slug?: string;\r\n  description?: string;\r\n  color?: string;\r\n  icon?: string;\r\n  display_order?: number;\r\n  is_active?: boolean;\r\n}\r\n\r\nexport interface CategoryUpdate {\r\n  name?: string;\r\n  slug?: string;\r\n  description?: string;\r\n  color?: string;\r\n  icon?: string;\r\n  display_order?: number;\r\n  is_active?: boolean;\r\n}\r\n\r\nexport interface CategoryListResponse {\r\n  categories: CMSCategory[];\r\n  total: number;\r\n}\r\n\r\n// Tag Types\r\nexport interface CMSTag {\r\n  id: string;\r\n  name: string;\r\n  slug: string;\r\n  description?: string;\r\n  color?: string;\r\n  usage_count: number;\r\n  created_at: string;\r\n  updated_at: string;\r\n}\r\n\r\nexport interface TagCreate {\r\n  name: string;\r\n  slug?: string;\r\n  description?: string;\r\n  color?: string;\r\n}\r\n\r\nexport interface TagUpdate {\r\n  name?: string;\r\n  slug?: string;\r\n  description?: string;\r\n  color?: string;\r\n}\r\n\r\nexport interface TagListResponse {\r\n  tags: CMSTag[];\r\n  total: number;\r\n}\r\n\r\n// Author Types\r\nexport interface CMSAuthor {\r\n  id: string;\r\n  user_id?: number;\r\n  name: string;\r\n  slug: string;\r\n  email?: string;\r\n  bio?: string;\r\n  avatar_url?: string;\r\n  job_title?: string;\r\n  company?: string;\r\n  twitter_handle?: string;\r\n  linkedin_url?: string;\r\n  github_handle?: string;\r\n  website_url?: string;\r\n  is_active: boolean;\r\n  created_at: string;\r\n  updated_at: string;\r\n}\r\n\r\nexport interface AuthorCreate {\r\n  name: string;\r\n  slug?: string;\r\n  email?: string;\r\n  bio?: string;\r\n  avatar_url?: string;\r\n  job_title?: string;\r\n  company?: string;\r\n  twitter_handle?: string;\r\n  linkedin_url?: string;\r\n  github_handle?: string;\r\n  website_url?: string;\r\n  user_id?: number;\r\n  is_active?: boolean;\r\n}\r\n\r\nexport interface AuthorUpdate {\r\n  name?: string;\r\n  slug?: string;\r\n  email?: string;\r\n  bio?: string;\r\n  avatar_url?: string;\r\n  job_title?: string;\r\n  company?: string;\r\n  twitter_handle?: string;\r\n  linkedin_url?: string;\r\n  github_handle?: string;\r\n  website_url?: string;\r\n  user_id?: number;\r\n  is_active?: boolean;\r\n}\r\n\r\nexport interface AuthorListResponse {\r\n  authors: CMSAuthor[];\r\n  total: number;\r\n}\r\n\r\n// Post Types\r\nexport interface CMSPost {\r\n  id: string;\r\n  title: string;\r\n  slug: string;\r\n  excerpt?: string;\r\n  content?: string;\r\n  content_json?: Record<string, unknown>;\r\n  status: PostStatus;\r\n  content_type: ContentType;\r\n  published_at?: string;\r\n  scheduled_at?: string;\r\n  meta_title?: string;\r\n  meta_description?: string;\r\n  canonical_url?: string;\r\n  og_image_url?: string;\r\n  featured_image_url?: string;\r\n  featured_image_alt?: string;\r\n  reading_time_minutes?: number;\r\n  word_count?: number;\r\n  view_count: number;\r\n  is_featured: boolean;\r\n  allow_comments: boolean;\r\n  category?: CMSCategory;\r\n  author?: CMSAuthor;\r\n  tags: CMSTag[];\r\n  meta?: Record<string, unknown>;\r\n  created_at: string;\r\n  updated_at: string;\r\n}\r\n\r\nexport interface PostPublic {\r\n  id: string;\r\n  title: string;\r\n  slug: string;\r\n  excerpt?: string;\r\n  content?: string;\r\n  published_at?: string;\r\n  meta_title?: string;\r\n  meta_description?: string;\r\n  og_image_url?: string;\r\n  featured_image_url?: string;\r\n  featured_image_alt?: string;\r\n  reading_time_minutes?: number;\r\n  view_count: number;\r\n  is_featured: boolean;\r\n  content_type: ContentType;\r\n  category?: CMSCategory;\r\n  author?: CMSAuthor;\r\n  tags: CMSTag[];\r\n}\r\n\r\nexport interface PostCreate {\r\n  title: string;\r\n  slug?: string;\r\n  excerpt?: string;\r\n  content?: string;\r\n  content_json?: Record<string, unknown>;\r\n  status?: PostStatus;\r\n  content_type?: ContentType;\r\n  category_id?: string;\r\n  author_id?: string;\r\n  tag_ids?: string[];\r\n  published_at?: string;\r\n  scheduled_at?: string;\r\n  meta_title?: string;\r\n  meta_description?: string;\r\n  canonical_url?: string;\r\n  og_image_url?: string;\r\n  featured_image_url?: string;\r\n  featured_image_alt?: string;\r\n  reading_time_minutes?: number;\r\n  is_featured?: boolean;\r\n  allow_comments?: boolean;\r\n}\r\n\r\nexport interface PostUpdate {\r\n  title?: string;\r\n  slug?: string;\r\n  excerpt?: string;\r\n  content?: string;\r\n  content_json?: Record<string, unknown>;\r\n  status?: PostStatus;\r\n  content_type?: ContentType;\r\n  category_id?: string;\r\n  author_id?: string;\r\n  tag_ids?: string[];\r\n  published_at?: string;\r\n  scheduled_at?: string;\r\n  meta_title?: string;\r\n  meta_description?: string;\r\n  canonical_url?: string;\r\n  og_image_url?: string;\r\n  featured_image_url?: string;\r\n  featured_image_alt?: string;\r\n  reading_time_minutes?: number;\r\n  is_featured?: boolean;\r\n  allow_comments?: boolean;\r\n}\r\n\r\nexport interface PostListResponse {\r\n  posts: CMSPost[];\r\n  total: number;\r\n  page: number;\r\n  page_size: number;\r\n}\r\n\r\nexport interface PostPublicListResponse {\r\n  posts: PostPublic[];\r\n  total: number;\r\n  page: number;\r\n  page_size: number;\r\n}\r\n\r\n// Page Types\r\nexport interface CMSPage {\r\n  id: string;\r\n  title: string;\r\n  slug: string;\r\n  content?: string;\r\n  content_json?: Record<string, unknown>;\r\n  status: PageStatus;\r\n  published_at?: string;\r\n  meta_title?: string;\r\n  meta_description?: string;\r\n  show_in_navigation: boolean;\r\n  navigation_label?: string;\r\n  navigation_order: number;\r\n  template: string;\r\n  created_at: string;\r\n  updated_at: string;\r\n}\r\n\r\nexport interface PageCreate {\r\n  title: string;\r\n  slug?: string;\r\n  content?: string;\r\n  content_json?: Record<string, unknown>;\r\n  status?: PageStatus;\r\n  meta_title?: string;\r\n  meta_description?: string;\r\n  show_in_navigation?: boolean;\r\n  navigation_label?: string;\r\n  navigation_order?: number;\r\n  template?: string;\r\n}\r\n\r\nexport interface PageUpdate {\r\n  title?: string;\r\n  slug?: string;\r\n  content?: string;\r\n  content_json?: Record<string, unknown>;\r\n  status?: PageStatus;\r\n  meta_title?: string;\r\n  meta_description?: string;\r\n  show_in_navigation?: boolean;\r\n  navigation_label?: string;\r\n  navigation_order?: number;\r\n  template?: string;\r\n}\r\n\r\nexport interface PageListResponse {\r\n  pages: CMSPage[];\r\n  total: number;\r\n}\r\n\r\n// Contact Types\r\nexport interface CMSContact {\r\n  id: string;\r\n  name: string;\r\n  email: string;\r\n  company?: string;\r\n  phone?: string;\r\n  subject?: string;\r\n  message: string;\r\n  source_page?: string;\r\n  is_read: boolean;\r\n  read_at?: string;\r\n  is_responded: boolean;\r\n  responded_at?: string;\r\n  response_notes?: string;\r\n  is_spam: boolean;\r\n  created_at: string;\r\n}\r\n\r\nexport interface ContactSubmit {\r\n  name: string;\r\n  email: string;\r\n  company?: string;\r\n  phone?: string;\r\n  subject?: string;\r\n  message: string;\r\n  source_page?: string;\r\n}\r\n\r\nexport interface ContactListResponse {\r\n  contacts: CMSContact[];\r\n  total: number;\r\n  page: number;\r\n  page_size: number;\r\n}\r\n\r\n// Filter Types\r\nexport interface PostFilters {\r\n  page?: number;\r\n  page_size?: number;\r\n  category_slug?: string;\r\n  tag_slug?: string;\r\n  content_type?: ContentType;\r\n  search?: string;\r\n  featured_only?: boolean;\r\n}\r\n\r\nexport interface AdminPostFilters extends PostFilters {\r\n  status_filter?: PostStatus;\r\n}\r\n\r\nexport interface ContactFilters {\r\n  page?: number;\r\n  page_size?: number;\r\n  unread_only?: boolean;\r\n  exclude_spam?: boolean;\r\n}\r\n\r\n// =============================================================================\r\n// 2026 Workflow Types\r\n// =============================================================================\r\n\r\nexport interface WorkflowHistoryEntry {\r\n  id: string;\r\n  action: WorkflowAction;\r\n  from_status?: string;\r\n  to_status?: string;\r\n  performed_by_id?: number;\r\n  comment?: string;\r\n  version_number?: number;\r\n  extra_data?: Record<string, unknown>;\r\n  created_at?: string;\r\n}\r\n\r\nexport interface WorkflowHistoryResponse {\r\n  post_id: string;\r\n  history: WorkflowHistoryEntry[];\r\n  total: number;\r\n  page: number;\r\n  page_size: number;\r\n}\r\n\r\nexport interface PostVersion {\r\n  id: string;\r\n  version: number;\r\n  title: string;\r\n  slug: string;\r\n  excerpt?: string;\r\n  change_summary?: string;\r\n  change_type?: string;\r\n  word_count?: number;\r\n  reading_time_minutes?: number;\r\n  created_by_id?: number;\r\n  created_at?: string;\r\n}\r\n\r\nexport interface VersionHistoryResponse {\r\n  post_id: string;\r\n  current_version: number;\r\n  versions: PostVersion[];\r\n  total: number;\r\n  page: number;\r\n  page_size: number;\r\n}\r\n\r\nexport interface WorkflowActionResponse {\r\n  post_id: string;\r\n  status: PostStatus;\r\n  submitted_at?: string;\r\n  approved_at?: string;\r\n  rejected_at?: string;\r\n  scheduled_at?: string;\r\n  published_at?: string;\r\n  assigned_reviewer_id?: number;\r\n  rejection_reason?: string;\r\n  review_notes?: string;\r\n}\r\n\r\nexport interface RestoreVersionResponse {\r\n  post_id: string;\r\n  restored_from_version: number;\r\n  new_version: number;\r\n}\r\n\r\n// =============================================================================\r\n// Query Keys\r\n// =============================================================================\r\n\r\nexport const cmsKeys = {\r\n  all: ['cms'] as const,\r\n  // Posts\r\n  posts: () => [...cmsKeys.all, 'posts'] as const,\r\n  postsList: (filters: PostFilters) => [...cmsKeys.posts(), 'list', filters] as const,\r\n  postsDetail: (slug: string) => [...cmsKeys.posts(), 'detail', slug] as const,\r\n  postsAdmin: (filters: AdminPostFilters) => [...cmsKeys.posts(), 'admin', filters] as const,\r\n  postsAdminDetail: (id: string) => [...cmsKeys.posts(), 'admin', 'detail', id] as const,\r\n  // Categories\r\n  categories: () => [...cmsKeys.all, 'categories'] as const,\r\n  categoriesList: (activeOnly?: boolean) => [...cmsKeys.categories(), { activeOnly }] as const,\r\n  // Tags\r\n  tags: () => [...cmsKeys.all, 'tags'] as const,\r\n  tagsList: () => [...cmsKeys.tags(), 'list'] as const,\r\n  // Authors\r\n  authors: () => [...cmsKeys.all, 'authors'] as const,\r\n  authorsList: () => [...cmsKeys.authors(), 'list'] as const,\r\n  // Pages\r\n  pages: () => [...cmsKeys.all, 'pages'] as const,\r\n  pagesList: () => [...cmsKeys.pages(), 'list'] as const,\r\n  // Contacts\r\n  contacts: () => [...cmsKeys.all, 'contacts'] as const,\r\n  contactsList: (filters: ContactFilters) => [...cmsKeys.contacts(), 'list', filters] as const,\r\n  // 2026 Workflow\r\n  workflow: () => [...cmsKeys.all, 'workflow'] as const,\r\n  workflowHistory: (postId: string) => [...cmsKeys.workflow(), 'history', postId] as const,\r\n  versions: () => [...cmsKeys.all, 'versions'] as const,\r\n  versionHistory: (postId: string) => [...cmsKeys.versions(), postId] as const,\r\n};\r\n\r\n// =============================================================================\r\n// Public API Functions\r\n// =============================================================================\r\n\r\n// Posts (Public)\r\nexport const fetchPublishedPosts = async (\r\n  filters: PostFilters = {}\r\n): Promise<PostPublicListResponse> => {\r\n  const params = new URLSearchParams();\r\n  if (filters.page) params.append('page', String(filters.page));\r\n  if (filters.page_size) params.append('page_size', String(filters.page_size));\r\n  if (filters.category_slug) params.append('category_slug', filters.category_slug);\r\n  if (filters.tag_slug) params.append('tag_slug', filters.tag_slug);\r\n  if (filters.content_type) params.append('content_type', filters.content_type);\r\n  if (filters.search) params.append('search', filters.search);\r\n  if (filters.featured_only) params.append('featured_only', 'true');\r\n\r\n  const response = await apiClient.get<ApiResponse<PostPublicListResponse>>(\r\n    `/cms/posts?${params.toString()}`\r\n  );\r\n  return response.data.data;\r\n};\r\n\r\nexport const fetchPostBySlug = async (slug: string): Promise<PostPublic> => {\r\n  const response = await apiClient.get<ApiResponse<PostPublic>>(`/cms/posts/${slug}`);\r\n  return response.data.data;\r\n};\r\n\r\n// Categories (Public)\r\nexport const fetchCategories = async (activeOnly = true): Promise<CategoryListResponse> => {\r\n  const response = await apiClient.get<ApiResponse<CategoryListResponse>>(\r\n    `/cms/categories?active_only=${activeOnly}`\r\n  );\r\n  return response.data.data;\r\n};\r\n\r\n// Tags (Public)\r\nexport const fetchTags = async (): Promise<TagListResponse> => {\r\n  const response = await apiClient.get<ApiResponse<TagListResponse>>('/cms/tags');\r\n  return response.data.data;\r\n};\r\n\r\n// Contact Form (Public)\r\nexport const submitContactForm = async (data: ContactSubmit): Promise<{ submitted: boolean }> => {\r\n  const response = await apiClient.post<ApiResponse<{ submitted: boolean }>>('/cms/contact', data);\r\n  return response.data.data;\r\n};\r\n\r\n// =============================================================================\r\n// Admin API Functions\r\n// =============================================================================\r\n\r\n// Admin Posts\r\nexport const fetchAdminPosts = async (\r\n  filters: AdminPostFilters = {}\r\n): Promise<PostListResponse> => {\r\n  const params = new URLSearchParams();\r\n  if (filters.page) params.append('page', String(filters.page));\r\n  if (filters.page_size) params.append('page_size', String(filters.page_size));\r\n  if (filters.status_filter) params.append('status_filter', filters.status_filter);\r\n  if (filters.content_type) params.append('content_type', filters.content_type);\r\n  if (filters.search) params.append('search', filters.search);\r\n\r\n  const response = await apiClient.get<ApiResponse<PostListResponse>>(\r\n    `/cms/admin/posts?${params.toString()}`\r\n  );\r\n  return response.data.data;\r\n};\r\n\r\nexport const fetchAdminPost = async (id: string): Promise<CMSPost> => {\r\n  const response = await apiClient.get<ApiResponse<CMSPost>>(`/cms/admin/posts/${id}`);\r\n  return response.data.data;\r\n};\r\n\r\nexport const createPost = async (data: PostCreate): Promise<CMSPost> => {\r\n  const response = await apiClient.post<ApiResponse<CMSPost>>('/cms/admin/posts', data);\r\n  return response.data.data;\r\n};\r\n\r\nexport const updatePost = async (id: string, data: PostUpdate): Promise<CMSPost> => {\r\n  const response = await apiClient.patch<ApiResponse<CMSPost>>(`/cms/admin/posts/${id}`, data);\r\n  return response.data.data;\r\n};\r\n\r\nexport const deletePost = async (id: string): Promise<void> => {\r\n  await apiClient.delete(`/cms/admin/posts/${id}`);\r\n};\r\n\r\n// Admin Categories\r\nexport const fetchAdminCategories = async (): Promise<CategoryListResponse> => {\r\n  const response = await apiClient.get<ApiResponse<CategoryListResponse>>('/cms/admin/categories');\r\n  return response.data.data;\r\n};\r\n\r\nexport const createCategory = async (data: CategoryCreate): Promise<CMSCategory> => {\r\n  const response = await apiClient.post<ApiResponse<CMSCategory>>('/cms/admin/categories', data);\r\n  return response.data.data;\r\n};\r\n\r\nexport const updateCategory = async (id: string, data: CategoryUpdate): Promise<CMSCategory> => {\r\n  const response = await apiClient.patch<ApiResponse<CMSCategory>>(\r\n    `/cms/admin/categories/${id}`,\r\n    data\r\n  );\r\n  return response.data.data;\r\n};\r\n\r\nexport const deleteCategory = async (id: string): Promise<void> => {\r\n  await apiClient.delete(`/cms/admin/categories/${id}`);\r\n};\r\n\r\n// Admin Tags\r\nexport const fetchAdminTags = async (): Promise<TagListResponse> => {\r\n  const response = await apiClient.get<ApiResponse<TagListResponse>>('/cms/admin/tags');\r\n  return response.data.data;\r\n};\r\n\r\nexport const createTag = async (data: TagCreate): Promise<CMSTag> => {\r\n  const response = await apiClient.post<ApiResponse<CMSTag>>('/cms/admin/tags', data);\r\n  return response.data.data;\r\n};\r\n\r\nexport const updateTag = async (id: string, data: TagUpdate): Promise<CMSTag> => {\r\n  const response = await apiClient.patch<ApiResponse<CMSTag>>(`/cms/admin/tags/${id}`, data);\r\n  return response.data.data;\r\n};\r\n\r\nexport const deleteTag = async (id: string): Promise<void> => {\r\n  await apiClient.delete(`/cms/admin/tags/${id}`);\r\n};\r\n\r\n// Admin Authors\r\nexport const fetchAdminAuthors = async (): Promise<AuthorListResponse> => {\r\n  const response = await apiClient.get<ApiResponse<AuthorListResponse>>('/cms/admin/authors');\r\n  return response.data.data;\r\n};\r\n\r\nexport const createAuthor = async (data: AuthorCreate): Promise<CMSAuthor> => {\r\n  const response = await apiClient.post<ApiResponse<CMSAuthor>>('/cms/admin/authors', data);\r\n  return response.data.data;\r\n};\r\n\r\nexport const updateAuthor = async (id: string, data: AuthorUpdate): Promise<CMSAuthor> => {\r\n  const response = await apiClient.patch<ApiResponse<CMSAuthor>>(`/cms/admin/authors/${id}`, data);\r\n  return response.data.data;\r\n};\r\n\r\nexport const deleteAuthor = async (id: string): Promise<void> => {\r\n  await apiClient.delete(`/cms/admin/authors/${id}`);\r\n};\r\n\r\n// Admin Pages\r\nexport const fetchAdminPages = async (): Promise<PageListResponse> => {\r\n  const response = await apiClient.get<ApiResponse<PageListResponse>>('/cms/admin/pages');\r\n  return response.data.data;\r\n};\r\n\r\nexport const createPage = async (data: PageCreate): Promise<CMSPage> => {\r\n  const response = await apiClient.post<ApiResponse<CMSPage>>('/cms/admin/pages', data);\r\n  return response.data.data;\r\n};\r\n\r\nexport const updatePage = async (id: string, data: PageUpdate): Promise<CMSPage> => {\r\n  const response = await apiClient.patch<ApiResponse<CMSPage>>(`/cms/admin/pages/${id}`, data);\r\n  return response.data.data;\r\n};\r\n\r\nexport const deletePage = async (id: string): Promise<void> => {\r\n  await apiClient.delete(`/cms/admin/pages/${id}`);\r\n};\r\n\r\n// Admin Contacts\r\nexport const fetchAdminContacts = async (\r\n  filters: ContactFilters = {}\r\n): Promise<ContactListResponse> => {\r\n  const params = new URLSearchParams();\r\n  if (filters.page) params.append('page', String(filters.page));\r\n  if (filters.page_size) params.append('page_size', String(filters.page_size));\r\n  if (filters.unread_only) params.append('unread_only', 'true');\r\n  if (filters.exclude_spam !== undefined) {\r\n    params.append('exclude_spam', String(filters.exclude_spam));\r\n  }\r\n\r\n  const response = await apiClient.get<ApiResponse<ContactListResponse>>(\r\n    `/cms/admin/contacts?${params.toString()}`\r\n  );\r\n  return response.data.data;\r\n};\r\n\r\nexport const markContactRead = async (id: string, isRead: boolean): Promise<CMSContact> => {\r\n  const response = await apiClient.patch<ApiResponse<CMSContact>>(\r\n    `/cms/admin/contacts/${id}/read`,\r\n    { is_read: isRead }\r\n  );\r\n  return response.data.data;\r\n};\r\n\r\nexport const markContactResponded = async (\r\n  id: string,\r\n  isResponded: boolean,\r\n  responseNotes?: string\r\n): Promise<CMSContact> => {\r\n  const response = await apiClient.patch<ApiResponse<CMSContact>>(\r\n    `/cms/admin/contacts/${id}/responded`,\r\n    { is_responded: isResponded, response_notes: responseNotes }\r\n  );\r\n  return response.data.data;\r\n};\r\n\r\nexport const markContactSpam = async (id: string, isSpam: boolean): Promise<CMSContact> => {\r\n  const response = await apiClient.patch<ApiResponse<CMSContact>>(\r\n    `/cms/admin/contacts/${id}/spam`,\r\n    { is_spam: isSpam }\r\n  );\r\n  return response.data.data;\r\n};\r\n\r\n// =============================================================================\r\n// React Query Hooks - Public\r\n// =============================================================================\r\n\r\nexport const usePosts = (filters: PostFilters = {}) => {\r\n  return useQuery({\r\n    queryKey: cmsKeys.postsList(filters),\r\n    queryFn: () => fetchPublishedPosts(filters),\r\n  });\r\n};\r\n\r\nexport const usePost = (slug: string) => {\r\n  return useQuery({\r\n    queryKey: cmsKeys.postsDetail(slug),\r\n    queryFn: () => fetchPostBySlug(slug),\r\n    enabled: !!slug,\r\n  });\r\n};\r\n\r\nexport const useCategories = (activeOnly = true) => {\r\n  return useQuery({\r\n    queryKey: cmsKeys.categoriesList(activeOnly),\r\n    queryFn: () => fetchCategories(activeOnly),\r\n  });\r\n};\r\n\r\nexport const useTags = () => {\r\n  return useQuery({\r\n    queryKey: cmsKeys.tagsList(),\r\n    queryFn: fetchTags,\r\n  });\r\n};\r\n\r\nexport const useSubmitContact = () => {\r\n  return useMutation({\r\n    mutationFn: submitContactForm,\r\n  });\r\n};\r\n\r\n// =============================================================================\r\n// React Query Hooks - Admin Posts\r\n// =============================================================================\r\n\r\nexport const useAdminPosts = (filters: AdminPostFilters = {}) => {\r\n  return useQuery({\r\n    queryKey: cmsKeys.postsAdmin(filters),\r\n    queryFn: () => fetchAdminPosts(filters),\r\n  });\r\n};\r\n\r\nexport const useAdminPost = (id: string) => {\r\n  return useQuery({\r\n    queryKey: cmsKeys.postsAdminDetail(id),\r\n    queryFn: () => fetchAdminPost(id),\r\n    enabled: !!id,\r\n  });\r\n};\r\n\r\nexport const useCreatePost = () => {\r\n  const queryClient = useQueryClient();\r\n  return useMutation({\r\n    mutationFn: createPost,\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: cmsKeys.posts() });\r\n    },\r\n  });\r\n};\r\n\r\nexport const useUpdatePost = () => {\r\n  const queryClient = useQueryClient();\r\n  return useMutation({\r\n    mutationFn: ({ id, data }: { id: string; data: PostUpdate }) => updatePost(id, data),\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: cmsKeys.posts() });\r\n    },\r\n  });\r\n};\r\n\r\nexport const useDeletePost = () => {\r\n  const queryClient = useQueryClient();\r\n  return useMutation({\r\n    mutationFn: deletePost,\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: cmsKeys.posts() });\r\n    },\r\n  });\r\n};\r\n\r\n// =============================================================================\r\n// React Query Hooks - Admin Categories\r\n// =============================================================================\r\n\r\nexport const useAdminCategories = () => {\r\n  return useQuery({\r\n    queryKey: cmsKeys.categories(),\r\n    queryFn: fetchAdminCategories,\r\n  });\r\n};\r\n\r\nexport const useCreateCategory = () => {\r\n  const queryClient = useQueryClient();\r\n  return useMutation({\r\n    mutationFn: createCategory,\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: cmsKeys.categories() });\r\n    },\r\n  });\r\n};\r\n\r\nexport const useUpdateCategory = () => {\r\n  const queryClient = useQueryClient();\r\n  return useMutation({\r\n    mutationFn: ({ id, data }: { id: string; data: CategoryUpdate }) => updateCategory(id, data),\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: cmsKeys.categories() });\r\n    },\r\n  });\r\n};\r\n\r\nexport const useDeleteCategory = () => {\r\n  const queryClient = useQueryClient();\r\n  return useMutation({\r\n    mutationFn: deleteCategory,\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: cmsKeys.categories() });\r\n    },\r\n  });\r\n};\r\n\r\n// =============================================================================\r\n// React Query Hooks - Admin Tags\r\n// =============================================================================\r\n\r\nexport const useAdminTags = () => {\r\n  return useQuery({\r\n    queryKey: cmsKeys.tags(),\r\n    queryFn: fetchAdminTags,\r\n  });\r\n};\r\n\r\nexport const useCreateTag = () => {\r\n  const queryClient = useQueryClient();\r\n  return useMutation({\r\n    mutationFn: createTag,\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: cmsKeys.tags() });\r\n    },\r\n  });\r\n};\r\n\r\nexport const useUpdateTag = () => {\r\n  const queryClient = useQueryClient();\r\n  return useMutation({\r\n    mutationFn: ({ id, data }: { id: string; data: TagUpdate }) => updateTag(id, data),\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: cmsKeys.tags() });\r\n    },\r\n  });\r\n};\r\n\r\nexport const useDeleteTag = () => {\r\n  const queryClient = useQueryClient();\r\n  return useMutation({\r\n    mutationFn: deleteTag,\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: cmsKeys.tags() });\r\n    },\r\n  });\r\n};\r\n\r\n// =============================================================================\r\n// React Query Hooks - Admin Authors\r\n// =============================================================================\r\n\r\nexport const useAdminAuthors = () => {\r\n  return useQuery({\r\n    queryKey: cmsKeys.authors(),\r\n    queryFn: fetchAdminAuthors,\r\n  });\r\n};\r\n\r\nexport const useCreateAuthor = () => {\r\n  const queryClient = useQueryClient();\r\n  return useMutation({\r\n    mutationFn: createAuthor,\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: cmsKeys.authors() });\r\n    },\r\n  });\r\n};\r\n\r\nexport const useUpdateAuthor = () => {\r\n  const queryClient = useQueryClient();\r\n  return useMutation({\r\n    mutationFn: ({ id, data }: { id: string; data: AuthorUpdate }) => updateAuthor(id, data),\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: cmsKeys.authors() });\r\n    },\r\n  });\r\n};\r\n\r\nexport const useDeleteAuthor = () => {\r\n  const queryClient = useQueryClient();\r\n  return useMutation({\r\n    mutationFn: deleteAuthor,\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: cmsKeys.authors() });\r\n    },\r\n  });\r\n};\r\n\r\n// =============================================================================\r\n// React Query Hooks - Admin Pages\r\n// =============================================================================\r\n\r\nexport const useAdminPages = () => {\r\n  return useQuery({\r\n    queryKey: cmsKeys.pagesList(),\r\n    queryFn: fetchAdminPages,\r\n  });\r\n};\r\n\r\nexport const useCreatePage = () => {\r\n  const queryClient = useQueryClient();\r\n  return useMutation({\r\n    mutationFn: createPage,\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: cmsKeys.pages() });\r\n    },\r\n  });\r\n};\r\n\r\nexport const useUpdatePage = () => {\r\n  const queryClient = useQueryClient();\r\n  return useMutation({\r\n    mutationFn: ({ id, data }: { id: string; data: PageUpdate }) => updatePage(id, data),\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: cmsKeys.pages() });\r\n    },\r\n  });\r\n};\r\n\r\nexport const useDeletePage = () => {\r\n  const queryClient = useQueryClient();\r\n  return useMutation({\r\n    mutationFn: deletePage,\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: cmsKeys.pages() });\r\n    },\r\n  });\r\n};\r\n\r\n// =============================================================================\r\n// React Query Hooks - Admin Contacts\r\n// =============================================================================\r\n\r\nexport const useAdminContacts = (filters: ContactFilters = {}) => {\r\n  return useQuery({\r\n    queryKey: cmsKeys.contactsList(filters),\r\n    queryFn: () => fetchAdminContacts(filters),\r\n  });\r\n};\r\n\r\nexport const useMarkContactRead = () => {\r\n  const queryClient = useQueryClient();\r\n  return useMutation({\r\n    mutationFn: ({ id, isRead }: { id: string; isRead: boolean }) => markContactRead(id, isRead),\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: cmsKeys.contacts() });\r\n    },\r\n  });\r\n};\r\n\r\nexport const useMarkContactResponded = () => {\r\n  const queryClient = useQueryClient();\r\n  return useMutation({\r\n    mutationFn: ({\r\n      id,\r\n      isResponded,\r\n      responseNotes,\r\n    }: {\r\n      id: string;\r\n      isResponded: boolean;\r\n      responseNotes?: string;\r\n    }) => markContactResponded(id, isResponded, responseNotes),\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: cmsKeys.contacts() });\r\n    },\r\n  });\r\n};\r\n\r\nexport const useMarkContactSpam = () => {\r\n  const queryClient = useQueryClient();\r\n  return useMutation({\r\n    mutationFn: ({ id, isSpam }: { id: string; isSpam: boolean }) => markContactSpam(id, isSpam),\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: cmsKeys.contacts() });\r\n    },\r\n  });\r\n};\r\n\r\n// =============================================================================\r\n// 2026 Workflow API Functions\r\n// =============================================================================\r\n\r\nexport const submitPostForReview = async (\r\n  postId: string,\r\n  reviewerId?: number\r\n): Promise<WorkflowActionResponse> => {\r\n  const params = reviewerId ? `?reviewer_id=${reviewerId}` : '';\r\n  const response = await apiClient.post<ApiResponse<WorkflowActionResponse>>(\r\n    `/cms/admin/posts/${postId}/submit-for-review${params}`\r\n  );\r\n  return response.data.data;\r\n};\r\n\r\nexport const approvePost = async (\r\n  postId: string,\r\n  notes?: string\r\n): Promise<WorkflowActionResponse> => {\r\n  const params = notes ? `?notes=${encodeURIComponent(notes)}` : '';\r\n  const response = await apiClient.post<ApiResponse<WorkflowActionResponse>>(\r\n    `/cms/admin/posts/${postId}/approve${params}`\r\n  );\r\n  return response.data.data;\r\n};\r\n\r\nexport const rejectPost = async (\r\n  postId: string,\r\n  reason: string\r\n): Promise<WorkflowActionResponse> => {\r\n  const response = await apiClient.post<ApiResponse<WorkflowActionResponse>>(\r\n    `/cms/admin/posts/${postId}/reject?reason=${encodeURIComponent(reason)}`\r\n  );\r\n  return response.data.data;\r\n};\r\n\r\nexport const requestPostChanges = async (\r\n  postId: string,\r\n  notes: string\r\n): Promise<WorkflowActionResponse> => {\r\n  const response = await apiClient.post<ApiResponse<WorkflowActionResponse>>(\r\n    `/cms/admin/posts/${postId}/request-changes?notes=${encodeURIComponent(notes)}`\r\n  );\r\n  return response.data.data;\r\n};\r\n\r\nexport const schedulePost = async (\r\n  postId: string,\r\n  scheduledAt: string\r\n): Promise<WorkflowActionResponse> => {\r\n  const response = await apiClient.post<ApiResponse<WorkflowActionResponse>>(\r\n    `/cms/admin/posts/${postId}/schedule?scheduled_at=${encodeURIComponent(scheduledAt)}`\r\n  );\r\n  return response.data.data;\r\n};\r\n\r\nexport const publishPostImmediately = async (postId: string): Promise<WorkflowActionResponse> => {\r\n  const response = await apiClient.post<ApiResponse<WorkflowActionResponse>>(\r\n    `/cms/admin/posts/${postId}/publish`\r\n  );\r\n  return response.data.data;\r\n};\r\n\r\nexport const unpublishPost = async (postId: string): Promise<WorkflowActionResponse> => {\r\n  const response = await apiClient.post<ApiResponse<WorkflowActionResponse>>(\r\n    `/cms/admin/posts/${postId}/unpublish`\r\n  );\r\n  return response.data.data;\r\n};\r\n\r\nexport const archivePost = async (postId: string): Promise<WorkflowActionResponse> => {\r\n  const response = await apiClient.post<ApiResponse<WorkflowActionResponse>>(\r\n    `/cms/admin/posts/${postId}/archive`\r\n  );\r\n  return response.data.data;\r\n};\r\n\r\nexport const fetchWorkflowHistory = async (\r\n  postId: string,\r\n  page = 1,\r\n  pageSize = 20\r\n): Promise<WorkflowHistoryResponse> => {\r\n  const response = await apiClient.get<ApiResponse<WorkflowHistoryResponse>>(\r\n    `/cms/admin/posts/${postId}/workflow-history?page=${page}&page_size=${pageSize}`\r\n  );\r\n  return response.data.data;\r\n};\r\n\r\nexport const fetchVersionHistory = async (\r\n  postId: string,\r\n  page = 1,\r\n  pageSize = 20\r\n): Promise<VersionHistoryResponse> => {\r\n  const response = await apiClient.get<ApiResponse<VersionHistoryResponse>>(\r\n    `/cms/admin/posts/${postId}/versions?page=${page}&page_size=${pageSize}`\r\n  );\r\n  return response.data.data;\r\n};\r\n\r\nexport const restorePostVersion = async (\r\n  postId: string,\r\n  version: number\r\n): Promise<RestoreVersionResponse> => {\r\n  const response = await apiClient.post<ApiResponse<RestoreVersionResponse>>(\r\n    `/cms/admin/posts/${postId}/restore-version/${version}`\r\n  );\r\n  return response.data.data;\r\n};\r\n\r\n// =============================================================================\r\n// 2026 Workflow React Query Hooks\r\n// =============================================================================\r\n\r\nexport const useSubmitForReview = () => {\r\n  const queryClient = useQueryClient();\r\n  return useMutation({\r\n    mutationFn: ({ postId, reviewerId }: { postId: string; reviewerId?: number }) =>\r\n      submitPostForReview(postId, reviewerId),\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: cmsKeys.posts() });\r\n    },\r\n  });\r\n};\r\n\r\nexport const useApprovePost = () => {\r\n  const queryClient = useQueryClient();\r\n  return useMutation({\r\n    mutationFn: ({ postId, notes }: { postId: string; notes?: string }) =>\r\n      approvePost(postId, notes),\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: cmsKeys.posts() });\r\n    },\r\n  });\r\n};\r\n\r\nexport const useRejectPost = () => {\r\n  const queryClient = useQueryClient();\r\n  return useMutation({\r\n    mutationFn: ({ postId, reason }: { postId: string; reason: string }) =>\r\n      rejectPost(postId, reason),\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: cmsKeys.posts() });\r\n    },\r\n  });\r\n};\r\n\r\nexport const useRequestChanges = () => {\r\n  const queryClient = useQueryClient();\r\n  return useMutation({\r\n    mutationFn: ({ postId, notes }: { postId: string; notes: string }) =>\r\n      requestPostChanges(postId, notes),\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: cmsKeys.posts() });\r\n    },\r\n  });\r\n};\r\n\r\nexport const useSchedulePost = () => {\r\n  const queryClient = useQueryClient();\r\n  return useMutation({\r\n    mutationFn: ({ postId, scheduledAt }: { postId: string; scheduledAt: string }) =>\r\n      schedulePost(postId, scheduledAt),\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: cmsKeys.posts() });\r\n    },\r\n  });\r\n};\r\n\r\nexport const usePublishPost = () => {\r\n  const queryClient = useQueryClient();\r\n  return useMutation({\r\n    mutationFn: (postId: string) => publishPostImmediately(postId),\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: cmsKeys.posts() });\r\n    },\r\n  });\r\n};\r\n\r\nexport const useUnpublishPost = () => {\r\n  const queryClient = useQueryClient();\r\n  return useMutation({\r\n    mutationFn: (postId: string) => unpublishPost(postId),\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: cmsKeys.posts() });\r\n    },\r\n  });\r\n};\r\n\r\nexport const useArchivePost = () => {\r\n  const queryClient = useQueryClient();\r\n  return useMutation({\r\n    mutationFn: (postId: string) => archivePost(postId),\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: cmsKeys.posts() });\r\n    },\r\n  });\r\n};\r\n\r\nexport const useWorkflowHistory = (postId: string, page = 1, pageSize = 20) => {\r\n  return useQuery({\r\n    queryKey: cmsKeys.workflowHistory(postId),\r\n    queryFn: () => fetchWorkflowHistory(postId, page, pageSize),\r\n    enabled: !!postId,\r\n  });\r\n};\r\n\r\nexport const useVersionHistory = (postId: string, page = 1, pageSize = 20) => {\r\n  return useQuery({\r\n    queryKey: cmsKeys.versionHistory(postId),\r\n    queryFn: () => fetchVersionHistory(postId, page, pageSize),\r\n    enabled: !!postId,\r\n  });\r\n};\r\n\r\nexport const useRestoreVersion = () => {\r\n  const queryClient = useQueryClient();\r\n  return useMutation({\r\n    mutationFn: ({ postId, version }: { postId: string; version: number }) =>\r\n      restorePostVersion(postId, version),\r\n    onSuccess: (_, variables) => {\r\n      queryClient.invalidateQueries({ queryKey: cmsKeys.posts() });\r\n      queryClient.invalidateQueries({ queryKey: cmsKeys.versionHistory(variables.postId) });\r\n      queryClient.invalidateQueries({ queryKey: cmsKeys.workflowHistory(variables.postId) });\r\n    },\r\n  });\r\n};\r\n\r\n// =============================================================================\r\n// 2026 Workflow Status Helpers\r\n// =============================================================================\r\n\r\nexport const WORKFLOW_STATUS_CONFIG: Record<\r\n  PostStatus,\r\n  {\r\n    label: string;\r\n    color: string;\r\n    bgColor: string;\r\n    description: string;\r\n    allowedActions: string[];\r\n  }\r\n> = {\r\n  draft: {\r\n    label: 'Draft',\r\n    color: 'text-gray-400',\r\n    bgColor: 'bg-gray-500/20',\r\n    description: 'Work in progress, not yet submitted',\r\n    allowedActions: ['submit_for_review', 'schedule', 'publish'],\r\n  },\r\n  in_review: {\r\n    label: 'In Review',\r\n    color: 'text-yellow-400',\r\n    bgColor: 'bg-yellow-500/20',\r\n    description: 'Waiting for reviewer approval',\r\n    allowedActions: ['approve', 'reject', 'request_changes'],\r\n  },\r\n  changes_requested: {\r\n    label: 'Changes Requested',\r\n    color: 'text-orange-400',\r\n    bgColor: 'bg-orange-500/20',\r\n    description: 'Reviewer requested modifications',\r\n    allowedActions: ['submit_for_review'],\r\n  },\r\n  approved: {\r\n    label: 'Approved',\r\n    color: 'text-green-400',\r\n    bgColor: 'bg-green-500/20',\r\n    description: 'Ready to publish or schedule',\r\n    allowedActions: ['publish', 'schedule'],\r\n  },\r\n  scheduled: {\r\n    label: 'Scheduled',\r\n    color: 'text-blue-400',\r\n    bgColor: 'bg-blue-500/20',\r\n    description: 'Will be published automatically',\r\n    allowedActions: ['publish', 'unschedule'],\r\n  },\r\n  published: {\r\n    label: 'Published',\r\n    color: 'text-emerald-400',\r\n    bgColor: 'bg-emerald-500/20',\r\n    description: 'Live and visible to readers',\r\n    allowedActions: ['unpublish', 'archive'],\r\n  },\r\n  unpublished: {\r\n    label: 'Unpublished',\r\n    color: 'text-gray-400',\r\n    bgColor: 'bg-gray-500/20',\r\n    description: 'Temporarily taken offline',\r\n    allowedActions: ['publish', 'archive'],\r\n  },\r\n  archived: {\r\n    label: 'Archived',\r\n    color: 'text-gray-500',\r\n    bgColor: 'bg-gray-600/20',\r\n    description: 'Permanently archived',\r\n    allowedActions: ['restore'],\r\n  },\r\n  rejected: {\r\n    label: 'Rejected',\r\n    color: 'text-red-400',\r\n    bgColor: 'bg-red-500/20',\r\n    description: 'Did not pass review',\r\n    allowedActions: ['submit_for_review'],\r\n  },\r\n};\r\n\r\nexport const getStatusConfig = (status: PostStatus) => {\r\n  return WORKFLOW_STATUS_CONFIG[status] || WORKFLOW_STATUS_CONFIG.draft;\r\n};\r\n\r\n// =============================================================================\r\n// Landing Page Content Hooks (Features, FAQ, Pricing)\r\n// =============================================================================\r\n\r\n/**\r\n * Content category slugs for landing page content\r\n */\r\nexport const CONTENT_CATEGORIES = {\r\n  FEATURES: 'landing-features',\r\n  FAQ: 'landing-faq',\r\n  PRICING: 'landing-pricing',\r\n  FAQ_PRICING: 'faq-pricing',\r\n  FAQ_FEATURES: 'faq-features',\r\n  FAQ_TRUST_ENGINE: 'faq-trust-engine',\r\n  FAQ_INTEGRATIONS: 'faq-integrations',\r\n  FAQ_DATA: 'faq-data',\r\n  FAQ_SUPPORT: 'faq-support',\r\n} as const;\r\n\r\n/**\r\n * Feature layer structure for landing page\r\n */\r\nexport interface FeatureLayer {\r\n  id: string;\r\n  name: string;\r\n  description: string;\r\n  color: string;\r\n  bgColor: string;\r\n  borderColor: string;\r\n  iconName: string;\r\n  displayOrder: number;\r\n  features: FeatureItem[];\r\n}\r\n\r\nexport interface FeatureItem {\r\n  id: string;\r\n  title: string;\r\n  description: string;\r\n  iconName: string;\r\n  displayOrder: number;\r\n}\r\n\r\n/**\r\n * FAQ item structure\r\n */\r\nexport interface FAQItem {\r\n  id: string;\r\n  question: string;\r\n  answer: string;\r\n  category: string;\r\n  displayOrder: number;\r\n}\r\n\r\n/**\r\n * Pricing tier structure\r\n */\r\nexport interface PricingTier {\r\n  id: string;\r\n  name: string;\r\n  description: string;\r\n  price: string;\r\n  period: string;\r\n  adSpend: string;\r\n  features: string[];\r\n  cta: string;\r\n  ctaLink: string;\r\n  highlighted: boolean;\r\n  badge?: string;\r\n  displayOrder: number;\r\n}\r\n\r\n/**\r\n * Trust badge structure\r\n */\r\nexport interface TrustBadge {\r\n  id: string;\r\n  icon: string;\r\n  text: string;\r\n  displayOrder: number;\r\n}\r\n\r\n/**\r\n * Fetch posts by category slug\r\n */\r\nasync function fetchPostsByCategory(\r\n  categorySlug: string,\r\n  status: PostStatus = 'published'\r\n): Promise<CMSPost[]> {\r\n  try {\r\n    const response = await apiClient.get<{ posts: CMSPost[]; total: number }>(\r\n      `/cms/posts?category=${categorySlug}&status=${status}`\r\n    );\r\n    return response.data.posts || [];\r\n  } catch {\r\n    return [];\r\n  }\r\n}\r\n\r\n/**\r\n * Parse feature layers from CMS posts\r\n * Posts should have metadata with layer info\r\n */\r\nfunction parseFeatureLayers(posts: CMSPost[]): FeatureLayer[] {\r\n  // Group posts by layer (stored in metadata.layer)\r\n  const layers = new Map<string, FeatureLayer>();\r\n\r\n  posts.forEach((post) => {\r\n    const meta = (post.meta || {}) as Record<string, unknown>;\r\n    const layerId = (meta.layerId as string) || 'default';\r\n\r\n    if (!layers.has(layerId)) {\r\n      layers.set(layerId, {\r\n        id: layerId,\r\n        name: (meta.layerName as string) || 'Features',\r\n        description: (meta.layerDescription as string) || '',\r\n        color: (meta.layerColor as string) || 'from-stratum-500 to-cyan-500',\r\n        bgColor: (meta.layerBgColor as string) || 'bg-stratum-500/10',\r\n        borderColor: (meta.layerBorderColor as string) || 'border-stratum-500/20',\r\n        iconName: (meta.layerIcon as string) || 'SparklesIcon',\r\n        displayOrder: (meta.layerOrder as number) || 0,\r\n        features: [],\r\n      });\r\n    }\r\n\r\n    const layer = layers.get(layerId)!;\r\n    layer.features.push({\r\n      id: post.id,\r\n      title: post.title,\r\n      description: post.excerpt || '',\r\n      iconName: (meta.featureIcon as string) || 'ChartBarIcon',\r\n      displayOrder: (meta.displayOrder as number) || 0,\r\n    });\r\n  });\r\n\r\n  // Sort layers and features\r\n  return Array.from(layers.values())\r\n    .sort((a, b) => a.displayOrder - b.displayOrder)\r\n    .map((layer) => ({\r\n      ...layer,\r\n      features: layer.features.sort((a, b) => a.displayOrder - b.displayOrder),\r\n    }));\r\n}\r\n\r\n/**\r\n * Parse FAQ items from CMS posts\r\n */\r\nfunction parseFAQItems(posts: CMSPost[]): FAQItem[] {\r\n  return posts\r\n    .map((post) => {\r\n      const meta = (post.meta || {}) as Record<string, unknown>;\r\n      return {\r\n        id: post.id,\r\n        question: post.title,\r\n        answer: post.content || post.excerpt || '',\r\n        category: (meta.faqCategory as string) || 'general',\r\n        displayOrder: (meta.displayOrder as number) || 0,\r\n      };\r\n    })\r\n    .sort((a, b) => a.displayOrder - b.displayOrder);\r\n}\r\n\r\n/**\r\n * Parse pricing tiers from CMS posts\r\n */\r\nfunction parsePricingTiers(posts: CMSPost[]): PricingTier[] {\r\n  return posts\r\n    .map((post) => {\r\n      const meta = (post.meta || {}) as Record<string, unknown>;\r\n      return {\r\n        id: post.id,\r\n        name: post.title,\r\n        description: post.excerpt || '',\r\n        price: (meta.price as string) || '$0',\r\n        period: (meta.period as string) || '/month',\r\n        adSpend: (meta.adSpend as string) || '',\r\n        features: (meta.features as string[]) || [],\r\n        cta: (meta.cta as string) || 'Get Started',\r\n        ctaLink: (meta.ctaLink as string) || '/signup',\r\n        highlighted: (meta.highlighted as boolean) || false,\r\n        badge: meta.badge as string | undefined,\r\n        displayOrder: (meta.displayOrder as number) || 0,\r\n      };\r\n    })\r\n    .sort((a, b) => a.displayOrder - b.displayOrder);\r\n}\r\n\r\n/**\r\n * Hook: Fetch feature layers for landing page\r\n */\r\nexport const useFeatureLayers = () => {\r\n  return useQuery({\r\n    queryKey: [...cmsKeys.posts(), 'features'],\r\n    queryFn: async () => {\r\n      const posts = await fetchPostsByCategory(CONTENT_CATEGORIES.FEATURES);\r\n      return parseFeatureLayers(posts);\r\n    },\r\n    staleTime: 5 * 60 * 1000, // 5 minutes\r\n  });\r\n};\r\n\r\n/**\r\n * Hook: Fetch FAQ items\r\n */\r\nexport const useFAQItems = (category?: string) => {\r\n  return useQuery({\r\n    queryKey: [...cmsKeys.posts(), 'faq', category],\r\n    queryFn: async () => {\r\n      // Fetch all FAQ posts\r\n      const categorySlug = category ? `faq-${category}` : CONTENT_CATEGORIES.FAQ;\r\n      const posts = await fetchPostsByCategory(categorySlug);\r\n      return parseFAQItems(posts);\r\n    },\r\n    staleTime: 5 * 60 * 1000,\r\n  });\r\n};\r\n\r\n/**\r\n * Hook: Fetch all FAQ items from all categories\r\n */\r\nexport const useAllFAQItems = () => {\r\n  return useQuery({\r\n    queryKey: [...cmsKeys.posts(), 'faq', 'all'],\r\n    queryFn: async () => {\r\n      // Fetch from main FAQ category\r\n      const posts = await fetchPostsByCategory(CONTENT_CATEGORIES.FAQ);\r\n      return parseFAQItems(posts);\r\n    },\r\n    staleTime: 5 * 60 * 1000,\r\n  });\r\n};\r\n\r\n/**\r\n * Hook: Fetch pricing tiers\r\n */\r\nexport const usePricingTiers = () => {\r\n  return useQuery({\r\n    queryKey: [...cmsKeys.posts(), 'pricing'],\r\n    queryFn: async () => {\r\n      const posts = await fetchPostsByCategory(CONTENT_CATEGORIES.PRICING);\r\n      return parsePricingTiers(posts);\r\n    },\r\n    staleTime: 5 * 60 * 1000,\r\n  });\r\n};\r\n\r\n/**\r\n * Hook: Fetch trust badges\r\n */\r\nexport const useTrustBadges = () => {\r\n  return useQuery({\r\n    queryKey: [...cmsKeys.posts(), 'trust-badges'],\r\n    queryFn: async () => {\r\n      const posts = await fetchPostsByCategory('landing-trust-badges');\r\n      return posts\r\n        .map((post) => {\r\n          const meta = (post.meta || {}) as Record<string, unknown>;\r\n          return {\r\n            id: post.id,\r\n            icon: (meta.icon as string) || 'âœ“',\r\n            text: post.title,\r\n            displayOrder: (meta.displayOrder as number) || 0,\r\n          };\r\n        })\r\n        .sort((a, b) => a.displayOrder - b.displayOrder) as TrustBadge[];\r\n    },\r\n    staleTime: 5 * 60 * 1000,\r\n  });\r\n};\r\n"],"names":["cmsKeys","filters","slug","id","activeOnly","postId","fetchPublishedPosts","params","apiClient","fetchPostBySlug","fetchCategories","submitContactForm","data","fetchAdminPosts","fetchAdminPost","createPost","updatePost","deletePost","fetchAdminCategories","createCategory","updateCategory","deleteCategory","fetchAdminTags","createTag","deleteTag","fetchAdminAuthors","createAuthor","updateAuthor","deleteAuthor","fetchAdminPages","createPage","updatePage","deletePage","fetchAdminContacts","markContactRead","isRead","markContactResponded","isResponded","responseNotes","markContactSpam","isSpam","usePosts","useQuery","usePost","useCategories","useSubmitContact","useMutation","useAdminPosts","useAdminPost","useCreatePost","queryClient","useQueryClient","useUpdatePost","useDeletePost","useAdminCategories","useCreateCategory","useUpdateCategory","useDeleteCategory","useAdminTags","useCreateTag","useDeleteTag","useAdminAuthors","useCreateAuthor","useUpdateAuthor","useDeleteAuthor","useAdminPages","useCreatePage","useUpdatePage","useDeletePage","useAdminContacts","useMarkContactRead","useMarkContactResponded","useMarkContactSpam","submitPostForReview","reviewerId","approvePost","notes","rejectPost","reason","requestPostChanges","schedulePost","scheduledAt","publishPostImmediately","unpublishPost","archivePost","fetchWorkflowHistory","page","pageSize","fetchVersionHistory","restorePostVersion","version","useSubmitForReview","useApprovePost","useRejectPost","useRequestChanges","useSchedulePost","usePublishPost","useUnpublishPost","useArchivePost","useWorkflowHistory","useVersionHistory","useRestoreVersion","_","variables","WORKFLOW_STATUS_CONFIG","CONTENT_CATEGORIES","fetchPostsByCategory","categorySlug","status","parseFeatureLayers","posts","layers","post","meta","layerId","a","b","layer","parseFAQItems","parsePricingTiers","useFeatureLayers","useAllFAQItems","usePricingTiers"],"mappings":"qGAmeO,MAAMA,EAAU,CACrB,IAAK,CAAC,KAAK,EAEX,MAAO,IAAM,CAAC,GAAGA,EAAQ,IAAK,OAAO,EACrC,UAAYC,GAAyB,CAAC,GAAGD,EAAQ,MAAA,EAAS,OAAQC,CAAO,EACzE,YAAcC,GAAiB,CAAC,GAAGF,EAAQ,MAAA,EAAS,SAAUE,CAAI,EAClE,WAAaD,GAA8B,CAAC,GAAGD,EAAQ,MAAA,EAAS,QAASC,CAAO,EAChF,iBAAmBE,GAAe,CAAC,GAAGH,EAAQ,QAAS,QAAS,SAAUG,CAAE,EAE5E,WAAY,IAAM,CAAC,GAAGH,EAAQ,IAAK,YAAY,EAC/C,eAAiBI,GAAyB,CAAC,GAAGJ,EAAQ,WAAA,EAAc,CAAE,WAAAI,EAAY,EAElF,KAAM,IAAM,CAAC,GAAGJ,EAAQ,IAAK,MAAM,EACnC,SAAU,IAAM,CAAC,GAAGA,EAAQ,KAAA,EAAQ,MAAM,EAE1C,QAAS,IAAM,CAAC,GAAGA,EAAQ,IAAK,SAAS,EACzC,YAAa,IAAM,CAAC,GAAGA,EAAQ,QAAA,EAAW,MAAM,EAEhD,MAAO,IAAM,CAAC,GAAGA,EAAQ,IAAK,OAAO,EACrC,UAAW,IAAM,CAAC,GAAGA,EAAQ,MAAA,EAAS,MAAM,EAE5C,SAAU,IAAM,CAAC,GAAGA,EAAQ,IAAK,UAAU,EAC3C,aAAeC,GAA4B,CAAC,GAAGD,EAAQ,SAAA,EAAY,OAAQC,CAAO,EAElF,SAAU,IAAM,CAAC,GAAGD,EAAQ,IAAK,UAAU,EAC3C,gBAAkBK,GAAmB,CAAC,GAAGL,EAAQ,SAAA,EAAY,UAAWK,CAAM,EAC9E,SAAU,IAAM,CAAC,GAAGL,EAAQ,IAAK,UAAU,EAC3C,eAAiBK,GAAmB,CAAC,GAAGL,EAAQ,SAAA,EAAYK,CAAM,CACpE,EAOaC,EAAsB,MACjCL,EAAuB,KACa,CACpC,MAAMM,EAAS,IAAI,gBACnB,OAAIN,EAAQ,MAAMM,EAAO,OAAO,OAAQ,OAAON,EAAQ,IAAI,CAAC,EACxDA,EAAQ,WAAWM,EAAO,OAAO,YAAa,OAAON,EAAQ,SAAS,CAAC,EACvEA,EAAQ,eAAeM,EAAO,OAAO,gBAAiBN,EAAQ,aAAa,EAC3EA,EAAQ,UAAUM,EAAO,OAAO,WAAYN,EAAQ,QAAQ,EAC5DA,EAAQ,cAAcM,EAAO,OAAO,eAAgBN,EAAQ,YAAY,EACxEA,EAAQ,QAAQM,EAAO,OAAO,SAAUN,EAAQ,MAAM,EACtDA,EAAQ,eAAeM,EAAO,OAAO,gBAAiB,MAAM,GAE/C,MAAMC,EAAU,IAC/B,cAAcD,EAAO,UAAU,EAAA,GAEjB,KAAK,IACvB,EAEaE,EAAkB,MAAOP,IACnB,MAAMM,EAAU,IAA6B,cAAcN,CAAI,EAAE,GAClE,KAAK,KAIVQ,EAAkB,MAAON,EAAa,MAChC,MAAMI,EAAU,IAC/B,+BAA+BJ,CAAU,EAAA,GAE3B,KAAK,KAUVO,EAAoB,MAAOC,IACrB,MAAMJ,EAAU,KAA0C,eAAgBI,CAAI,GAC/E,KAAK,KAQVC,EAAkB,MAC7BZ,EAA4B,KACE,CAC9B,MAAMM,EAAS,IAAI,gBACnB,OAAIN,EAAQ,MAAMM,EAAO,OAAO,OAAQ,OAAON,EAAQ,IAAI,CAAC,EACxDA,EAAQ,WAAWM,EAAO,OAAO,YAAa,OAAON,EAAQ,SAAS,CAAC,EACvEA,EAAQ,eAAeM,EAAO,OAAO,gBAAiBN,EAAQ,aAAa,EAC3EA,EAAQ,cAAcM,EAAO,OAAO,eAAgBN,EAAQ,YAAY,EACxEA,EAAQ,QAAQM,EAAO,OAAO,SAAUN,EAAQ,MAAM,GAEzC,MAAMO,EAAU,IAC/B,oBAAoBD,EAAO,UAAU,EAAA,GAEvB,KAAK,IACvB,EAEaO,EAAiB,MAAOX,IAClB,MAAMK,EAAU,IAA0B,oBAAoBL,CAAE,EAAE,GACnE,KAAK,KAGVY,EAAa,MAAOH,IACd,MAAMJ,EAAU,KAA2B,mBAAoBI,CAAI,GACpE,KAAK,KAGVI,EAAa,MAAOb,EAAYS,KAC1B,MAAMJ,EAAU,MAA4B,oBAAoBL,CAAE,GAAIS,CAAI,GAC3E,KAAK,KAGVK,EAAa,MAAOd,GAA8B,CAC7D,MAAMK,EAAU,OAAO,oBAAoBL,CAAE,EAAE,CACjD,EAGae,EAAuB,UACjB,MAAMV,EAAU,IAAuC,uBAAuB,GAC/E,KAAK,KAGVW,EAAiB,MAAOP,IAClB,MAAMJ,EAAU,KAA+B,wBAAyBI,CAAI,GAC7E,KAAK,KAGVQ,EAAiB,MAAOjB,EAAYS,KAC9B,MAAMJ,EAAU,MAC/B,yBAAyBL,CAAE,GAC3BS,CAAA,GAEc,KAAK,KAGVS,EAAiB,MAAOlB,GAA8B,CACjE,MAAMK,EAAU,OAAO,yBAAyBL,CAAE,EAAE,CACtD,EAGamB,EAAiB,UACX,MAAMd,EAAU,IAAkC,iBAAiB,GACpE,KAAK,KAGVe,EAAY,MAAOX,IACb,MAAMJ,EAAU,KAA0B,kBAAmBI,CAAI,GAClE,KAAK,KAQVY,EAAY,MAAOrB,GAA8B,CAC5D,MAAMK,EAAU,OAAO,mBAAmBL,CAAE,EAAE,CAChD,EAGasB,EAAoB,UACd,MAAMjB,EAAU,IAAqC,oBAAoB,GAC1E,KAAK,KAGVkB,EAAe,MAAOd,IAChB,MAAMJ,EAAU,KAA6B,qBAAsBI,CAAI,GACxE,KAAK,KAGVe,EAAe,MAAOxB,EAAYS,KAC5B,MAAMJ,EAAU,MAA8B,sBAAsBL,CAAE,GAAIS,CAAI,GAC/E,KAAK,KAGVgB,EAAe,MAAOzB,GAA8B,CAC/D,MAAMK,EAAU,OAAO,sBAAsBL,CAAE,EAAE,CACnD,EAGa0B,EAAkB,UACZ,MAAMrB,EAAU,IAAmC,kBAAkB,GACtE,KAAK,KAGVsB,EAAa,MAAOlB,IACd,MAAMJ,EAAU,KAA2B,mBAAoBI,CAAI,GACpE,KAAK,KAGVmB,EAAa,MAAO5B,EAAYS,KAC1B,MAAMJ,EAAU,MAA4B,oBAAoBL,CAAE,GAAIS,CAAI,GAC3E,KAAK,KAGVoB,EAAa,MAAO7B,GAA8B,CAC7D,MAAMK,EAAU,OAAO,oBAAoBL,CAAE,EAAE,CACjD,EAGa8B,EAAqB,MAChChC,EAA0B,KACO,CACjC,MAAMM,EAAS,IAAI,gBACnB,OAAIN,EAAQ,MAAMM,EAAO,OAAO,OAAQ,OAAON,EAAQ,IAAI,CAAC,EACxDA,EAAQ,WAAWM,EAAO,OAAO,YAAa,OAAON,EAAQ,SAAS,CAAC,EACvEA,EAAQ,aAAaM,EAAO,OAAO,cAAe,MAAM,EACxDN,EAAQ,eAAiB,QAC3BM,EAAO,OAAO,eAAgB,OAAON,EAAQ,YAAY,CAAC,GAG3C,MAAMO,EAAU,IAC/B,uBAAuBD,EAAO,UAAU,EAAA,GAE1B,KAAK,IACvB,EAEa2B,EAAkB,MAAO/B,EAAYgC,KAC/B,MAAM3B,EAAU,MAC/B,uBAAuBL,CAAE,QACzB,CAAE,QAASgC,CAAA,CAAO,GAEJ,KAAK,KAGVC,EAAuB,MAClCjC,EACAkC,EACAC,KAEiB,MAAM9B,EAAU,MAC/B,uBAAuBL,CAAE,aACzB,CAAE,aAAckC,EAAa,eAAgBC,CAAA,CAAc,GAE7C,KAAK,KAGVC,EAAkB,MAAOpC,EAAYqC,KAC/B,MAAMhC,EAAU,MAC/B,uBAAuBL,CAAE,QACzB,CAAE,QAASqC,CAAA,CAAO,GAEJ,KAAK,KAOVC,GAAW,CAACxC,EAAuB,KACvCyC,EAAS,CACd,SAAU1C,EAAQ,UAAUC,CAAO,EACnC,QAAS,IAAMK,EAAoBL,CAAO,CAAA,CAC3C,EAGU0C,GAAWzC,GACfwC,EAAS,CACd,SAAU1C,EAAQ,YAAYE,CAAI,EAClC,QAAS,IAAMO,EAAgBP,CAAI,EACnC,QAAS,CAAC,CAACA,CAAA,CACZ,EAGU0C,GAAgB,CAACxC,EAAa,KAClCsC,EAAS,CACd,SAAU1C,EAAQ,eAAeI,CAAU,EAC3C,QAAS,IAAMM,EAAgBN,CAAU,CAAA,CAC1C,EAUUyC,GAAmB,IACvBC,EAAY,CACjB,WAAYnC,CAAA,CACb,EAOUoC,GAAgB,CAAC9C,EAA4B,KACjDyC,EAAS,CACd,SAAU1C,EAAQ,WAAWC,CAAO,EACpC,QAAS,IAAMY,EAAgBZ,CAAO,CAAA,CACvC,EAGU+C,GAAgB7C,GACpBuC,EAAS,CACd,SAAU1C,EAAQ,iBAAiBG,CAAE,EACrC,QAAS,IAAMW,EAAeX,CAAE,EAChC,QAAS,CAAC,CAACA,CAAA,CACZ,EAGU8C,GAAgB,IAAM,CACjC,MAAMC,EAAcC,EAAA,EACpB,OAAOL,EAAY,CACjB,WAAY/B,EACZ,UAAW,IAAM,CACfmC,EAAY,kBAAkB,CAAE,SAAUlD,EAAQ,MAAA,EAAS,CAC7D,CAAA,CACD,CACH,EAEaoD,GAAgB,IAAM,CACjC,MAAMF,EAAcC,EAAA,EACpB,OAAOL,EAAY,CACjB,WAAY,CAAC,CAAE,GAAA3C,EAAI,KAAAS,KAA6CI,EAAWb,EAAIS,CAAI,EACnF,UAAW,IAAM,CACfsC,EAAY,kBAAkB,CAAE,SAAUlD,EAAQ,MAAA,EAAS,CAC7D,CAAA,CACD,CACH,EAEaqD,GAAgB,IAAM,CACjC,MAAMH,EAAcC,EAAA,EACpB,OAAOL,EAAY,CACjB,WAAY7B,EACZ,UAAW,IAAM,CACfiC,EAAY,kBAAkB,CAAE,SAAUlD,EAAQ,MAAA,EAAS,CAC7D,CAAA,CACD,CACH,EAMasD,GAAqB,IACzBZ,EAAS,CACd,SAAU1C,EAAQ,WAAA,EAClB,QAASkB,CAAA,CACV,EAGUqC,GAAoB,IAAM,CACrC,MAAML,EAAcC,EAAA,EACpB,OAAOL,EAAY,CACjB,WAAY3B,EACZ,UAAW,IAAM,CACf+B,EAAY,kBAAkB,CAAE,SAAUlD,EAAQ,WAAA,EAAc,CAClE,CAAA,CACD,CACH,EAEawD,GAAoB,IAAM,CACrC,MAAMN,EAAcC,EAAA,EACpB,OAAOL,EAAY,CACjB,WAAY,CAAC,CAAE,GAAA3C,EAAI,KAAAS,KAAiDQ,EAAejB,EAAIS,CAAI,EAC3F,UAAW,IAAM,CACfsC,EAAY,kBAAkB,CAAE,SAAUlD,EAAQ,WAAA,EAAc,CAClE,CAAA,CACD,CACH,EAEayD,GAAoB,IAAM,CACrC,MAAMP,EAAcC,EAAA,EACpB,OAAOL,EAAY,CACjB,WAAYzB,EACZ,UAAW,IAAM,CACf6B,EAAY,kBAAkB,CAAE,SAAUlD,EAAQ,WAAA,EAAc,CAClE,CAAA,CACD,CACH,EAMa0D,GAAe,IACnBhB,EAAS,CACd,SAAU1C,EAAQ,KAAA,EAClB,QAASsB,CAAA,CACV,EAGUqC,GAAe,IAAM,CAChC,MAAMT,EAAcC,EAAA,EACpB,OAAOL,EAAY,CACjB,WAAYvB,EACZ,UAAW,IAAM,CACf2B,EAAY,kBAAkB,CAAE,SAAUlD,EAAQ,KAAA,EAAQ,CAC5D,CAAA,CACD,CACH,EAYa4D,GAAe,IAAM,CAChC,MAAMV,EAAcC,EAAA,EACpB,OAAOL,EAAY,CACjB,WAAYtB,EACZ,UAAW,IAAM,CACf0B,EAAY,kBAAkB,CAAE,SAAUlD,EAAQ,KAAA,EAAQ,CAC5D,CAAA,CACD,CACH,EAMa6D,GAAkB,IACtBnB,EAAS,CACd,SAAU1C,EAAQ,QAAA,EAClB,QAASyB,CAAA,CACV,EAGUqC,GAAkB,IAAM,CACnC,MAAMZ,EAAcC,EAAA,EACpB,OAAOL,EAAY,CACjB,WAAYpB,EACZ,UAAW,IAAM,CACfwB,EAAY,kBAAkB,CAAE,SAAUlD,EAAQ,QAAA,EAAW,CAC/D,CAAA,CACD,CACH,EAEa+D,GAAkB,IAAM,CACnC,MAAMb,EAAcC,EAAA,EACpB,OAAOL,EAAY,CACjB,WAAY,CAAC,CAAE,GAAA3C,EAAI,KAAAS,KAA+Ce,EAAaxB,EAAIS,CAAI,EACvF,UAAW,IAAM,CACfsC,EAAY,kBAAkB,CAAE,SAAUlD,EAAQ,QAAA,EAAW,CAC/D,CAAA,CACD,CACH,EAEagE,GAAkB,IAAM,CACnC,MAAMd,EAAcC,EAAA,EACpB,OAAOL,EAAY,CACjB,WAAYlB,EACZ,UAAW,IAAM,CACfsB,EAAY,kBAAkB,CAAE,SAAUlD,EAAQ,QAAA,EAAW,CAC/D,CAAA,CACD,CACH,EAMaiE,GAAgB,IACpBvB,EAAS,CACd,SAAU1C,EAAQ,UAAA,EAClB,QAAS6B,CAAA,CACV,EAGUqC,GAAgB,IAAM,CACjC,MAAMhB,EAAcC,EAAA,EACpB,OAAOL,EAAY,CACjB,WAAYhB,EACZ,UAAW,IAAM,CACfoB,EAAY,kBAAkB,CAAE,SAAUlD,EAAQ,MAAA,EAAS,CAC7D,CAAA,CACD,CACH,EAEamE,GAAgB,IAAM,CACjC,MAAMjB,EAAcC,EAAA,EACpB,OAAOL,EAAY,CACjB,WAAY,CAAC,CAAE,GAAA3C,EAAI,KAAAS,KAA6CmB,EAAW5B,EAAIS,CAAI,EACnF,UAAW,IAAM,CACfsC,EAAY,kBAAkB,CAAE,SAAUlD,EAAQ,MAAA,EAAS,CAC7D,CAAA,CACD,CACH,EAEaoE,GAAgB,IAAM,CACjC,MAAMlB,EAAcC,EAAA,EACpB,OAAOL,EAAY,CACjB,WAAYd,EACZ,UAAW,IAAM,CACfkB,EAAY,kBAAkB,CAAE,SAAUlD,EAAQ,MAAA,EAAS,CAC7D,CAAA,CACD,CACH,EAMaqE,GAAmB,CAACpE,EAA0B,KAClDyC,EAAS,CACd,SAAU1C,EAAQ,aAAaC,CAAO,EACtC,QAAS,IAAMgC,EAAmBhC,CAAO,CAAA,CAC1C,EAGUqE,GAAqB,IAAM,CACtC,MAAMpB,EAAcC,EAAA,EACpB,OAAOL,EAAY,CACjB,WAAY,CAAC,CAAE,GAAA3C,EAAI,OAAAgC,KAA8CD,EAAgB/B,EAAIgC,CAAM,EAC3F,UAAW,IAAM,CACfe,EAAY,kBAAkB,CAAE,SAAUlD,EAAQ,SAAA,EAAY,CAChE,CAAA,CACD,CACH,EAEauE,GAA0B,IAAM,CAC3C,MAAMrB,EAAcC,EAAA,EACpB,OAAOL,EAAY,CACjB,WAAY,CAAC,CACX,GAAA3C,EACA,YAAAkC,EACA,cAAAC,CAAA,IAKIF,EAAqBjC,EAAIkC,EAAaC,CAAa,EACzD,UAAW,IAAM,CACfY,EAAY,kBAAkB,CAAE,SAAUlD,EAAQ,SAAA,EAAY,CAChE,CAAA,CACD,CACH,EAEawE,GAAqB,IAAM,CACtC,MAAMtB,EAAcC,EAAA,EACpB,OAAOL,EAAY,CACjB,WAAY,CAAC,CAAE,GAAA3C,EAAI,OAAAqC,KAA8CD,EAAgBpC,EAAIqC,CAAM,EAC3F,UAAW,IAAM,CACfU,EAAY,kBAAkB,CAAE,SAAUlD,EAAQ,SAAA,EAAY,CAChE,CAAA,CACD,CACH,EAMayE,EAAsB,MACjCpE,EACAqE,IACoC,CACpC,MAAMnE,EAASmE,EAAa,gBAAgBA,CAAU,GAAK,GAI3D,OAHiB,MAAMlE,EAAU,KAC/B,oBAAoBH,CAAM,qBAAqBE,CAAM,EAAA,GAEvC,KAAK,IACvB,EAEaoE,EAAc,MACzBtE,EACAuE,IACoC,CACpC,MAAMrE,EAASqE,EAAQ,UAAU,mBAAmBA,CAAK,CAAC,GAAK,GAI/D,OAHiB,MAAMpE,EAAU,KAC/B,oBAAoBH,CAAM,WAAWE,CAAM,EAAA,GAE7B,KAAK,IACvB,EAEasE,EAAa,MACxBxE,EACAyE,KAEiB,MAAMtE,EAAU,KAC/B,oBAAoBH,CAAM,kBAAkB,mBAAmByE,CAAM,CAAC,EAAA,GAExD,KAAK,KAGVC,EAAqB,MAChC1E,EACAuE,KAEiB,MAAMpE,EAAU,KAC/B,oBAAoBH,CAAM,0BAA0B,mBAAmBuE,CAAK,CAAC,EAAA,GAE/D,KAAK,KAGVI,EAAe,MAC1B3E,EACA4E,KAEiB,MAAMzE,EAAU,KAC/B,oBAAoBH,CAAM,0BAA0B,mBAAmB4E,CAAW,CAAC,EAAA,GAErE,KAAK,KAGVC,EAAyB,MAAO7E,IAC1B,MAAMG,EAAU,KAC/B,oBAAoBH,CAAM,UAAA,GAEZ,KAAK,KAGV8E,EAAgB,MAAO9E,IACjB,MAAMG,EAAU,KAC/B,oBAAoBH,CAAM,YAAA,GAEZ,KAAK,KAGV+E,EAAc,MAAO/E,IACf,MAAMG,EAAU,KAC/B,oBAAoBH,CAAM,UAAA,GAEZ,KAAK,KAGVgF,EAAuB,MAClChF,EACAiF,EAAO,EACPC,EAAW,MAEM,MAAM/E,EAAU,IAC/B,oBAAoBH,CAAM,0BAA0BiF,CAAI,cAAcC,CAAQ,EAAA,GAEhE,KAAK,KAGVC,EAAsB,MACjCnF,EACAiF,EAAO,EACPC,EAAW,MAEM,MAAM/E,EAAU,IAC/B,oBAAoBH,CAAM,kBAAkBiF,CAAI,cAAcC,CAAQ,EAAA,GAExD,KAAK,KAGVE,EAAqB,MAChCpF,EACAqF,KAEiB,MAAMlF,EAAU,KAC/B,oBAAoBH,CAAM,oBAAoBqF,CAAO,EAAA,GAEvC,KAAK,KAOVC,GAAqB,IAAM,CACtC,MAAMzC,EAAcC,EAAA,EACpB,OAAOL,EAAY,CACjB,WAAY,CAAC,CAAE,OAAAzC,EAAQ,WAAAqE,KACrBD,EAAoBpE,EAAQqE,CAAU,EACxC,UAAW,IAAM,CACfxB,EAAY,kBAAkB,CAAE,SAAUlD,EAAQ,MAAA,EAAS,CAC7D,CAAA,CACD,CACH,EAEa4F,GAAiB,IAAM,CAClC,MAAM1C,EAAcC,EAAA,EACpB,OAAOL,EAAY,CACjB,WAAY,CAAC,CAAE,OAAAzC,EAAQ,MAAAuE,KACrBD,EAAYtE,EAAQuE,CAAK,EAC3B,UAAW,IAAM,CACf1B,EAAY,kBAAkB,CAAE,SAAUlD,EAAQ,MAAA,EAAS,CAC7D,CAAA,CACD,CACH,EAEa6F,GAAgB,IAAM,CACjC,MAAM3C,EAAcC,EAAA,EACpB,OAAOL,EAAY,CACjB,WAAY,CAAC,CAAE,OAAAzC,EAAQ,OAAAyE,KACrBD,EAAWxE,EAAQyE,CAAM,EAC3B,UAAW,IAAM,CACf5B,EAAY,kBAAkB,CAAE,SAAUlD,EAAQ,MAAA,EAAS,CAC7D,CAAA,CACD,CACH,EAEa8F,GAAoB,IAAM,CACrC,MAAM5C,EAAcC,EAAA,EACpB,OAAOL,EAAY,CACjB,WAAY,CAAC,CAAE,OAAAzC,EAAQ,MAAAuE,KACrBG,EAAmB1E,EAAQuE,CAAK,EAClC,UAAW,IAAM,CACf1B,EAAY,kBAAkB,CAAE,SAAUlD,EAAQ,MAAA,EAAS,CAC7D,CAAA,CACD,CACH,EAEa+F,GAAkB,IAAM,CACnC,MAAM7C,EAAcC,EAAA,EACpB,OAAOL,EAAY,CACjB,WAAY,CAAC,CAAE,OAAAzC,EAAQ,YAAA4E,KACrBD,EAAa3E,EAAQ4E,CAAW,EAClC,UAAW,IAAM,CACf/B,EAAY,kBAAkB,CAAE,SAAUlD,EAAQ,MAAA,EAAS,CAC7D,CAAA,CACD,CACH,EAEagG,GAAiB,IAAM,CAClC,MAAM9C,EAAcC,EAAA,EACpB,OAAOL,EAAY,CACjB,WAAazC,GAAmB6E,EAAuB7E,CAAM,EAC7D,UAAW,IAAM,CACf6C,EAAY,kBAAkB,CAAE,SAAUlD,EAAQ,MAAA,EAAS,CAC7D,CAAA,CACD,CACH,EAEaiG,GAAmB,IAAM,CACpC,MAAM/C,EAAcC,EAAA,EACpB,OAAOL,EAAY,CACjB,WAAazC,GAAmB8E,EAAc9E,CAAM,EACpD,UAAW,IAAM,CACf6C,EAAY,kBAAkB,CAAE,SAAUlD,EAAQ,MAAA,EAAS,CAC7D,CAAA,CACD,CACH,EAEakG,GAAiB,IAAM,CAClC,MAAMhD,EAAcC,EAAA,EACpB,OAAOL,EAAY,CACjB,WAAazC,GAAmB+E,EAAY/E,CAAM,EAClD,UAAW,IAAM,CACf6C,EAAY,kBAAkB,CAAE,SAAUlD,EAAQ,MAAA,EAAS,CAC7D,CAAA,CACD,CACH,EAEamG,GAAqB,CAAC9F,EAAgBiF,EAAO,EAAGC,EAAW,KAC/D7C,EAAS,CACd,SAAU1C,EAAQ,gBAAgBK,CAAM,EACxC,QAAS,IAAMgF,EAAqBhF,EAAQiF,EAAMC,CAAQ,EAC1D,QAAS,CAAC,CAAClF,CAAA,CACZ,EAGU+F,GAAoB,CAAC/F,EAAgBiF,EAAO,EAAGC,EAAW,KAC9D7C,EAAS,CACd,SAAU1C,EAAQ,eAAeK,CAAM,EACvC,QAAS,IAAMmF,EAAoBnF,EAAQiF,EAAMC,CAAQ,EACzD,QAAS,CAAC,CAAClF,CAAA,CACZ,EAGUgG,GAAoB,IAAM,CACrC,MAAMnD,EAAcC,EAAA,EACpB,OAAOL,EAAY,CACjB,WAAY,CAAC,CAAE,OAAAzC,EAAQ,QAAAqF,KACrBD,EAAmBpF,EAAQqF,CAAO,EACpC,UAAW,CAACY,EAAGC,IAAc,CAC3BrD,EAAY,kBAAkB,CAAE,SAAUlD,EAAQ,MAAA,EAAS,EAC3DkD,EAAY,kBAAkB,CAAE,SAAUlD,EAAQ,eAAeuG,EAAU,MAAM,EAAG,EACpFrD,EAAY,kBAAkB,CAAE,SAAUlD,EAAQ,gBAAgBuG,EAAU,MAAM,EAAG,CACvF,CAAA,CACD,CACH,EAMaC,GAST,CACF,MAAO,CACL,MAAO,QACP,MAAO,gBACP,QAAS,iBACT,YAAa,sCACb,eAAgB,CAAC,oBAAqB,WAAY,SAAS,CAAA,EAE7D,UAAW,CACT,MAAO,YACP,MAAO,kBACP,QAAS,mBACT,YAAa,gCACb,eAAgB,CAAC,UAAW,SAAU,iBAAiB,CAAA,EAEzD,kBAAmB,CACjB,MAAO,oBACP,MAAO,kBACP,QAAS,mBACT,YAAa,mCACb,eAAgB,CAAC,mBAAmB,CAAA,EAEtC,SAAU,CACR,MAAO,WACP,MAAO,iBACP,QAAS,kBACT,YAAa,+BACb,eAAgB,CAAC,UAAW,UAAU,CAAA,EAExC,UAAW,CACT,MAAO,YACP,MAAO,gBACP,QAAS,iBACT,YAAa,kCACb,eAAgB,CAAC,UAAW,YAAY,CAAA,EAE1C,UAAW,CACT,MAAO,YACP,MAAO,mBACP,QAAS,oBACT,YAAa,8BACb,eAAgB,CAAC,YAAa,SAAS,CAAA,EAEzC,YAAa,CACX,MAAO,cACP,MAAO,gBACP,QAAS,iBACT,YAAa,4BACb,eAAgB,CAAC,UAAW,SAAS,CAAA,EAEvC,SAAU,CACR,MAAO,WACP,MAAO,gBACP,QAAS,iBACT,YAAa,uBACb,eAAgB,CAAC,SAAS,CAAA,EAE5B,SAAU,CACR,MAAO,WACP,MAAO,eACP,QAAS,gBACT,YAAa,sBACb,eAAgB,CAAC,mBAAmB,CAAA,CAExC,EAaaC,EAAqB,CAChC,SAAU,mBACV,IAAK,cACL,QAAS,iBAOX,EAmEA,eAAeC,EACbC,EACAC,EAAqB,YACD,CACpB,GAAI,CAIF,OAHiB,MAAMpG,EAAU,IAC/B,uBAAuBmG,CAAY,WAAWC,CAAM,EAAA,GAEtC,KAAK,OAAS,CAAA,CAChC,MAAQ,CACN,MAAO,CAAA,CACT,CACF,CAMA,SAASC,EAAmBC,EAAkC,CAE5D,MAAMC,MAAa,IAEnB,OAAAD,EAAM,QAASE,GAAS,CACtB,MAAMC,EAAQD,EAAK,MAAQ,CAAA,EACrBE,EAAWD,EAAK,SAAsB,UAEvCF,EAAO,IAAIG,CAAO,GACrBH,EAAO,IAAIG,EAAS,CAClB,GAAIA,EACJ,KAAOD,EAAK,WAAwB,WACpC,YAAcA,EAAK,kBAA+B,GAClD,MAAQA,EAAK,YAAyB,+BACtC,QAAUA,EAAK,cAA2B,oBAC1C,YAAcA,EAAK,kBAA+B,wBAClD,SAAWA,EAAK,WAAwB,eACxC,aAAeA,EAAK,YAAyB,EAC7C,SAAU,CAAA,CAAC,CACZ,EAGWF,EAAO,IAAIG,CAAO,EAC1B,SAAS,KAAK,CAClB,GAAIF,EAAK,GACT,MAAOA,EAAK,MACZ,YAAaA,EAAK,SAAW,GAC7B,SAAWC,EAAK,aAA0B,eAC1C,aAAeA,EAAK,cAA2B,CAAA,CAChD,CACH,CAAC,EAGM,MAAM,KAAKF,EAAO,OAAA,CAAQ,EAC9B,KAAK,CAACI,EAAGC,IAAMD,EAAE,aAAeC,EAAE,YAAY,EAC9C,IAAKC,IAAW,CACf,GAAGA,EACH,SAAUA,EAAM,SAAS,KAAK,CAACF,EAAGC,IAAMD,EAAE,aAAeC,EAAE,YAAY,CAAA,EACvE,CACN,CAKA,SAASE,EAAcR,EAA6B,CAClD,OAAOA,EACJ,IAAKE,GAAS,CACb,MAAMC,EAAQD,EAAK,MAAQ,CAAA,EAC3B,MAAO,CACL,GAAIA,EAAK,GACT,SAAUA,EAAK,MACf,OAAQA,EAAK,SAAWA,EAAK,SAAW,GACxC,SAAWC,EAAK,aAA0B,UAC1C,aAAeA,EAAK,cAA2B,CAAA,CAEnD,CAAC,EACA,KAAK,CAACE,EAAGC,IAAMD,EAAE,aAAeC,EAAE,YAAY,CACnD,CAKA,SAASG,EAAkBT,EAAiC,CAC1D,OAAOA,EACJ,IAAKE,GAAS,CACb,MAAMC,EAAQD,EAAK,MAAQ,CAAA,EAC3B,MAAO,CACL,GAAIA,EAAK,GACT,KAAMA,EAAK,MACX,YAAaA,EAAK,SAAW,GAC7B,MAAQC,EAAK,OAAoB,KACjC,OAASA,EAAK,QAAqB,SACnC,QAAUA,EAAK,SAAsB,GACrC,SAAWA,EAAK,UAAyB,CAAA,EACzC,IAAMA,EAAK,KAAkB,cAC7B,QAAUA,EAAK,SAAsB,UACrC,YAAcA,EAAK,aAA2B,GAC9C,MAAOA,EAAK,MACZ,aAAeA,EAAK,cAA2B,CAAA,CAEnD,CAAC,EACA,KAAK,CAACE,EAAGC,IAAMD,EAAE,aAAeC,EAAE,YAAY,CACnD,CAKO,MAAMI,GAAmB,IACvB9E,EAAS,CACd,SAAU,CAAC,GAAG1C,EAAQ,MAAA,EAAS,UAAU,EACzC,QAAS,SAAY,CACnB,MAAM8G,EAAQ,MAAMJ,EAAqBD,EAAmB,QAAQ,EACpE,OAAOI,EAAmBC,CAAK,CACjC,EACA,UAAW,EAAI,GAAK,GAAA,CACrB,EAsBUW,GAAiB,IACrB/E,EAAS,CACd,SAAU,CAAC,GAAG1C,EAAQ,MAAA,EAAS,MAAO,KAAK,EAC3C,QAAS,SAAY,CAEnB,MAAM8G,EAAQ,MAAMJ,EAAqBD,EAAmB,GAAG,EAC/D,OAAOa,EAAcR,CAAK,CAC5B,EACA,UAAW,EAAI,GAAK,GAAA,CACrB,EAMUY,GAAkB,IACtBhF,EAAS,CACd,SAAU,CAAC,GAAG1C,EAAQ,MAAA,EAAS,SAAS,EACxC,QAAS,SAAY,CACnB,MAAM8G,EAAQ,MAAMJ,EAAqBD,EAAmB,OAAO,EACnE,OAAOc,EAAkBT,CAAK,CAChC,EACA,UAAW,EAAI,GAAK,GAAA,CACrB"}