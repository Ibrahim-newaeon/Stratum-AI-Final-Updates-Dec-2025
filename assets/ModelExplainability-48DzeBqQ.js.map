{"version":3,"file":"ModelExplainability-48DzeBqQ.js","sources":["../../src/views/tenant/ModelExplainability.tsx"],"sourcesContent":["/**\r\n * Stratum AI - Model Explainability Page\r\n *\r\n * SHAP/LIME-based model explanations for ML predictions.\r\n */\r\n\r\nimport { useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { useMutation, useQuery } from '@tanstack/react-query';\r\nimport { apiClient, ApiResponse } from '@/api/client';\r\nimport {\r\n  ArrowTrendingDownIcon,\r\n  ArrowTrendingUpIcon,\r\n  BeakerIcon,\r\n  ChartBarIcon,\r\n  CpuChipIcon,\r\n  InformationCircleIcon,\r\n  LightBulbIcon,\r\n  SparklesIcon,\r\n} from '@heroicons/react/24/outline';\r\nimport { cn } from '@/lib/utils';\r\n\r\n// Types\r\ntype ModelType = 'roas_optimizer' | 'conversion_predictor' | 'ltv_predictor' | 'attribution';\r\ntype ExplanationType = 'shap' | 'lime' | 'feature_importance';\r\n\r\ninterface FeatureImportance {\r\n  feature: string;\r\n  importance: number;\r\n  direction: 'positive' | 'negative' | 'neutral';\r\n  description: string;\r\n}\r\n\r\ninterface SHAPExplanation {\r\n  baseValue: number;\r\n  predictedValue: number;\r\n  features: {\r\n    name: string;\r\n    value: number;\r\n    shapValue: number;\r\n    contribution: 'positive' | 'negative';\r\n  }[];\r\n  plot: string; // Base64 encoded image or chart data\r\n}\r\n\r\ninterface LIMEExplanation {\r\n  prediction: number;\r\n  intercept: number;\r\n  features: {\r\n    name: string;\r\n    weight: number;\r\n    value: number;\r\n    contribution: number;\r\n  }[];\r\n  localFidelity: number;\r\n}\r\n\r\ninterface ModelInfo {\r\n  id: string;\r\n  name: string;\r\n  type: ModelType;\r\n  version: string;\r\n  trainedAt: string;\r\n  metrics: {\r\n    accuracy?: number;\r\n    precision?: number;\r\n    recall?: number;\r\n    f1?: number;\r\n    auc?: number;\r\n    mae?: number;\r\n    rmse?: number;\r\n  };\r\n  featureCount: number;\r\n  sampleCount: number;\r\n}\r\n\r\ninterface PredictionExplanation {\r\n  predictionId: string;\r\n  modelType: ModelType;\r\n  inputFeatures: Record<string, number | string>;\r\n  prediction: number;\r\n  confidence: number;\r\n  shap?: SHAPExplanation;\r\n  lime?: LIMEExplanation;\r\n  featureImportance: FeatureImportance[];\r\n  insights: string[];\r\n}\r\n\r\n// API Functions\r\nconst explainabilityApi = {\r\n  getModels: async () => {\r\n    const response = await apiClient.get<ApiResponse<ModelInfo[]>>('/ml/models');\r\n    return response.data.data;\r\n  },\r\n\r\n  getModelInfo: async (modelType: ModelType) => {\r\n    const response = await apiClient.get<ApiResponse<ModelInfo>>(`/ml/models/${modelType}`);\r\n    return response.data.data;\r\n  },\r\n\r\n  getFeatureImportance: async (modelType: ModelType) => {\r\n    const response = await apiClient.get<ApiResponse<FeatureImportance[]>>(\r\n      `/ml/models/${modelType}/feature-importance`\r\n    );\r\n    return response.data.data;\r\n  },\r\n\r\n  explainPrediction: async (params: {\r\n    modelType: ModelType;\r\n    inputData: Record<string, number | string>;\r\n    explanationType: ExplanationType;\r\n  }) => {\r\n    const response = await apiClient.post<ApiResponse<PredictionExplanation>>(\r\n      '/ml/explain',\r\n      params\r\n    );\r\n    return response.data.data;\r\n  },\r\n\r\n  getSHAPSummary: async (modelType: ModelType) => {\r\n    const response = await apiClient.get<\r\n      ApiResponse<{\r\n        summaryPlot: string;\r\n        features: Array<{ name: string; meanAbsShap: number; stdShap: number }>;\r\n      }>\r\n    >(`/ml/models/${modelType}/shap-summary`);\r\n    return response.data.data;\r\n  },\r\n\r\n  getLTVPrediction: async (params: { customerId?: string; segment?: string }) => {\r\n    const response = await apiClient.post<\r\n      ApiResponse<{\r\n        predictedLTV: number;\r\n        confidence: number;\r\n        timeHorizon: string;\r\n        breakdown: Array<{ period: string; value: number }>;\r\n        factors: FeatureImportance[];\r\n      }>\r\n    >('/ml/predictions/ltv', params);\r\n    return response.data.data;\r\n  },\r\n};\r\n\r\n// Hooks\r\nfunction useModels() {\r\n  return useQuery({\r\n    queryKey: ['ml', 'models'],\r\n    queryFn: explainabilityApi.getModels,\r\n  });\r\n}\r\n\r\nfunction useModelInfo(modelType: ModelType) {\r\n  return useQuery({\r\n    queryKey: ['ml', 'models', modelType],\r\n    queryFn: () => explainabilityApi.getModelInfo(modelType),\r\n    enabled: !!modelType,\r\n  });\r\n}\r\n\r\nfunction useFeatureImportance(modelType: ModelType) {\r\n  return useQuery({\r\n    queryKey: ['ml', 'models', modelType, 'feature-importance'],\r\n    queryFn: () => explainabilityApi.getFeatureImportance(modelType),\r\n    enabled: !!modelType,\r\n  });\r\n}\r\n\r\nfunction useSHAPSummary(modelType: ModelType) {\r\n  return useQuery({\r\n    queryKey: ['ml', 'models', modelType, 'shap-summary'],\r\n    queryFn: () => explainabilityApi.getSHAPSummary(modelType),\r\n    enabled: !!modelType,\r\n  });\r\n}\r\n\r\n// Exported for future use in prediction explanation features\r\nexport function useExplainPrediction() {\r\n  return useMutation({\r\n    mutationFn: explainabilityApi.explainPrediction,\r\n  });\r\n}\r\n\r\nfunction useLTVPrediction() {\r\n  return useMutation({\r\n    mutationFn: explainabilityApi.getLTVPrediction,\r\n  });\r\n}\r\n\r\nconst modelTypeLabels: Record<ModelType, string> = {\r\n  roas_optimizer: 'ROAS Optimizer',\r\n  conversion_predictor: 'Conversion Predictor',\r\n  ltv_predictor: 'LTV Predictor',\r\n  attribution: 'Attribution Model',\r\n};\r\n\r\nexport default function ModelExplainability() {\r\n  useParams<{ tenantId: string }>();\r\n  const [selectedModel, setSelectedModel] = useState<ModelType>('roas_optimizer');\r\n  const [activeTab, setActiveTab] = useState<'overview' | 'shap' | 'lime' | 'ltv'>('overview');\r\n\r\n  useModels(); // Prefetch models list\r\n  const { data: modelInfo } = useModelInfo(selectedModel);\r\n  const { data: featureImportance } = useFeatureImportance(selectedModel);\r\n  const { data: shapSummary } = useSHAPSummary(selectedModel);\r\n  const ltvPrediction = useLTVPrediction();\r\n\r\n  const tabs = [\r\n    { id: 'overview' as const, label: 'Overview' },\r\n    { id: 'shap' as const, label: 'SHAP Analysis' },\r\n    { id: 'lime' as const, label: 'LIME Explanations' },\r\n    { id: 'ltv' as const, label: 'LTV Predictions' },\r\n  ];\r\n\r\n  const maxImportance = featureImportance\r\n    ? Math.max(...featureImportance.map((f) => Math.abs(f.importance)))\r\n    : 1;\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h1 className=\"text-2xl font-bold\">Model Explainability</h1>\r\n          <p className=\"text-muted-foreground\">\r\n            Understand how ML models make predictions with SHAP and LIME\r\n          </p>\r\n        </div>\r\n        <select\r\n          value={selectedModel}\r\n          onChange={(e) => setSelectedModel(e.target.value as ModelType)}\r\n          className=\"px-4 py-2 rounded-lg border bg-background\"\r\n        >\r\n          {Object.entries(modelTypeLabels).map(([value, label]) => (\r\n            <option key={value} value={value}>\r\n              {label}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n\r\n      {/* Tabs */}\r\n      <div className=\"border-b\">\r\n        <nav className=\"flex gap-4\">\r\n          {tabs.map((tab) => (\r\n            <button\r\n              key={tab.id}\r\n              onClick={() => setActiveTab(tab.id)}\r\n              className={cn(\r\n                'px-4 py-2 border-b-2 font-medium text-sm transition-colors',\r\n                activeTab === tab.id\r\n                  ? 'border-primary text-primary'\r\n                  : 'border-transparent text-muted-foreground hover:text-foreground'\r\n              )}\r\n            >\r\n              {tab.label}\r\n            </button>\r\n          ))}\r\n        </nav>\r\n      </div>\r\n\r\n      {/* Overview Tab */}\r\n      {activeTab === 'overview' && (\r\n        <div className=\"space-y-6\">\r\n          {/* Model Info */}\r\n          {modelInfo && (\r\n            <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n              <div className=\"rounded-xl border bg-card p-6 shadow-card\">\r\n                <div className=\"flex items-center gap-2 mb-2\">\r\n                  <CpuChipIcon className=\"h-5 w-5 text-primary\" />\r\n                  <p className=\"text-sm text-muted-foreground\">Model</p>\r\n                </div>\r\n                <p className=\"text-xl font-bold\">{modelInfo.name}</p>\r\n                <p className=\"text-sm text-muted-foreground\">v{modelInfo.version}</p>\r\n              </div>\r\n              <div className=\"rounded-xl border bg-card p-6 shadow-card\">\r\n                <p className=\"text-sm text-muted-foreground mb-2\">Features</p>\r\n                <p className=\"text-2xl font-bold\">{modelInfo.featureCount}</p>\r\n              </div>\r\n              <div className=\"rounded-xl border bg-card p-6 shadow-card\">\r\n                <p className=\"text-sm text-muted-foreground mb-2\">Training Samples</p>\r\n                <p className=\"text-2xl font-bold\">{modelInfo.sampleCount.toLocaleString()}</p>\r\n              </div>\r\n              <div className=\"rounded-xl border bg-card p-6 shadow-card\">\r\n                <p className=\"text-sm text-muted-foreground mb-2\">\r\n                  {modelInfo.metrics.accuracy !== undefined ? 'Accuracy' : 'RMSE'}\r\n                </p>\r\n                <p className=\"text-2xl font-bold\">\r\n                  {modelInfo.metrics.accuracy !== undefined\r\n                    ? `${(modelInfo.metrics.accuracy * 100).toFixed(1)}%`\r\n                    : modelInfo.metrics.rmse?.toFixed(3)}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Feature Importance */}\r\n          <div className=\"rounded-xl border bg-card p-6 shadow-card\">\r\n            <div className=\"flex items-center gap-3 mb-6\">\r\n              <ChartBarIcon className=\"h-6 w-6 text-primary\" />\r\n              <h2 className=\"text-lg font-semibold\">Feature Importance</h2>\r\n            </div>\r\n\r\n            <div className=\"space-y-4\">\r\n              {featureImportance?.slice(0, 15).map((feature) => (\r\n                <div key={feature.feature}>\r\n                  <div className=\"flex items-center justify-between text-sm mb-1\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <span className=\"font-medium\">{feature.feature}</span>\r\n                      {feature.direction === 'positive' && (\r\n                        <ArrowTrendingUpIcon className=\"h-4 w-4 text-emerald-500\" />\r\n                      )}\r\n                      {feature.direction === 'negative' && (\r\n                        <ArrowTrendingDownIcon className=\"h-4 w-4 text-red-500\" />\r\n                      )}\r\n                    </div>\r\n                    <span className=\"text-muted-foreground\">\r\n                      {(feature.importance * 100).toFixed(1)}%\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"w-full bg-muted rounded-full h-2\">\r\n                    <div\r\n                      className={cn(\r\n                        'h-2 rounded-full',\r\n                        feature.direction === 'positive' && 'bg-emerald-500',\r\n                        feature.direction === 'negative' && 'bg-red-500',\r\n                        feature.direction === 'neutral' && 'bg-blue-500'\r\n                      )}\r\n                      style={{ width: `${(Math.abs(feature.importance) / maxImportance) * 100}%` }}\r\n                    />\r\n                  </div>\r\n                  <p className=\"text-xs text-muted-foreground mt-1\">{feature.description}</p>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Model Info Card */}\r\n          <div className=\"rounded-xl border bg-blue-50 dark:bg-blue-950/20 border-blue-200 dark:border-blue-800 p-6\">\r\n            <div className=\"flex items-start gap-3\">\r\n              <InformationCircleIcon className=\"h-6 w-6 text-blue-600 mt-0.5\" />\r\n              <div>\r\n                <h3 className=\"font-medium text-blue-900 dark:text-blue-100\">\r\n                  About Model Explainability\r\n                </h3>\r\n                <p className=\"text-sm text-blue-700 dark:text-blue-300 mt-2\">\r\n                  <strong>SHAP (SHapley Additive exPlanations)</strong> uses game theory to\r\n                  calculate feature contributions. Each feature's SHAP value represents its\r\n                  contribution to pushing the prediction away from the baseline.\r\n                </p>\r\n                <p className=\"text-sm text-blue-700 dark:text-blue-300 mt-2\">\r\n                  <strong>LIME (Local Interpretable Model-agnostic Explanations)</strong> creates\r\n                  locally faithful explanations by training interpretable models on perturbations of\r\n                  the input.\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* SHAP Tab */}\r\n      {activeTab === 'shap' && (\r\n        <div className=\"space-y-6\">\r\n          {/* SHAP Summary */}\r\n          <div className=\"rounded-xl border bg-card p-6 shadow-card\">\r\n            <div className=\"flex items-center gap-3 mb-6\">\r\n              <SparklesIcon className=\"h-6 w-6 text-purple-600\" />\r\n              <h2 className=\"text-lg font-semibold\">SHAP Feature Summary</h2>\r\n            </div>\r\n\r\n            {shapSummary && (\r\n              <div className=\"space-y-4\">\r\n                {shapSummary.features.slice(0, 15).map((feature) => (\r\n                  <div key={feature.name} className=\"flex items-center gap-4\">\r\n                    <div className=\"w-40 text-sm font-medium truncate\">{feature.name}</div>\r\n                    <div className=\"flex-1\">\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <div\r\n                          className=\"h-6 bg-gradient-to-r from-blue-500 to-red-500 rounded\"\r\n                          style={{\r\n                            width: `${(feature.meanAbsShap / shapSummary.features[0].meanAbsShap) * 100}%`,\r\n                          }}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"w-20 text-right text-sm text-muted-foreground\">\r\n                      {feature.meanAbsShap.toFixed(4)}\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n\r\n            <div className=\"mt-6 p-4 rounded-lg bg-muted/50\">\r\n              <p className=\"text-sm\">\r\n                <span className=\"font-medium\">How to read:</span> Features are ranked by their mean\r\n                absolute SHAP value across all samples. Higher values indicate features that have\r\n                more impact on predictions. The color gradient shows the distribution of SHAP values\r\n                (blue = negative impact, red = positive impact).\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* SHAP Interaction */}\r\n          <div className=\"rounded-xl border bg-card p-6 shadow-card\">\r\n            <h3 className=\"font-semibold mb-4\">Feature Interactions</h3>\r\n            <p className=\"text-muted-foreground\">\r\n              SHAP interaction values help identify which feature pairs have the strongest combined\r\n              effects on predictions.\r\n            </p>\r\n            <div className=\"mt-4 grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n              {[\r\n                { pair: 'Budget × CTR', strength: 0.82 },\r\n                { pair: 'Audience × Creative', strength: 0.75 },\r\n                { pair: 'Time × Platform', strength: 0.68 },\r\n                { pair: 'Bid × Competition', strength: 0.61 },\r\n              ].map((interaction) => (\r\n                <div key={interaction.pair} className=\"p-4 rounded-lg bg-muted/50\">\r\n                  <p className=\"text-sm font-medium\">{interaction.pair}</p>\r\n                  <p className=\"text-2xl font-bold text-purple-600\">\r\n                    {(interaction.strength * 100).toFixed(0)}%\r\n                  </p>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* LIME Tab */}\r\n      {activeTab === 'lime' && (\r\n        <div className=\"space-y-6\">\r\n          <div className=\"rounded-xl border bg-card p-6 shadow-card\">\r\n            <div className=\"flex items-center gap-3 mb-6\">\r\n              <BeakerIcon className=\"h-6 w-6 text-emerald-600\" />\r\n              <h2 className=\"text-lg font-semibold\">LIME Local Explanations</h2>\r\n            </div>\r\n\r\n            <p className=\"text-muted-foreground mb-6\">\r\n              LIME explains individual predictions by learning a simple, interpretable model around\r\n              the prediction point. Select a prediction to see its local explanation.\r\n            </p>\r\n\r\n            {/* Sample LIME explanation */}\r\n            <div className=\"border rounded-lg p-4\">\r\n              <h4 className=\"font-medium mb-4\">Sample Prediction Explanation</h4>\r\n              <div className=\"grid grid-cols-2 gap-4 mb-4\">\r\n                <div className=\"p-3 rounded-lg bg-muted/50\">\r\n                  <p className=\"text-sm text-muted-foreground\">Predicted Value</p>\r\n                  <p className=\"text-2xl font-bold\">3.2x ROAS</p>\r\n                </div>\r\n                <div className=\"p-3 rounded-lg bg-muted/50\">\r\n                  <p className=\"text-sm text-muted-foreground\">Local Fidelity</p>\r\n                  <p className=\"text-2xl font-bold\">94.2%</p>\r\n                </div>\r\n              </div>\r\n\r\n              <h5 className=\"text-sm font-medium mb-3\">Feature Contributions</h5>\r\n              <div className=\"space-y-3\">\r\n                {[\r\n                  { name: 'High-quality creative', weight: 0.42, direction: 'positive' },\r\n                  { name: 'Target audience match', weight: 0.28, direction: 'positive' },\r\n                  { name: 'Competitive bid', weight: 0.15, direction: 'positive' },\r\n                  { name: 'Weekend timing', weight: -0.12, direction: 'negative' },\r\n                  { name: 'Broad targeting', weight: -0.08, direction: 'negative' },\r\n                ].map((feature) => (\r\n                  <div key={feature.name} className=\"flex items-center gap-3\">\r\n                    <div className=\"w-40 text-sm\">{feature.name}</div>\r\n                    <div className=\"flex-1 flex items-center gap-1\">\r\n                      {feature.direction === 'positive' ? (\r\n                        <div\r\n                          className=\"h-4 bg-emerald-500 rounded\"\r\n                          style={{ width: `${feature.weight * 100}%` }}\r\n                        />\r\n                      ) : (\r\n                        <div\r\n                          className=\"h-4 bg-red-500 rounded\"\r\n                          style={{ width: `${Math.abs(feature.weight) * 100}%` }}\r\n                        />\r\n                      )}\r\n                    </div>\r\n                    <div className=\"w-16 text-right text-sm\">\r\n                      {feature.direction === 'positive' ? '+' : ''}\r\n                      {(feature.weight * 100).toFixed(0)}%\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* LTV Tab */}\r\n      {activeTab === 'ltv' && (\r\n        <div className=\"space-y-6\">\r\n          <div className=\"rounded-xl border bg-card p-6 shadow-card\">\r\n            <div className=\"flex items-center gap-3 mb-6\">\r\n              <SparklesIcon className=\"h-6 w-6 text-primary\" />\r\n              <h2 className=\"text-lg font-semibold\">Lifetime Value Predictions</h2>\r\n            </div>\r\n\r\n            <p className=\"text-muted-foreground mb-6\">\r\n              ML-powered LTV predictions help you understand customer value and optimize acquisition\r\n              strategies.\r\n            </p>\r\n\r\n            {/* LTV Calculator */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n              <div className=\"space-y-4\">\r\n                <h4 className=\"font-medium\">Predict LTV by Segment</h4>\r\n                <select className=\"w-full px-3 py-2 rounded-lg border bg-background\">\r\n                  <option>All Customers</option>\r\n                  <option>High-Value Segment</option>\r\n                  <option>New Customers (0-30 days)</option>\r\n                  <option>Returning Customers</option>\r\n                  <option>At-Risk Customers</option>\r\n                </select>\r\n                <button\r\n                  onClick={() => ltvPrediction.mutate({ segment: 'all' })}\r\n                  disabled={ltvPrediction.isPending}\r\n                  className=\"w-full px-4 py-2 rounded-lg bg-primary text-primary-foreground hover:bg-primary/90 disabled:opacity-50\"\r\n                >\r\n                  {ltvPrediction.isPending ? 'Calculating...' : 'Calculate LTV'}\r\n                </button>\r\n              </div>\r\n\r\n              {/* LTV Results */}\r\n              {ltvPrediction.data && (\r\n                <div className=\"space-y-4\">\r\n                  <div className=\"rounded-lg bg-primary/10 p-4\">\r\n                    <p className=\"text-sm text-muted-foreground\">Predicted LTV</p>\r\n                    <p className=\"text-3xl font-bold text-primary\">\r\n                      ${ltvPrediction.data.predictedLTV.toFixed(2)}\r\n                    </p>\r\n                    <p className=\"text-sm text-muted-foreground\">\r\n                      {ltvPrediction.data.timeHorizon} |{' '}\r\n                      {(ltvPrediction.data.confidence * 100).toFixed(0)}% confidence\r\n                    </p>\r\n                  </div>\r\n\r\n                  <div className=\"space-y-2\">\r\n                    <p className=\"text-sm font-medium\">Key Factors</p>\r\n                    {ltvPrediction.data.factors.slice(0, 5).map((factor) => (\r\n                      <div\r\n                        key={factor.feature}\r\n                        className=\"flex items-center justify-between text-sm\"\r\n                      >\r\n                        <span>{factor.feature}</span>\r\n                        <span\r\n                          className={cn(\r\n                            factor.direction === 'positive' ? 'text-emerald-600' : 'text-red-600'\r\n                          )}\r\n                        >\r\n                          {factor.direction === 'positive' ? '+' : '-'}\r\n                          {(factor.importance * 100).toFixed(0)}%\r\n                        </span>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* LTV Insights */}\r\n          <div className=\"rounded-xl border bg-card p-6 shadow-card\">\r\n            <h3 className=\"font-semibold mb-4\">LTV-Based Recommendations</h3>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n              <div className=\"p-4 rounded-lg bg-emerald-50 dark:bg-emerald-950/20 border border-emerald-200 dark:border-emerald-800\">\r\n                <LightBulbIcon className=\"h-5 w-5 text-emerald-600 mb-2\" />\r\n                <h4 className=\"font-medium text-emerald-900 dark:text-emerald-100\">\r\n                  High-Value Segment\r\n                </h4>\r\n                <p className=\"text-sm text-emerald-700 dark:text-emerald-300 mt-1\">\r\n                  Increase bid by 20% for audiences with predicted LTV &gt; $500\r\n                </p>\r\n              </div>\r\n              <div className=\"p-4 rounded-lg bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800\">\r\n                <LightBulbIcon className=\"h-5 w-5 text-blue-600 mb-2\" />\r\n                <h4 className=\"font-medium text-blue-900 dark:text-blue-100\">Retention Focus</h4>\r\n                <p className=\"text-sm text-blue-700 dark:text-blue-300 mt-1\">\r\n                  At-risk customers have 3x higher LTV when retained vs new acquisition\r\n                </p>\r\n              </div>\r\n              <div className=\"p-4 rounded-lg bg-purple-50 dark:bg-purple-950/20 border border-purple-200 dark:border-purple-800\">\r\n                <LightBulbIcon className=\"h-5 w-5 text-purple-600 mb-2\" />\r\n                <h4 className=\"font-medium text-purple-900 dark:text-purple-100\">\r\n                  CAC Optimization\r\n                </h4>\r\n                <p className=\"text-sm text-purple-700 dark:text-purple-300 mt-1\">\r\n                  Target CAC:LTV ratio of 1:3 for sustainable growth\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":["explainabilityApi","apiClient","modelType","params","useModels","useQuery","useModelInfo","useFeatureImportance","useSHAPSummary","useExplainPrediction","useMutation","useLTVPrediction","modelTypeLabels","ModelExplainability","useParams","selectedModel","setSelectedModel","useState","activeTab","setActiveTab","modelInfo","featureImportance","shapSummary","ltvPrediction","tabs","maxImportance","f","jsxs","jsx","e","value","label","tab","cn","CpuChipIcon","_a","ChartBarIcon","feature","ArrowTrendingUpIcon","ArrowTrendingDownIcon","InformationCircleIcon","SparklesIcon","interaction","BeakerIcon","factor","LightBulbIcon"],"mappings":"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"}