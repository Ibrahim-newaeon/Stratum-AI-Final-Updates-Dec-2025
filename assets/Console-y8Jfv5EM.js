import{j as e}from"./vendor-ui-B0DL0VNC.js";import{f as C,r as p}from"./vendor-react-Dz7uKsMg.js";import{a6 as z,h as y,c as m,f as j,F}from"./index-BQex3859.js";import{C as M}from"./ConfidenceBandBadge-BR4oR-ha.js";import{A as T,B as I}from"./BudgetAtRiskChip-BRCQCK-f.js";import{A as O}from"./ActionCard-CGNp1jhm.js";import{k as B}from"./hooks-B2vGXtE6.js";import{b as D,c as $}from"./emqV2-BxKuXu1r.js";import{F as E}from"./WrenchScrewdriverIcon-DJAaIhoQ.js";import"./vendor-charts-Cj11RBfc.js";import"./vendor-utils-L2YjCnAZ.js";import"./vendor-query-BPt-n81V.js";import"./vendor-motion-CR45sdSp.js";import"./XCircleIcon-Dk49lKz_.js";import"./CheckIcon-DQQhceDd.js";import"./featureFlagsStore-DvEl_DiZ.js";function se(){const{tenantId:v}=C(),c=parseInt(v||"1",10),[s,w]=p.useState("all"),[a,b]=p.useState(new Set),[n,A]=p.useState(new Set),{data:d}=D(c),{data:i}=$(c),{data:P}=B(c),u=(d==null?void 0:d.score)??85,l=(i==null?void 0:i.mode)??"normal",x=(i==null?void 0:i.budgetAtRisk)??0,r=[{id:"1",type:"opportunity",title:'Scale "Summer Sale" campaign by 20%',description:"Campaign has maintained 5.2x ROAS over the past 14 days with consistent performance.",platform:"Meta",campaign:"Summer Sale 2024",confidence:94,estimatedImpact:{metric:"Revenue",value:8500,unit:"$"},status:"pending",priority:1,createdAt:new Date},{id:"2",type:"opportunity",title:"Activate lookalike audience",description:"New 1% lookalike ready based on high-value purchasers segment.",platform:"Meta",campaign:"Prospecting - LAL",confidence:88,estimatedImpact:{metric:"Reach",value:45,unit:"%"},status:"pending",priority:2,createdAt:new Date},{id:"3",type:"risk",title:"Pause underperforming ad set",description:'Ad set "Broad Interest" has 0.6x ROAS over last 7 days, burning budget.',platform:"Meta",campaign:"Awareness Campaign",confidence:91,estimatedImpact:{metric:"Savings",value:1200,unit:"$"},status:"pending",priority:1,createdAt:new Date},{id:"4",type:"risk",title:"Creative fatigue detected",description:'Top creative "Product Hero" CTR dropped 35% in last 3 days.',platform:"TikTok",campaign:"TikTok Conversions",confidence:86,estimatedImpact:{metric:"CTR",value:-.5,unit:"%"},status:"pending",priority:2,createdAt:new Date},{id:"5",type:"fix",title:"Review conversion tracking",description:"Meta pixel showing 18% variance from GA4 - verify implementation.",platform:"Meta",confidence:78,estimatedImpact:{metric:"EMQ",value:8,unit:"pts"},status:"pending",priority:1,createdAt:new Date}],f=r.filter(t=>!a.has(t.id)&&!n.has(t.id)).filter(t=>s==="all"?!0:s==="opportunities"?t.type==="opportunity":s==="risks"?t.type==="risk":s==="fixes"?t.type==="fix":!0),o=l==="frozen",h=l==="cuts_only",N=t=>!(o||h&&t.type==="opportunity"),k=t=>{b(new Set([...a,t.id]))},R=t=>{A(new Set([...n,t.id]))},S=[{id:"all",label:"All Actions",count:r.length},{id:"opportunities",label:"Opportunities",icon:z,count:r.filter(t=>t.type==="opportunity").length},{id:"risks",label:"Risks",icon:y,count:r.filter(t=>t.type==="risk").length},{id:"fixes",label:"Fixes",icon:E,count:r.filter(t=>t.type==="fix").length}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{"data-tour":"console-header",className:"sticky top-0 z-10 bg-surface-primary pb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Daily Console"}),e.jsx("p",{className:"text-text-muted",children:"Optimize fast, but safely"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-surface-secondary border border-white/10",children:[e.jsx("span",{className:"text-2xl font-bold text-white",children:u}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs text-text-muted",children:"EMQ"}),e.jsx(M,{score:u,size:"sm"})]})]}),e.jsx(T,{mode:l,compact:!0}),x>0&&e.jsx(I,{amount:x})]})]}),(o||h)&&e.jsxs("div",{"data-tour":"allowed-actions",className:m("flex items-center gap-3 p-3 rounded-xl",o?"bg-danger/10 text-danger":"bg-warning/10 text-warning"),children:[e.jsx(y,{className:"w-5 h-5"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:o?"Autopilot Frozen":"Cuts Only Mode"}),e.jsx("span",{className:"text-sm opacity-80 ml-2",children:o?"All automation paused. Focus on fixing data issues.":"Only pause and reduction actions are allowed."})]})]})]}),e.jsx("div",{className:"flex items-center gap-2 border-b border-white/10 pb-4",children:S.map(t=>{const g=t.icon;return e.jsxs("button",{onClick:()=>w(t.id),className:m("flex items-center gap-2 px-4 py-2 rounded-lg transition-colors",s===t.id?"bg-stratum-500/10 text-stratum-400":"text-text-muted hover:text-white hover:bg-white/5"),children:[g&&e.jsx(g,{className:"w-4 h-4"}),t.label,e.jsx("span",{className:m("text-xs px-2 py-0.5 rounded-full",s===t.id?"bg-stratum-500/20":"bg-surface-tertiary"),children:t.count})]},t.id)})}),e.jsx("div",{"data-tour":"action-cards",className:"grid gap-4",children:f.length>0?f.map(t=>e.jsx("div",{"data-tour":t.type==="fix"?"fix-first":void 0,children:e.jsx(O,{action:t,disabled:!N(t),onApply:k,onDismiss:R,showControls:!0})},t.id)):e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-success/10 flex items-center justify-center mx-auto mb-4",children:e.jsx(j,{className:"w-8 h-8 text-success"})}),e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"All caught up!"}),e.jsx("p",{className:"text-text-muted",children:"No pending actions in this category. Check back later."})]})}),(a.size>0||n.size>0)&&e.jsxs("div",{className:"flex items-center gap-4 pt-4 border-t border-white/10",children:[a.size>0&&e.jsxs("div",{className:"flex items-center gap-2 text-success text-sm",children:[e.jsx(j,{className:"w-4 h-4"}),a.size," applied today"]}),n.size>0&&e.jsxs("div",{className:"flex items-center gap-2 text-text-muted text-sm",children:[e.jsx(F,{className:"w-4 h-4"}),n.size," dismissed"]})]})]})}export{se as default};
//# sourceMappingURL=Console-y8Jfv5EM.js.map
