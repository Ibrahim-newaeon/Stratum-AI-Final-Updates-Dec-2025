{"version":3,"file":"ControlTower-tMzbePUc.js","sources":["../../src/views/superadmin/ControlTower.tsx"],"sourcesContent":["/**\r\n * Super Admin Control Tower\r\n *\r\n * Primary goal: Platform profitability + tenant health + systemic risk\r\n * Shows portfolio KPIs, system risk, and action queue safety\r\n */\r\n\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { cn } from '@/lib/utils';\r\nimport { ConfidenceBandBadge } from '@/components/shared';\r\nimport {\r\n  useChurnRisks,\r\n  useEmqBenchmarks,\r\n  useEmqPortfolio,\r\n  useRevenue,\r\n  useSuperAdminOverview,\r\n  useSuperAdminTenants,\r\n} from '@/api/hooks';\r\nimport {\r\n  ArrowTrendingUpIcon,\r\n  BuildingOffice2Icon,\r\n  ChartBarIcon,\r\n  ChevronRightIcon,\r\n  Cog6ToothIcon,\r\n  CurrencyDollarIcon,\r\n  ExclamationTriangleIcon,\r\n} from '@heroicons/react/24/outline';\r\n\r\ninterface TenantHealthCard {\r\n  id: number;\r\n  name: string;\r\n  emqScore: number;\r\n  status: 'ok' | 'risk' | 'degraded' | 'critical';\r\n  budgetAtRisk: number;\r\n  activeIncidents: number;\r\n  autopilotMode: string;\r\n}\r\n\r\nexport default function ControlTower() {\r\n  const navigate = useNavigate();\r\n\r\n  // Fetch data from multiple endpoints\r\n  const { data: portfolioData } = useEmqPortfolio();\r\n  const { data: benchmarksData } = useEmqBenchmarks();\r\n  const { data: overviewData } = useSuperAdminOverview();\r\n  const { data: tenantsData } = useSuperAdminTenants();\r\n  const { data: revenueData } = useRevenue();\r\n  const { data: churnRisksData } = useChurnRisks({ minRisk: 0.3, limit: 10 });\r\n\r\n  // KPIs - use API data with fallbacks\r\n  const portfolioKpis = {\r\n    mrr: revenueData?.mrr ?? overviewData?.totalRevenue ?? 125000,\r\n    arr: revenueData?.arr ?? (overviewData?.totalRevenue ?? 125000) * 12,\r\n    churnRisk: churnRisksData?.length ?? overviewData?.atRiskTenants ?? 3,\r\n    margin: 68,\r\n    totalBudgetAtRisk: portfolioData?.atRiskBudget ?? overviewData?.totalBudgetAtRisk ?? 45000,\r\n  };\r\n\r\n  // Tenant health data\r\n  const tenantHealth: TenantHealthCard[] = tenantsData?.items?.map((t) => ({\r\n    id: t.id,\r\n    name: t.name,\r\n    emqScore: t.emqScore ?? 85,\r\n    status:\r\n      (t.emqScore ?? 85) >= 90\r\n        ? 'ok'\r\n        : (t.emqScore ?? 85) >= 60\r\n          ? 'risk'\r\n          : (t.emqScore ?? 85) >= 40\r\n            ? 'degraded'\r\n            : 'critical',\r\n    budgetAtRisk: t.budgetAtRisk ?? 0,\r\n    activeIncidents: t.activeIncidents ?? 0,\r\n    autopilotMode: 'normal',\r\n  })) ?? [\r\n    {\r\n      id: 1,\r\n      name: 'Acme Corp',\r\n      emqScore: 94,\r\n      status: 'ok',\r\n      budgetAtRisk: 0,\r\n      activeIncidents: 0,\r\n      autopilotMode: 'normal',\r\n    },\r\n    {\r\n      id: 2,\r\n      name: 'TechStart Inc',\r\n      emqScore: 72,\r\n      status: 'risk',\r\n      budgetAtRisk: 8500,\r\n      activeIncidents: 1,\r\n      autopilotMode: 'limited',\r\n    },\r\n    {\r\n      id: 3,\r\n      name: 'GlobalBrand',\r\n      emqScore: 88,\r\n      status: 'ok',\r\n      budgetAtRisk: 2000,\r\n      activeIncidents: 0,\r\n      autopilotMode: 'normal',\r\n    },\r\n    {\r\n      id: 4,\r\n      name: 'FastGrowth Co',\r\n      emqScore: 45,\r\n      status: 'critical',\r\n      budgetAtRisk: 25000,\r\n      activeIncidents: 3,\r\n      autopilotMode: 'frozen',\r\n    },\r\n    {\r\n      id: 5,\r\n      name: 'RetailMax',\r\n      emqScore: 91,\r\n      status: 'ok',\r\n      budgetAtRisk: 0,\r\n      activeIncidents: 0,\r\n      autopilotMode: 'normal',\r\n    },\r\n  ];\r\n\r\n  // EMQ benchmarks\r\n  const benchmarks = benchmarksData ?? [\r\n    { platform: 'Meta', p25: 65, p50: 78, p75: 89, tenantScore: 82, percentile: 68 },\r\n    { platform: 'Google', p25: 72, p50: 85, p75: 94, tenantScore: 88, percentile: 72 },\r\n    { platform: 'TikTok', p25: 55, p50: 70, p75: 82, tenantScore: 75, percentile: 65 },\r\n  ];\r\n\r\n  // Top issues\r\n  const topIssues = portfolioData?.topIssues ?? [\r\n    { driver: 'Freshness', affectedTenants: 3 },\r\n    { driver: 'Data Loss', affectedTenants: 2 },\r\n    { driver: 'Variance', affectedTenants: 4 },\r\n  ];\r\n\r\n  // Count by status\r\n  const statusCounts = tenantHealth.reduce(\r\n    (acc, t) => {\r\n      acc[t.status] = (acc[t.status] || 0) + 1;\r\n      return acc;\r\n    },\r\n    {} as Record<string, number>\r\n  );\r\n\r\n  const getStatusColor = (status: string) => {\r\n    switch (status) {\r\n      case 'ok':\r\n        return 'text-success bg-success/10 border-success/20';\r\n      case 'risk':\r\n        return 'text-warning bg-warning/10 border-warning/20';\r\n      case 'degraded':\r\n        return 'text-orange-400 bg-orange-500/10 border-orange-500/20';\r\n      case 'critical':\r\n        return 'text-danger bg-danger/10 border-danger/20';\r\n      default:\r\n        return 'text-text-muted bg-surface-tertiary border-white/10';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h1 className=\"text-2xl font-bold text-white\">Control Tower</h1>\r\n          <p className=\"text-text-muted\">Platform overview & tenant health</p>\r\n        </div>\r\n        <div className=\"flex items-center gap-3\">\r\n          <button\r\n            onClick={() => navigate('/dashboard/superadmin')}\r\n            className=\"flex items-center gap-2 px-4 py-2 rounded-lg bg-surface-secondary border border-white/10 text-text-secondary hover:text-white transition-colors\"\r\n          >\r\n            <Cog6ToothIcon className=\"w-4 h-4\" />\r\n            System Settings\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Portfolio KPIs */}\r\n      <div data-tour=\"portfolio-kpis\" className=\"grid grid-cols-2 md:grid-cols-5 gap-4\">\r\n        <div className=\"p-4 rounded-xl bg-surface-secondary border border-white/10\">\r\n          <div className=\"flex items-center gap-2 text-text-muted mb-2\">\r\n            <CurrencyDollarIcon className=\"w-4 h-4\" />\r\n            <span className=\"text-sm\">MRR</span>\r\n          </div>\r\n          <div className=\"text-2xl font-bold text-white\">\r\n            ${(portfolioKpis.mrr / 1000).toFixed(0)}K\r\n          </div>\r\n          <div className=\"flex items-center gap-1 text-success text-sm mt-1\">\r\n            <ArrowTrendingUpIcon className=\"w-4 h-4\" />\r\n            +12% vs last month\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"p-4 rounded-xl bg-surface-secondary border border-white/10\">\r\n          <div className=\"flex items-center gap-2 text-text-muted mb-2\">\r\n            <BuildingOffice2Icon className=\"w-4 h-4\" />\r\n            <span className=\"text-sm\">Active Tenants</span>\r\n          </div>\r\n          <div className=\"text-2xl font-bold text-white\">\r\n            {portfolioData?.totalTenants ?? tenantHealth.length}\r\n          </div>\r\n          <div className=\"flex items-center gap-1 text-success text-sm mt-1\">\r\n            <ArrowTrendingUpIcon className=\"w-4 h-4\" />\r\n            +3 this month\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"p-4 rounded-xl bg-surface-secondary border border-white/10\">\r\n          <div className=\"flex items-center gap-2 text-text-muted mb-2\">\r\n            <ExclamationTriangleIcon className=\"w-4 h-4\" />\r\n            <span className=\"text-sm\">Churn Risk</span>\r\n          </div>\r\n          <div className=\"text-2xl font-bold text-warning\">{portfolioKpis.churnRisk}</div>\r\n          <div className=\"text-sm text-text-muted mt-1\">tenants at risk</div>\r\n        </div>\r\n\r\n        <div className=\"p-4 rounded-xl bg-surface-secondary border border-white/10\">\r\n          <div className=\"flex items-center gap-2 text-text-muted mb-2\">\r\n            <ChartBarIcon className=\"w-4 h-4\" />\r\n            <span className=\"text-sm\">Margin</span>\r\n          </div>\r\n          <div className=\"text-2xl font-bold text-success\">{portfolioKpis.margin}%</div>\r\n          <div className=\"flex items-center gap-1 text-success text-sm mt-1\">\r\n            <ArrowTrendingUpIcon className=\"w-4 h-4\" />\r\n            +2% vs target\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"p-4 rounded-xl bg-surface-secondary border border-danger/20\">\r\n          <div className=\"flex items-center gap-2 text-text-muted mb-2\">\r\n            <ExclamationTriangleIcon className=\"w-4 h-4 text-danger\" />\r\n            <span className=\"text-sm\">Budget at Risk</span>\r\n          </div>\r\n          <div className=\"text-2xl font-bold text-danger\">\r\n            ${(portfolioKpis.totalBudgetAtRisk / 1000).toFixed(0)}K\r\n          </div>\r\n          <div className=\"text-sm text-text-muted mt-1\">across all tenants</div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Tenant Health by Status */}\r\n      <div className=\"grid grid-cols-4 gap-4\">\r\n        {(['ok', 'risk', 'degraded', 'critical'] as const).map((status) => (\r\n          <div key={status} className={cn('p-4 rounded-xl border', getStatusColor(status))}>\r\n            <div className=\"flex items-center justify-between\">\r\n              <span className=\"text-sm capitalize\">{status}</span>\r\n              <span className=\"text-2xl font-bold\">{statusCounts[status] || 0}</span>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Main Content Grid */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n        {/* Left - Tenant List */}\r\n        <div className=\"lg:col-span-2\" data-tour=\"tenant-health\">\r\n          <div className=\"rounded-2xl bg-surface-secondary border border-white/10 overflow-hidden\">\r\n            <div className=\"flex items-center justify-between p-4 border-b border-white/10\">\r\n              <h3 className=\"font-semibold text-white\">Tenant Health</h3>\r\n              <button\r\n                onClick={() => navigate('/dashboard/tenants')}\r\n                className=\"text-sm text-stratum-400 hover:text-stratum-300 flex items-center gap-1\"\r\n              >\r\n                View all\r\n                <ChevronRightIcon className=\"w-4 h-4\" />\r\n              </button>\r\n            </div>\r\n            <div className=\"divide-y divide-white/5\">\r\n              {tenantHealth.map((tenant) => (\r\n                <div\r\n                  key={tenant.id}\r\n                  className=\"p-4 hover:bg-white/5 cursor-pointer transition-colors\"\r\n                  onClick={() => navigate(`/app/${tenant.id}/overview`)}\r\n                >\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <div className=\"flex items-center gap-4\">\r\n                      <div className=\"w-10 h-10 rounded-lg bg-surface-tertiary flex items-center justify-center\">\r\n                        <span className=\"text-white font-medium\">{tenant.name.charAt(0)}</span>\r\n                      </div>\r\n                      <div>\r\n                        <h4 className=\"font-medium text-white\">{tenant.name}</h4>\r\n                        <div className=\"flex items-center gap-2 mt-0.5\">\r\n                          <ConfidenceBandBadge score={tenant.emqScore} size=\"sm\" />\r\n                          <span\r\n                            className={cn(\r\n                              'text-xs px-2 py-0.5 rounded capitalize',\r\n                              getStatusColor(tenant.status)\r\n                            )}\r\n                          >\r\n                            {tenant.status}\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"text-right\">\r\n                      <div className=\"text-lg font-bold text-white\">{tenant.emqScore}</div>\r\n                      <div className=\"text-xs text-text-muted\">EMQ</div>\r\n                    </div>\r\n                  </div>\r\n                  {(tenant.budgetAtRisk > 0 || tenant.activeIncidents > 0) && (\r\n                    <div className=\"flex items-center gap-4 mt-3 pt-3 border-t border-white/5\">\r\n                      {tenant.budgetAtRisk > 0 && (\r\n                        <span className=\"text-sm text-danger\">\r\n                          ${tenant.budgetAtRisk.toLocaleString()} at risk\r\n                        </span>\r\n                      )}\r\n                      {tenant.activeIncidents > 0 && (\r\n                        <span className=\"text-sm text-warning\">\r\n                          {tenant.activeIncidents} active incident\r\n                          {tenant.activeIncidents > 1 ? 's' : ''}\r\n                        </span>\r\n                      )}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Right - System Health */}\r\n        <div className=\"space-y-6\">\r\n          {/* EMQ Benchmarks */}\r\n          <div\r\n            data-tour=\"emq-benchmarks\"\r\n            className=\"rounded-2xl bg-surface-secondary border border-white/10 overflow-hidden\"\r\n          >\r\n            <div className=\"p-4 border-b border-white/10\">\r\n              <h3 className=\"font-semibold text-white\">EMQ Benchmarks</h3>\r\n              <p className=\"text-sm text-text-muted\">P25 / P50 / P75 by platform</p>\r\n            </div>\r\n            <div className=\"p-4 space-y-4\">\r\n              {benchmarks.map((b) => (\r\n                <div key={b.platform}>\r\n                  <div className=\"flex items-center justify-between mb-2\">\r\n                    <span className=\"text-sm text-white\">{b.platform}</span>\r\n                    <span className=\"text-sm text-text-muted\">\r\n                      {b.p25} / {b.p50} / {b.p75}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"relative h-2 bg-white/10 rounded-full\">\r\n                    {/* P25 marker */}\r\n                    <div\r\n                      className=\"absolute top-0 h-2 bg-danger/50 rounded-l-full\"\r\n                      style={{ width: `${b.p25}%` }}\r\n                    />\r\n                    {/* P50 marker */}\r\n                    <div\r\n                      className=\"absolute top-0 h-2 bg-warning/50\"\r\n                      style={{ left: `${b.p25}%`, width: `${b.p50 - b.p25}%` }}\r\n                    />\r\n                    {/* P75 marker */}\r\n                    <div\r\n                      className=\"absolute top-0 h-2 bg-success/50 rounded-r-full\"\r\n                      style={{ left: `${b.p50}%`, width: `${b.p75 - b.p50}%` }}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Top Issues */}\r\n          <div\r\n            data-tour=\"top-issues\"\r\n            className=\"rounded-2xl bg-surface-secondary border border-white/10 overflow-hidden\"\r\n          >\r\n            <div className=\"p-4 border-b border-white/10\">\r\n              <h3 className=\"font-semibold text-white\">Top Issues</h3>\r\n              <p className=\"text-sm text-text-muted\">Affecting most tenants</p>\r\n            </div>\r\n            <div className=\"p-4 space-y-3\">\r\n              {topIssues.map((issue, i) => (\r\n                <div key={i} className=\"flex items-center justify-between\">\r\n                  <span className=\"text-sm text-white\">{issue.driver}</span>\r\n                  <span className=\"text-sm text-danger\">{issue.affectedTenants} tenants</span>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Autopilot Distribution */}\r\n          <div\r\n            data-tour=\"autopilot-distribution\"\r\n            className=\"rounded-2xl bg-surface-secondary border border-white/10 overflow-hidden\"\r\n          >\r\n            <div className=\"p-4 border-b border-white/10\">\r\n              <h3 className=\"font-semibold text-white\">Autopilot Modes</h3>\r\n            </div>\r\n            <div className=\"p-4\">\r\n              <div className=\"flex items-center gap-2 mb-3\">\r\n                <div className=\"flex-1 h-3 rounded-full overflow-hidden flex\">\r\n                  <div className=\"bg-success h-full\" style={{ width: '60%' }} />\r\n                  <div className=\"bg-warning h-full\" style={{ width: '20%' }} />\r\n                  <div className=\"bg-orange-500 h-full\" style={{ width: '10%' }} />\r\n                  <div className=\"bg-danger h-full\" style={{ width: '10%' }} />\r\n                </div>\r\n              </div>\r\n              <div className=\"grid grid-cols-2 gap-2 text-xs\">\r\n                <div className=\"flex items-center gap-2\">\r\n                  <div className=\"w-2 h-2 rounded-full bg-success\" />\r\n                  <span className=\"text-text-muted\">Normal (60%)</span>\r\n                </div>\r\n                <div className=\"flex items-center gap-2\">\r\n                  <div className=\"w-2 h-2 rounded-full bg-warning\" />\r\n                  <span className=\"text-text-muted\">Limited (20%)</span>\r\n                </div>\r\n                <div className=\"flex items-center gap-2\">\r\n                  <div className=\"w-2 h-2 rounded-full bg-orange-500\" />\r\n                  <span className=\"text-text-muted\">Cuts Only (10%)</span>\r\n                </div>\r\n                <div className=\"flex items-center gap-2\">\r\n                  <div className=\"w-2 h-2 rounded-full bg-danger\" />\r\n                  <span className=\"text-text-muted\">Frozen (10%)</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["ControlTower","navigate","useNavigate","portfolioData","useEmqPortfolio","benchmarksData","useEmqBenchmarks","overviewData","useSuperAdminOverview","tenantsData","useSuperAdminTenants","revenueData","useRevenue","churnRisksData","useChurnRisks","portfolioKpis","tenantHealth","_a","t","benchmarks","topIssues","statusCounts","acc","getStatusColor","status","jsxs","jsx","Cog6ToothIcon","CurrencyDollarIcon","ArrowTrendingUpIcon","BuildingOffice2Icon","ExclamationTriangleIcon","ChartBarIcon","cn","ChevronRightIcon","tenant","ConfidenceBandBadge","b","issue"],"mappings":"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"}