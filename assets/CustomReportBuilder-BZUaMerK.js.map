{"version":3,"file":"CustomReportBuilder-BZUaMerK.js","sources":["../../node_modules/@heroicons/react/24/outline/esm/ArrowsPointingOutIcon.js","../../node_modules/@heroicons/react/24/outline/esm/DocumentDuplicateIcon.js","../../src/views/CustomReportBuilder.tsx"],"sourcesContent":["import * as React from \"react\";\nfunction ArrowsPointingOutIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ArrowsPointingOutIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction DocumentDuplicateIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(DocumentDuplicateIcon);\nexport default ForwardRef;","// =============================================================================\r\n// Stratum AI - Custom Report Builder (Enterprise Feature)\r\n// =============================================================================\r\n\r\nimport { useState } from 'react';\r\nimport {\r\n  ArrowsPointingOutIcon,\r\n  ChartBarIcon,\r\n  ChartPieIcon,\r\n  ClockIcon,\r\n  DocumentChartBarIcon,\r\n  DocumentDuplicateIcon,\r\n  EyeIcon,\r\n  PencilIcon,\r\n  PlusIcon,\r\n  SparklesIcon,\r\n  TableCellsIcon,\r\n  TrashIcon,\r\n  XMarkIcon,\r\n} from '@heroicons/react/24/outline';\r\nimport { cn } from '@/lib/utils';\r\n\r\n// =============================================================================\r\n// Types\r\n// =============================================================================\r\n\r\ninterface DataSource {\r\n  id: string;\r\n  name: string;\r\n  type: 'campaigns' | 'cdp' | 'trust_engine' | 'pacing' | 'attribution';\r\n  description: string;\r\n}\r\n\r\ninterface Metric {\r\n  id: string;\r\n  name: string;\r\n  field: string;\r\n  aggregation: 'sum' | 'avg' | 'count' | 'min' | 'max' | 'unique';\r\n  format: 'number' | 'currency' | 'percentage' | 'decimal';\r\n}\r\n\r\ninterface Dimension {\r\n  id: string;\r\n  name: string;\r\n  field: string;\r\n  type: 'string' | 'date' | 'boolean';\r\n}\r\n\r\ninterface Filter {\r\n  id: string;\r\n  field: string;\r\n  operator: 'equals' | 'not_equals' | 'contains' | 'gt' | 'lt' | 'gte' | 'lte' | 'between' | 'in';\r\n  value: string | string[];\r\n}\r\n\r\ninterface Visualization {\r\n  id: string;\r\n  type: 'bar' | 'line' | 'pie' | 'table' | 'metric' | 'area' | 'scatter';\r\n  title: string;\r\n  metrics: string[];\r\n  dimensions: string[];\r\n  config: Record<string, any>;\r\n}\r\n\r\ninterface ReportSchedule {\r\n  enabled: boolean;\r\n  frequency: 'daily' | 'weekly' | 'monthly';\r\n  time: string;\r\n  recipients: string[];\r\n  format: 'pdf' | 'csv' | 'excel';\r\n}\r\n\r\ninterface CustomReport {\r\n  id: string;\r\n  name: string;\r\n  description: string;\r\n  dataSource: string;\r\n  metrics: Metric[];\r\n  dimensions: Dimension[];\r\n  filters: Filter[];\r\n  visualizations: Visualization[];\r\n  schedule: ReportSchedule;\r\n  dateRange: {\r\n    type: 'last_7_days' | 'last_30_days' | 'last_90_days' | 'custom';\r\n    start?: string;\r\n    end?: string;\r\n  };\r\n  createdAt: string;\r\n  updatedAt: string;\r\n  status: 'draft' | 'published';\r\n}\r\n\r\n// =============================================================================\r\n// Mock Data\r\n// =============================================================================\r\n\r\nconst DATA_SOURCES: DataSource[] = [\r\n  {\r\n    id: 'campaigns',\r\n    name: 'Campaign Performance',\r\n    type: 'campaigns',\r\n    description: 'Ad spend, impressions, clicks, conversions across all platforms',\r\n  },\r\n  {\r\n    id: 'cdp',\r\n    name: 'CDP Profiles & Events',\r\n    type: 'cdp',\r\n    description: 'Customer profiles, events, segments, and lifecycle data',\r\n  },\r\n  {\r\n    id: 'trust_engine',\r\n    name: 'Trust Engine',\r\n    type: 'trust_engine',\r\n    description: 'Signal health, gate decisions, automation logs',\r\n  },\r\n  {\r\n    id: 'pacing',\r\n    name: 'Pacing & Forecasting',\r\n    type: 'pacing',\r\n    description: 'Budget pacing, spend forecasts, alerts',\r\n  },\r\n  {\r\n    id: 'attribution',\r\n    name: 'Attribution',\r\n    type: 'attribution',\r\n    description: 'Multi-touch attribution, conversion paths, channel performance',\r\n  },\r\n];\r\n\r\nconst AVAILABLE_METRICS: Record<string, Metric[]> = {\r\n  campaigns: [\r\n    { id: 'spend', name: 'Ad Spend', field: 'spend', aggregation: 'sum', format: 'currency' },\r\n    {\r\n      id: 'impressions',\r\n      name: 'Impressions',\r\n      field: 'impressions',\r\n      aggregation: 'sum',\r\n      format: 'number',\r\n    },\r\n    { id: 'clicks', name: 'Clicks', field: 'clicks', aggregation: 'sum', format: 'number' },\r\n    {\r\n      id: 'conversions',\r\n      name: 'Conversions',\r\n      field: 'conversions',\r\n      aggregation: 'sum',\r\n      format: 'number',\r\n    },\r\n    { id: 'ctr', name: 'CTR', field: 'ctr', aggregation: 'avg', format: 'percentage' },\r\n    { id: 'cpc', name: 'CPC', field: 'cpc', aggregation: 'avg', format: 'currency' },\r\n    { id: 'roas', name: 'ROAS', field: 'roas', aggregation: 'avg', format: 'decimal' },\r\n    { id: 'cpa', name: 'CPA', field: 'cpa', aggregation: 'avg', format: 'currency' },\r\n  ],\r\n  cdp: [\r\n    {\r\n      id: 'total_profiles',\r\n      name: 'Total Profiles',\r\n      field: 'total_profiles',\r\n      aggregation: 'count',\r\n      format: 'number',\r\n    },\r\n    {\r\n      id: 'new_profiles',\r\n      name: 'New Profiles',\r\n      field: 'new_profiles',\r\n      aggregation: 'sum',\r\n      format: 'number',\r\n    },\r\n    {\r\n      id: 'total_events',\r\n      name: 'Total Events',\r\n      field: 'total_events',\r\n      aggregation: 'sum',\r\n      format: 'number',\r\n    },\r\n    {\r\n      id: 'avg_events_per_profile',\r\n      name: 'Avg Events/Profile',\r\n      field: 'avg_events',\r\n      aggregation: 'avg',\r\n      format: 'decimal',\r\n    },\r\n    {\r\n      id: 'segment_size',\r\n      name: 'Segment Size',\r\n      field: 'segment_size',\r\n      aggregation: 'sum',\r\n      format: 'number',\r\n    },\r\n    { id: 'ltv', name: 'Customer LTV', field: 'ltv', aggregation: 'avg', format: 'currency' },\r\n  ],\r\n  trust_engine: [\r\n    {\r\n      id: 'signal_health',\r\n      name: 'Signal Health',\r\n      field: 'signal_health',\r\n      aggregation: 'avg',\r\n      format: 'percentage',\r\n    },\r\n    {\r\n      id: 'gate_passes',\r\n      name: 'Gate Passes',\r\n      field: 'gate_passes',\r\n      aggregation: 'sum',\r\n      format: 'number',\r\n    },\r\n    {\r\n      id: 'gate_holds',\r\n      name: 'Gate Holds',\r\n      field: 'gate_holds',\r\n      aggregation: 'sum',\r\n      format: 'number',\r\n    },\r\n    {\r\n      id: 'gate_blocks',\r\n      name: 'Gate Blocks',\r\n      field: 'gate_blocks',\r\n      aggregation: 'sum',\r\n      format: 'number',\r\n    },\r\n    {\r\n      id: 'automation_runs',\r\n      name: 'Automation Runs',\r\n      field: 'automation_runs',\r\n      aggregation: 'sum',\r\n      format: 'number',\r\n    },\r\n  ],\r\n  pacing: [\r\n    { id: 'budget', name: 'Budget', field: 'budget', aggregation: 'sum', format: 'currency' },\r\n    { id: 'spent', name: 'Amount Spent', field: 'spent', aggregation: 'sum', format: 'currency' },\r\n    {\r\n      id: 'pacing_rate',\r\n      name: 'Pacing Rate',\r\n      field: 'pacing_rate',\r\n      aggregation: 'avg',\r\n      format: 'percentage',\r\n    },\r\n    {\r\n      id: 'forecast_spend',\r\n      name: 'Forecasted Spend',\r\n      field: 'forecast_spend',\r\n      aggregation: 'sum',\r\n      format: 'currency',\r\n    },\r\n  ],\r\n  attribution: [\r\n    {\r\n      id: 'attributed_conversions',\r\n      name: 'Attributed Conversions',\r\n      field: 'attributed_conversions',\r\n      aggregation: 'sum',\r\n      format: 'number',\r\n    },\r\n    {\r\n      id: 'attributed_revenue',\r\n      name: 'Attributed Revenue',\r\n      field: 'attributed_revenue',\r\n      aggregation: 'sum',\r\n      format: 'currency',\r\n    },\r\n    {\r\n      id: 'attribution_weight',\r\n      name: 'Attribution Weight',\r\n      field: 'attribution_weight',\r\n      aggregation: 'avg',\r\n      format: 'percentage',\r\n    },\r\n    {\r\n      id: 'path_length',\r\n      name: 'Avg Path Length',\r\n      field: 'path_length',\r\n      aggregation: 'avg',\r\n      format: 'decimal',\r\n    },\r\n  ],\r\n};\r\n\r\nconst AVAILABLE_DIMENSIONS: Record<string, Dimension[]> = {\r\n  campaigns: [\r\n    { id: 'platform', name: 'Platform', field: 'platform', type: 'string' },\r\n    { id: 'campaign', name: 'Campaign', field: 'campaign_name', type: 'string' },\r\n    { id: 'ad_group', name: 'Ad Group', field: 'ad_group', type: 'string' },\r\n    { id: 'date', name: 'Date', field: 'date', type: 'date' },\r\n    { id: 'device', name: 'Device', field: 'device', type: 'string' },\r\n    { id: 'country', name: 'Country', field: 'country', type: 'string' },\r\n  ],\r\n  cdp: [\r\n    { id: 'lifecycle_stage', name: 'Lifecycle Stage', field: 'lifecycle_stage', type: 'string' },\r\n    { id: 'segment', name: 'Segment', field: 'segment', type: 'string' },\r\n    { id: 'source', name: 'Source', field: 'source', type: 'string' },\r\n    { id: 'date', name: 'Date', field: 'date', type: 'date' },\r\n    { id: 'event_type', name: 'Event Type', field: 'event_type', type: 'string' },\r\n  ],\r\n  trust_engine: [\r\n    { id: 'signal_type', name: 'Signal Type', field: 'signal_type', type: 'string' },\r\n    { id: 'gate_status', name: 'Gate Status', field: 'gate_status', type: 'string' },\r\n    { id: 'automation', name: 'Automation', field: 'automation_name', type: 'string' },\r\n    { id: 'date', name: 'Date', field: 'date', type: 'date' },\r\n  ],\r\n  pacing: [\r\n    { id: 'campaign', name: 'Campaign', field: 'campaign_name', type: 'string' },\r\n    { id: 'platform', name: 'Platform', field: 'platform', type: 'string' },\r\n    { id: 'date', name: 'Date', field: 'date', type: 'date' },\r\n    { id: 'alert_type', name: 'Alert Type', field: 'alert_type', type: 'string' },\r\n  ],\r\n  attribution: [\r\n    { id: 'channel', name: 'Channel', field: 'channel', type: 'string' },\r\n    { id: 'campaign', name: 'Campaign', field: 'campaign_name', type: 'string' },\r\n    { id: 'touchpoint', name: 'Touchpoint', field: 'touchpoint', type: 'string' },\r\n    { id: 'date', name: 'Date', field: 'date', type: 'date' },\r\n    { id: 'model', name: 'Attribution Model', field: 'model', type: 'string' },\r\n  ],\r\n};\r\n\r\nconst VISUALIZATION_TYPES = [\r\n  { id: 'bar', name: 'Bar Chart', icon: ChartBarIcon },\r\n  { id: 'line', name: 'Line Chart', icon: ArrowsPointingOutIcon },\r\n  { id: 'pie', name: 'Pie Chart', icon: ChartPieIcon },\r\n  { id: 'table', name: 'Table', icon: TableCellsIcon },\r\n  { id: 'metric', name: 'Metric Card', icon: SparklesIcon },\r\n];\r\n\r\nconst MOCK_REPORTS: CustomReport[] = [\r\n  {\r\n    id: '1',\r\n    name: 'Weekly Performance Summary',\r\n    description: 'Overview of campaign performance across all platforms',\r\n    dataSource: 'campaigns',\r\n    metrics: [\r\n      { id: 'spend', name: 'Ad Spend', field: 'spend', aggregation: 'sum', format: 'currency' },\r\n      {\r\n        id: 'conversions',\r\n        name: 'Conversions',\r\n        field: 'conversions',\r\n        aggregation: 'sum',\r\n        format: 'number',\r\n      },\r\n      { id: 'roas', name: 'ROAS', field: 'roas', aggregation: 'avg', format: 'decimal' },\r\n    ],\r\n    dimensions: [\r\n      { id: 'platform', name: 'Platform', field: 'platform', type: 'string' },\r\n      { id: 'date', name: 'Date', field: 'date', type: 'date' },\r\n    ],\r\n    filters: [],\r\n    visualizations: [\r\n      {\r\n        id: 'v1',\r\n        type: 'line',\r\n        title: 'Spend Over Time',\r\n        metrics: ['spend'],\r\n        dimensions: ['date'],\r\n        config: {},\r\n      },\r\n      {\r\n        id: 'v2',\r\n        type: 'bar',\r\n        title: 'ROAS by Platform',\r\n        metrics: ['roas'],\r\n        dimensions: ['platform'],\r\n        config: {},\r\n      },\r\n    ],\r\n    schedule: {\r\n      enabled: true,\r\n      frequency: 'weekly',\r\n      time: '09:00',\r\n      recipients: ['team@company.com'],\r\n      format: 'pdf',\r\n    },\r\n    dateRange: { type: 'last_7_days' },\r\n    createdAt: '2024-01-10T10:00:00Z',\r\n    updatedAt: '2024-01-15T14:30:00Z',\r\n    status: 'published',\r\n  },\r\n  {\r\n    id: '2',\r\n    name: 'CDP Health Report',\r\n    description: 'Customer data platform metrics and segment analysis',\r\n    dataSource: 'cdp',\r\n    metrics: [\r\n      {\r\n        id: 'total_profiles',\r\n        name: 'Total Profiles',\r\n        field: 'total_profiles',\r\n        aggregation: 'count',\r\n        format: 'number',\r\n      },\r\n      {\r\n        id: 'new_profiles',\r\n        name: 'New Profiles',\r\n        field: 'new_profiles',\r\n        aggregation: 'sum',\r\n        format: 'number',\r\n      },\r\n    ],\r\n    dimensions: [\r\n      { id: 'lifecycle_stage', name: 'Lifecycle Stage', field: 'lifecycle_stage', type: 'string' },\r\n    ],\r\n    filters: [],\r\n    visualizations: [\r\n      {\r\n        id: 'v1',\r\n        type: 'pie',\r\n        title: 'Profiles by Stage',\r\n        metrics: ['total_profiles'],\r\n        dimensions: ['lifecycle_stage'],\r\n        config: {},\r\n      },\r\n    ],\r\n    schedule: {\r\n      enabled: false,\r\n      frequency: 'monthly',\r\n      time: '08:00',\r\n      recipients: [],\r\n      format: 'csv',\r\n    },\r\n    dateRange: { type: 'last_30_days' },\r\n    createdAt: '2024-01-08T09:00:00Z',\r\n    updatedAt: '2024-01-12T16:00:00Z',\r\n    status: 'draft',\r\n  },\r\n  {\r\n    id: '3',\r\n    name: 'Trust Engine Audit',\r\n    description: 'Signal health and automation decision tracking',\r\n    dataSource: 'trust_engine',\r\n    metrics: [\r\n      {\r\n        id: 'signal_health',\r\n        name: 'Signal Health',\r\n        field: 'signal_health',\r\n        aggregation: 'avg',\r\n        format: 'percentage',\r\n      },\r\n      {\r\n        id: 'gate_passes',\r\n        name: 'Gate Passes',\r\n        field: 'gate_passes',\r\n        aggregation: 'sum',\r\n        format: 'number',\r\n      },\r\n    ],\r\n    dimensions: [{ id: 'signal_type', name: 'Signal Type', field: 'signal_type', type: 'string' }],\r\n    filters: [],\r\n    visualizations: [\r\n      {\r\n        id: 'v1',\r\n        type: 'metric',\r\n        title: 'Avg Signal Health',\r\n        metrics: ['signal_health'],\r\n        dimensions: [],\r\n        config: {},\r\n      },\r\n      {\r\n        id: 'v2',\r\n        type: 'bar',\r\n        title: 'Gate Decisions',\r\n        metrics: ['gate_passes'],\r\n        dimensions: ['signal_type'],\r\n        config: {},\r\n      },\r\n    ],\r\n    schedule: {\r\n      enabled: true,\r\n      frequency: 'daily',\r\n      time: '07:00',\r\n      recipients: ['ops@company.com'],\r\n      format: 'pdf',\r\n    },\r\n    dateRange: { type: 'last_7_days' },\r\n    createdAt: '2024-01-05T11:00:00Z',\r\n    updatedAt: '2024-01-14T10:00:00Z',\r\n    status: 'published',\r\n  },\r\n];\r\n\r\n// =============================================================================\r\n// Report Builder Modal\r\n// =============================================================================\r\n\r\ninterface ReportBuilderModalProps {\r\n  report: CustomReport | null;\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  onSave: (report: CustomReport) => void;\r\n}\r\n\r\nfunction ReportBuilderModal({ report, isOpen, onClose, onSave }: ReportBuilderModalProps) {\r\n  const [activeTab, setActiveTab] = useState<'data' | 'visualizations' | 'schedule'>('data');\r\n  const [formData, setFormData] = useState<CustomReport>(\r\n    () =>\r\n      report || {\r\n        id: Date.now().toString(),\r\n        name: '',\r\n        description: '',\r\n        dataSource: '',\r\n        metrics: [],\r\n        dimensions: [],\r\n        filters: [],\r\n        visualizations: [],\r\n        schedule: {\r\n          enabled: false,\r\n          frequency: 'weekly',\r\n          time: '09:00',\r\n          recipients: [],\r\n          format: 'pdf',\r\n        },\r\n        dateRange: { type: 'last_7_days' },\r\n        createdAt: new Date().toISOString(),\r\n        updatedAt: new Date().toISOString(),\r\n        status: 'draft',\r\n      }\r\n  );\r\n  const [newRecipient, setNewRecipient] = useState('');\r\n\r\n  if (!isOpen) return null;\r\n\r\n  const availableMetrics = AVAILABLE_METRICS[formData.dataSource] || [];\r\n  const availableDimensions = AVAILABLE_DIMENSIONS[formData.dataSource] || [];\r\n\r\n  const handleAddMetric = (metric: Metric) => {\r\n    if (!formData.metrics.find((m) => m.id === metric.id)) {\r\n      setFormData({ ...formData, metrics: [...formData.metrics, metric] });\r\n    }\r\n  };\r\n\r\n  const handleRemoveMetric = (metricId: string) => {\r\n    setFormData({ ...formData, metrics: formData.metrics.filter((m) => m.id !== metricId) });\r\n  };\r\n\r\n  const handleAddDimension = (dimension: Dimension) => {\r\n    if (!formData.dimensions.find((d) => d.id === dimension.id)) {\r\n      setFormData({ ...formData, dimensions: [...formData.dimensions, dimension] });\r\n    }\r\n  };\r\n\r\n  const handleRemoveDimension = (dimensionId: string) => {\r\n    setFormData({\r\n      ...formData,\r\n      dimensions: formData.dimensions.filter((d) => d.id !== dimensionId),\r\n    });\r\n  };\r\n\r\n  const handleAddVisualization = (type: string) => {\r\n    const newViz: Visualization = {\r\n      id: Date.now().toString(),\r\n      type: type as Visualization['type'],\r\n      title: `New ${type} chart`,\r\n      metrics: formData.metrics.slice(0, 1).map((m) => m.id),\r\n      dimensions: formData.dimensions.slice(0, 1).map((d) => d.id),\r\n      config: {},\r\n    };\r\n    setFormData({ ...formData, visualizations: [...formData.visualizations, newViz] });\r\n  };\r\n\r\n  const handleRemoveVisualization = (vizId: string) => {\r\n    setFormData({\r\n      ...formData,\r\n      visualizations: formData.visualizations.filter((v) => v.id !== vizId),\r\n    });\r\n  };\r\n\r\n  const handleAddRecipient = () => {\r\n    if (newRecipient && !formData.schedule.recipients.includes(newRecipient)) {\r\n      setFormData({\r\n        ...formData,\r\n        schedule: {\r\n          ...formData.schedule,\r\n          recipients: [...formData.schedule.recipients, newRecipient],\r\n        },\r\n      });\r\n      setNewRecipient('');\r\n    }\r\n  };\r\n\r\n  const handleRemoveRecipient = (email: string) => {\r\n    setFormData({\r\n      ...formData,\r\n      schedule: {\r\n        ...formData.schedule,\r\n        recipients: formData.schedule.recipients.filter((r) => r !== email),\r\n      },\r\n    });\r\n  };\r\n\r\n  const handleSave = () => {\r\n    onSave({ ...formData, updatedAt: new Date().toISOString() });\r\n    onClose();\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50\">\r\n      <div className=\"bg-card rounded-xl shadow-xl w-full max-w-5xl max-h-[90vh] overflow-hidden flex flex-col\">\r\n        {/* Header */}\r\n        <div className=\"flex items-center justify-between p-6 border-b\">\r\n          <div>\r\n            <h2 className=\"text-xl font-semibold\">\r\n              {report ? 'Edit Report' : 'Create Custom Report'}\r\n            </h2>\r\n            <p className=\"text-sm text-muted-foreground mt-1\">\r\n              Build a custom report with your chosen metrics and visualizations\r\n            </p>\r\n          </div>\r\n          <button onClick={onClose} className=\"p-2 hover:bg-muted rounded-lg\">\r\n            <XMarkIcon className=\"w-5 h-5\" />\r\n          </button>\r\n        </div>\r\n\r\n        {/* Tabs */}\r\n        <div className=\"flex border-b\">\r\n          {[\r\n            { id: 'data', label: 'Data Source & Metrics', icon: TableCellsIcon },\r\n            { id: 'visualizations', label: 'Visualizations', icon: ChartBarIcon },\r\n            { id: 'schedule', label: 'Schedule', icon: ClockIcon },\r\n          ].map((tab) => (\r\n            <button\r\n              key={tab.id}\r\n              onClick={() => setActiveTab(tab.id as typeof activeTab)}\r\n              className={cn(\r\n                'flex items-center gap-2 px-6 py-3 text-sm font-medium border-b-2 transition-colors',\r\n                activeTab === tab.id\r\n                  ? 'border-primary text-primary'\r\n                  : 'border-transparent text-muted-foreground hover:text-foreground'\r\n              )}\r\n            >\r\n              <tab.icon className=\"w-4 h-4\" />\r\n              {tab.label}\r\n            </button>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Content */}\r\n        <div className=\"flex-1 overflow-y-auto p-6\">\r\n          {activeTab === 'data' && (\r\n            <div className=\"space-y-6\">\r\n              {/* Report Name & Description */}\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-2\">Report Name</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={formData.name}\r\n                    onChange={(e) => setFormData({ ...formData, name: e.target.value })}\r\n                    className=\"w-full px-3 py-2 rounded-lg border bg-background focus:ring-2 focus:ring-primary\"\r\n                    placeholder=\"Enter report name...\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-2\">Date Range</label>\r\n                  <select\r\n                    value={formData.dateRange.type}\r\n                    onChange={(e) =>\r\n                      setFormData({\r\n                        ...formData,\r\n                        dateRange: { ...formData.dateRange, type: e.target.value as any },\r\n                      })\r\n                    }\r\n                    className=\"w-full px-3 py-2 rounded-lg border bg-background focus:ring-2 focus:ring-primary\"\r\n                  >\r\n                    <option value=\"last_7_days\">Last 7 Days</option>\r\n                    <option value=\"last_30_days\">Last 30 Days</option>\r\n                    <option value=\"last_90_days\">Last 90 Days</option>\r\n                    <option value=\"custom\">Custom Range</option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-2\">Description</label>\r\n                <textarea\r\n                  value={formData.description}\r\n                  onChange={(e) => setFormData({ ...formData, description: e.target.value })}\r\n                  className=\"w-full px-3 py-2 rounded-lg border bg-background focus:ring-2 focus:ring-primary\"\r\n                  rows={2}\r\n                  placeholder=\"Describe what this report shows...\"\r\n                />\r\n              </div>\r\n\r\n              {/* Data Source Selection */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-3\">Data Source</label>\r\n                <div className=\"grid grid-cols-3 gap-3\">\r\n                  {DATA_SOURCES.map((source) => (\r\n                    <button\r\n                      key={source.id}\r\n                      onClick={() =>\r\n                        setFormData({\r\n                          ...formData,\r\n                          dataSource: source.id,\r\n                          metrics: [],\r\n                          dimensions: [],\r\n                        })\r\n                      }\r\n                      className={cn(\r\n                        'p-4 rounded-lg border text-left transition-all',\r\n                        formData.dataSource === source.id\r\n                          ? 'border-primary bg-primary/5'\r\n                          : 'hover:border-muted-foreground/50'\r\n                      )}\r\n                    >\r\n                      <div className=\"font-medium text-sm\">{source.name}</div>\r\n                      <div className=\"text-xs text-muted-foreground mt-1\">{source.description}</div>\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              {formData.dataSource && (\r\n                <>\r\n                  {/* Metrics Selection */}\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium mb-3\">Select Metrics</label>\r\n                    <div className=\"flex flex-wrap gap-2 mb-3\">\r\n                      {formData.metrics.map((metric) => (\r\n                        <span\r\n                          key={metric.id}\r\n                          className=\"inline-flex items-center gap-1 px-3 py-1 rounded-full bg-primary/10 text-primary text-sm\"\r\n                        >\r\n                          {metric.name}\r\n                          <button\r\n                            onClick={() => handleRemoveMetric(metric.id)}\r\n                            className=\"hover:bg-primary/20 rounded-full p-0.5\"\r\n                          >\r\n                            <XMarkIcon className=\"w-3 h-3\" />\r\n                          </button>\r\n                        </span>\r\n                      ))}\r\n                    </div>\r\n                    <div className=\"flex flex-wrap gap-2\">\r\n                      {availableMetrics\r\n                        .filter((m) => !formData.metrics.find((fm) => fm.id === m.id))\r\n                        .map((metric) => (\r\n                          <button\r\n                            key={metric.id}\r\n                            onClick={() => handleAddMetric(metric)}\r\n                            className=\"px-3 py-1 rounded-full border text-sm hover:border-primary hover:text-primary transition-colors\"\r\n                          >\r\n                            + {metric.name}\r\n                          </button>\r\n                        ))}\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Dimensions Selection */}\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium mb-3\">Select Dimensions</label>\r\n                    <div className=\"flex flex-wrap gap-2 mb-3\">\r\n                      {formData.dimensions.map((dimension) => (\r\n                        <span\r\n                          key={dimension.id}\r\n                          className=\"inline-flex items-center gap-1 px-3 py-1 rounded-full bg-blue-500/10 text-blue-500 text-sm\"\r\n                        >\r\n                          {dimension.name}\r\n                          <button\r\n                            onClick={() => handleRemoveDimension(dimension.id)}\r\n                            className=\"hover:bg-blue-500/20 rounded-full p-0.5\"\r\n                          >\r\n                            <XMarkIcon className=\"w-3 h-3\" />\r\n                          </button>\r\n                        </span>\r\n                      ))}\r\n                    </div>\r\n                    <div className=\"flex flex-wrap gap-2\">\r\n                      {availableDimensions\r\n                        .filter((d) => !formData.dimensions.find((fd) => fd.id === d.id))\r\n                        .map((dimension) => (\r\n                          <button\r\n                            key={dimension.id}\r\n                            onClick={() => handleAddDimension(dimension)}\r\n                            className=\"px-3 py-1 rounded-full border text-sm hover:border-blue-500 hover:text-blue-500 transition-colors\"\r\n                          >\r\n                            + {dimension.name}\r\n                          </button>\r\n                        ))}\r\n                    </div>\r\n                  </div>\r\n                </>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {activeTab === 'visualizations' && (\r\n            <div className=\"space-y-6\">\r\n              {/* Add Visualization */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-3\">Add Visualization</label>\r\n                <div className=\"flex flex-wrap gap-3\">\r\n                  {VISUALIZATION_TYPES.map((vizType) => (\r\n                    <button\r\n                      key={vizType.id}\r\n                      onClick={() => handleAddVisualization(vizType.id)}\r\n                      disabled={formData.metrics.length === 0}\r\n                      className=\"flex items-center gap-2 px-4 py-2 rounded-lg border hover:border-primary hover:text-primary transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                    >\r\n                      <vizType.icon className=\"w-4 h-4\" />\r\n                      {vizType.name}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n                {formData.metrics.length === 0 && (\r\n                  <p className=\"text-sm text-muted-foreground mt-2\">\r\n                    Select at least one metric in the Data tab to add visualizations\r\n                  </p>\r\n                )}\r\n              </div>\r\n\r\n              {/* Visualization List */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-3\">\r\n                  Report Visualizations ({formData.visualizations.length})\r\n                </label>\r\n                {formData.visualizations.length === 0 ? (\r\n                  <div className=\"text-center py-8 border rounded-lg border-dashed\">\r\n                    <ChartBarIcon className=\"w-10 h-10 mx-auto text-muted-foreground mb-2\" />\r\n                    <p className=\"text-muted-foreground\">No visualizations added yet</p>\r\n                    <p className=\"text-sm text-muted-foreground\">\r\n                      Click a chart type above to add one\r\n                    </p>\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"grid grid-cols-2 gap-4\">\r\n                    {formData.visualizations.map((viz, index) => {\r\n                      const VizIcon =\r\n                        VISUALIZATION_TYPES.find((v) => v.id === viz.type)?.icon || ChartBarIcon;\r\n                      return (\r\n                        <div key={viz.id} className=\"p-4 rounded-lg border bg-muted/30\">\r\n                          <div className=\"flex items-start justify-between mb-3\">\r\n                            <div className=\"flex items-center gap-2\">\r\n                              <VizIcon className=\"w-5 h-5 text-primary\" />\r\n                              <input\r\n                                type=\"text\"\r\n                                value={viz.title}\r\n                                onChange={(e) => {\r\n                                  const newViz = [...formData.visualizations];\r\n                                  newViz[index] = { ...viz, title: e.target.value };\r\n                                  setFormData({ ...formData, visualizations: newViz });\r\n                                }}\r\n                                className=\"font-medium bg-transparent border-b border-transparent focus:border-primary outline-none\"\r\n                              />\r\n                            </div>\r\n                            <button\r\n                              onClick={() => handleRemoveVisualization(viz.id)}\r\n                              className=\"p-1 hover:bg-destructive/10 hover:text-destructive rounded\"\r\n                            >\r\n                              <TrashIcon className=\"w-4 h-4\" />\r\n                            </button>\r\n                          </div>\r\n                          <div className=\"space-y-2 text-sm\">\r\n                            <div>\r\n                              <span className=\"text-muted-foreground\">Metrics: </span>\r\n                              <select\r\n                                value={viz.metrics[0] || ''}\r\n                                onChange={(e) => {\r\n                                  const newViz = [...formData.visualizations];\r\n                                  newViz[index] = { ...viz, metrics: [e.target.value] };\r\n                                  setFormData({ ...formData, visualizations: newViz });\r\n                                }}\r\n                                className=\"px-2 py-1 rounded border bg-background text-xs\"\r\n                              >\r\n                                {formData.metrics.map((m) => (\r\n                                  <option key={m.id} value={m.id}>\r\n                                    {m.name}\r\n                                  </option>\r\n                                ))}\r\n                              </select>\r\n                            </div>\r\n                            {viz.type !== 'metric' && (\r\n                              <div>\r\n                                <span className=\"text-muted-foreground\">Group by: </span>\r\n                                <select\r\n                                  value={viz.dimensions[0] || ''}\r\n                                  onChange={(e) => {\r\n                                    const newViz = [...formData.visualizations];\r\n                                    newViz[index] = { ...viz, dimensions: [e.target.value] };\r\n                                    setFormData({ ...formData, visualizations: newViz });\r\n                                  }}\r\n                                  className=\"px-2 py-1 rounded border bg-background text-xs\"\r\n                                >\r\n                                  <option value=\"\">None</option>\r\n                                  {formData.dimensions.map((d) => (\r\n                                    <option key={d.id} value={d.id}>\r\n                                      {d.name}\r\n                                    </option>\r\n                                  ))}\r\n                                </select>\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {activeTab === 'schedule' && (\r\n            <div className=\"space-y-6\">\r\n              {/* Enable Schedule */}\r\n              <div className=\"flex items-center justify-between p-4 rounded-lg border\">\r\n                <div>\r\n                  <div className=\"font-medium\">Scheduled Delivery</div>\r\n                  <div className=\"text-sm text-muted-foreground\">\r\n                    Automatically send this report on a regular schedule\r\n                  </div>\r\n                </div>\r\n                <button\r\n                  onClick={() =>\r\n                    setFormData({\r\n                      ...formData,\r\n                      schedule: { ...formData.schedule, enabled: !formData.schedule.enabled },\r\n                    })\r\n                  }\r\n                  className={cn(\r\n                    'relative w-12 h-6 rounded-full transition-colors',\r\n                    formData.schedule.enabled ? 'bg-primary' : 'bg-muted'\r\n                  )}\r\n                >\r\n                  <span\r\n                    className={cn(\r\n                      'absolute top-0.5 left-0.5 w-5 h-5 rounded-full bg-white shadow transition-transform',\r\n                      formData.schedule.enabled ? 'translate-x-6' : ''\r\n                    )}\r\n                  />\r\n                </button>\r\n              </div>\r\n\r\n              {formData.schedule.enabled && (\r\n                <>\r\n                  <div className=\"grid grid-cols-3 gap-4\">\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium mb-2\">Frequency</label>\r\n                      <select\r\n                        value={formData.schedule.frequency}\r\n                        onChange={(e) =>\r\n                          setFormData({\r\n                            ...formData,\r\n                            schedule: { ...formData.schedule, frequency: e.target.value as any },\r\n                          })\r\n                        }\r\n                        className=\"w-full px-3 py-2 rounded-lg border bg-background\"\r\n                      >\r\n                        <option value=\"daily\">Daily</option>\r\n                        <option value=\"weekly\">Weekly</option>\r\n                        <option value=\"monthly\">Monthly</option>\r\n                      </select>\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium mb-2\">Time</label>\r\n                      <input\r\n                        type=\"time\"\r\n                        value={formData.schedule.time}\r\n                        onChange={(e) =>\r\n                          setFormData({\r\n                            ...formData,\r\n                            schedule: { ...formData.schedule, time: e.target.value },\r\n                          })\r\n                        }\r\n                        className=\"w-full px-3 py-2 rounded-lg border bg-background\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium mb-2\">Format</label>\r\n                      <select\r\n                        value={formData.schedule.format}\r\n                        onChange={(e) =>\r\n                          setFormData({\r\n                            ...formData,\r\n                            schedule: { ...formData.schedule, format: e.target.value as any },\r\n                          })\r\n                        }\r\n                        className=\"w-full px-3 py-2 rounded-lg border bg-background\"\r\n                      >\r\n                        <option value=\"pdf\">PDF</option>\r\n                        <option value=\"csv\">CSV</option>\r\n                        <option value=\"excel\">Excel</option>\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium mb-2\">Recipients</label>\r\n                    <div className=\"flex gap-2 mb-3\">\r\n                      <input\r\n                        type=\"email\"\r\n                        value={newRecipient}\r\n                        onChange={(e) => setNewRecipient(e.target.value)}\r\n                        onKeyPress={(e) => e.key === 'Enter' && handleAddRecipient()}\r\n                        className=\"flex-1 px-3 py-2 rounded-lg border bg-background\"\r\n                        placeholder=\"Enter email address...\"\r\n                      />\r\n                      <button\r\n                        onClick={handleAddRecipient}\r\n                        className=\"px-4 py-2 rounded-lg bg-primary text-primary-foreground hover:bg-primary/90\"\r\n                      >\r\n                        Add\r\n                      </button>\r\n                    </div>\r\n                    <div className=\"flex flex-wrap gap-2\">\r\n                      {formData.schedule.recipients.map((email) => (\r\n                        <span\r\n                          key={email}\r\n                          className=\"inline-flex items-center gap-1 px-3 py-1 rounded-full bg-muted text-sm\"\r\n                        >\r\n                          {email}\r\n                          <button\r\n                            onClick={() => handleRemoveRecipient(email)}\r\n                            className=\"hover:bg-muted-foreground/20 rounded-full p-0.5\"\r\n                          >\r\n                            <XMarkIcon className=\"w-3 h-3\" />\r\n                          </button>\r\n                        </span>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                </>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Footer */}\r\n        <div className=\"flex items-center justify-between p-6 border-t bg-muted/30\">\r\n          <button\r\n            onClick={onClose}\r\n            className=\"px-4 py-2 rounded-lg border hover:bg-muted transition-colors\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <div className=\"flex items-center gap-3\">\r\n            <button\r\n              onClick={() => {\r\n                setFormData({ ...formData, status: 'draft' });\r\n                handleSave();\r\n              }}\r\n              className=\"px-4 py-2 rounded-lg border hover:bg-muted transition-colors\"\r\n            >\r\n              Save as Draft\r\n            </button>\r\n            <button\r\n              onClick={() => {\r\n                setFormData({ ...formData, status: 'published' });\r\n                handleSave();\r\n              }}\r\n              disabled={!formData.name || !formData.dataSource || formData.metrics.length === 0}\r\n              className=\"px-4 py-2 rounded-lg bg-primary text-primary-foreground hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n            >\r\n              Publish Report\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// =============================================================================\r\n// Main Component\r\n// =============================================================================\r\n\r\nexport default function CustomReportBuilder() {\r\n  const [reports, setReports] = useState<CustomReport[]>(MOCK_REPORTS);\r\n  const [isBuilderOpen, setIsBuilderOpen] = useState(false);\r\n  const [editingReport, setEditingReport] = useState<CustomReport | null>(null);\r\n  const [filterStatus, setFilterStatus] = useState<'all' | 'draft' | 'published'>('all');\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n\r\n  const filteredReports = reports.filter((report) => {\r\n    const matchesStatus = filterStatus === 'all' || report.status === filterStatus;\r\n    const matchesSearch =\r\n      report.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n      report.description.toLowerCase().includes(searchQuery.toLowerCase());\r\n    return matchesStatus && matchesSearch;\r\n  });\r\n\r\n  const handleCreateReport = () => {\r\n    setEditingReport(null);\r\n    setIsBuilderOpen(true);\r\n  };\r\n\r\n  const handleEditReport = (report: CustomReport) => {\r\n    setEditingReport(report);\r\n    setIsBuilderOpen(true);\r\n  };\r\n\r\n  const handleSaveReport = (report: CustomReport) => {\r\n    if (editingReport) {\r\n      setReports(reports.map((r) => (r.id === report.id ? report : r)));\r\n    } else {\r\n      setReports([...reports, report]);\r\n    }\r\n  };\r\n\r\n  const handleDeleteReport = (reportId: string) => {\r\n    setReports(reports.filter((r) => r.id !== reportId));\r\n  };\r\n\r\n  const handleDuplicateReport = (report: CustomReport) => {\r\n    const newReport: CustomReport = {\r\n      ...report,\r\n      id: Date.now().toString(),\r\n      name: `${report.name} (Copy)`,\r\n      createdAt: new Date().toISOString(),\r\n      updatedAt: new Date().toISOString(),\r\n      status: 'draft',\r\n    };\r\n    setReports([...reports, newReport]);\r\n  };\r\n\r\n  const stats = {\r\n    total: reports.length,\r\n    published: reports.filter((r) => r.status === 'published').length,\r\n    scheduled: reports.filter((r) => r.schedule.enabled).length,\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h1 className=\"text-2xl font-bold flex items-center gap-3\">\r\n            <DocumentChartBarIcon className=\"w-8 h-8 text-primary\" />\r\n            Custom Report Builder\r\n          </h1>\r\n          <p className=\"text-muted-foreground mt-1\">\r\n            Create custom reports with your own metrics, dimensions, and visualizations\r\n          </p>\r\n        </div>\r\n        <button\r\n          onClick={handleCreateReport}\r\n          className=\"flex items-center gap-2 px-4 py-2 rounded-lg bg-primary text-primary-foreground hover:bg-primary/90 transition-colors\"\r\n        >\r\n          <PlusIcon className=\"w-5 h-5\" />\r\n          Create Report\r\n        </button>\r\n      </div>\r\n\r\n      {/* Stats */}\r\n      <div className=\"grid grid-cols-3 gap-4\">\r\n        <div className=\"p-4 rounded-xl bg-card border\">\r\n          <div className=\"text-sm text-muted-foreground\">Total Reports</div>\r\n          <div className=\"text-2xl font-bold mt-1\">{stats.total}</div>\r\n        </div>\r\n        <div className=\"p-4 rounded-xl bg-card border\">\r\n          <div className=\"text-sm text-muted-foreground\">Published</div>\r\n          <div className=\"text-2xl font-bold mt-1 text-green-500\">{stats.published}</div>\r\n        </div>\r\n        <div className=\"p-4 rounded-xl bg-card border\">\r\n          <div className=\"text-sm text-muted-foreground\">Scheduled</div>\r\n          <div className=\"text-2xl font-bold mt-1 text-blue-500\">{stats.scheduled}</div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Filters */}\r\n      <div className=\"flex items-center gap-4\">\r\n        <div className=\"flex-1\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Search reports...\"\r\n            value={searchQuery}\r\n            onChange={(e) => setSearchQuery(e.target.value)}\r\n            className=\"w-full max-w-md px-4 py-2 rounded-lg border bg-background\"\r\n          />\r\n        </div>\r\n        <div className=\"flex items-center gap-2\">\r\n          <span className=\"text-sm text-muted-foreground\">Status:</span>\r\n          {['all', 'published', 'draft'].map((status) => (\r\n            <button\r\n              key={status}\r\n              onClick={() => setFilterStatus(status as typeof filterStatus)}\r\n              className={cn(\r\n                'px-3 py-1.5 rounded-lg text-sm capitalize transition-colors',\r\n                filterStatus === status\r\n                  ? 'bg-primary text-primary-foreground'\r\n                  : 'bg-muted hover:bg-muted/80'\r\n              )}\r\n            >\r\n              {status}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Reports Grid */}\r\n      {filteredReports.length === 0 ? (\r\n        <div className=\"text-center py-12 bg-card rounded-xl border\">\r\n          <DocumentChartBarIcon className=\"w-12 h-12 mx-auto text-muted-foreground mb-4\" />\r\n          <h3 className=\"text-lg font-medium mb-2\">No reports found</h3>\r\n          <p className=\"text-muted-foreground mb-4\">\r\n            {searchQuery\r\n              ? 'Try a different search term'\r\n              : 'Create your first custom report to get started'}\r\n          </p>\r\n          {!searchQuery && (\r\n            <button\r\n              onClick={handleCreateReport}\r\n              className=\"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-primary text-primary-foreground hover:bg-primary/90\"\r\n            >\r\n              <PlusIcon className=\"w-5 h-5\" />\r\n              Create Report\r\n            </button>\r\n          )}\r\n        </div>\r\n      ) : (\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n          {filteredReports.map((report) => {\r\n            const dataSource = DATA_SOURCES.find((ds) => ds.id === report.dataSource);\r\n            return (\r\n              <div\r\n                key={report.id}\r\n                className=\"bg-card rounded-xl border p-5 hover:border-primary/50 transition-colors\"\r\n              >\r\n                <div className=\"flex items-start justify-between mb-3\">\r\n                  <div className=\"flex-1\">\r\n                    <h3 className=\"font-semibold\">{report.name}</h3>\r\n                    <p className=\"text-sm text-muted-foreground mt-1 line-clamp-2\">\r\n                      {report.description}\r\n                    </p>\r\n                  </div>\r\n                  <span\r\n                    className={cn(\r\n                      'px-2 py-1 rounded-full text-xs font-medium',\r\n                      report.status === 'published'\r\n                        ? 'bg-green-500/10 text-green-500'\r\n                        : 'bg-yellow-500/10 text-yellow-500'\r\n                    )}\r\n                  >\r\n                    {report.status}\r\n                  </span>\r\n                </div>\r\n\r\n                <div className=\"space-y-2 text-sm mb-4\">\r\n                  <div className=\"flex items-center gap-2 text-muted-foreground\">\r\n                    <TableCellsIcon className=\"w-4 h-4\" />\r\n                    <span>{dataSource?.name || 'Unknown source'}</span>\r\n                  </div>\r\n                  <div className=\"flex items-center gap-2 text-muted-foreground\">\r\n                    <ChartBarIcon className=\"w-4 h-4\" />\r\n                    <span>\r\n                      {report.metrics.length} metrics, {report.visualizations.length} charts\r\n                    </span>\r\n                  </div>\r\n                  {report.schedule.enabled && (\r\n                    <div className=\"flex items-center gap-2 text-blue-500\">\r\n                      <ClockIcon className=\"w-4 h-4\" />\r\n                      <span className=\"capitalize\">\r\n                        {report.schedule.frequency} at {report.schedule.time}\r\n                      </span>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                <div className=\"flex items-center gap-2 pt-3 border-t\">\r\n                  <button\r\n                    onClick={() => handleEditReport(report)}\r\n                    className=\"flex-1 flex items-center justify-center gap-1 px-3 py-1.5 rounded-lg bg-muted hover:bg-muted/80 text-sm\"\r\n                  >\r\n                    <PencilIcon className=\"w-4 h-4\" />\r\n                    Edit\r\n                  </button>\r\n                  <button className=\"flex items-center justify-center gap-1 px-3 py-1.5 rounded-lg bg-primary/10 text-primary hover:bg-primary/20 text-sm\">\r\n                    <EyeIcon className=\"w-4 h-4\" />\r\n                    View\r\n                  </button>\r\n                  <button\r\n                    onClick={() => handleDuplicateReport(report)}\r\n                    className=\"p-1.5 rounded-lg hover:bg-muted\"\r\n                    title=\"Duplicate\"\r\n                  >\r\n                    <DocumentDuplicateIcon className=\"w-4 h-4\" />\r\n                  </button>\r\n                  <button\r\n                    onClick={() => handleDeleteReport(report.id)}\r\n                    className=\"p-1.5 rounded-lg hover:bg-destructive/10 hover:text-destructive\"\r\n                    title=\"Delete\"\r\n                  >\r\n                    <TrashIcon className=\"w-4 h-4\" />\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      )}\r\n\r\n      {/* Report Builder Modal */}\r\n      <ReportBuilderModal\r\n        report={editingReport}\r\n        isOpen={isBuilderOpen}\r\n        onClose={() => {\r\n          setIsBuilderOpen(false);\r\n          setEditingReport(null);\r\n        }}\r\n        onSave={handleSaveReport}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n"],"names":["ArrowsPointingOutIcon","title","titleId","props","svgRef","React.createElement","ForwardRef","React.forwardRef","DocumentDuplicateIcon","DATA_SOURCES","AVAILABLE_METRICS","AVAILABLE_DIMENSIONS","VISUALIZATION_TYPES","ChartBarIcon","ChartPieIcon","TableCellsIcon","SparklesIcon","MOCK_REPORTS","ReportBuilderModal","report","isOpen","onClose","onSave","activeTab","setActiveTab","useState","formData","setFormData","newRecipient","setNewRecipient","availableMetrics","availableDimensions","handleAddMetric","metric","m","handleRemoveMetric","metricId","handleAddDimension","dimension","d","handleRemoveDimension","dimensionId","handleAddVisualization","type","newViz","handleRemoveVisualization","vizId","v","handleAddRecipient","handleRemoveRecipient","email","r","handleSave","jsxs","jsx","XMarkIcon","ClockIcon","tab","cn","e","source","Fragment","fm","fd","vizType","viz","index","VizIcon","_a","TrashIcon","CustomReportBuilder","reports","setReports","isBuilderOpen","setIsBuilderOpen","editingReport","setEditingReport","filterStatus","setFilterStatus","searchQuery","setSearchQuery","filteredReports","matchesStatus","matchesSearch","handleCreateReport","handleEditReport","handleSaveReport","handleDeleteReport","reportId","handleDuplicateReport","newReport","stats","DocumentChartBarIcon","PlusIcon","status","dataSource","ds","PencilIcon","EyeIcon"],"mappings":"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","x_google_ignoreList":[0,1]}