{"version":3,"file":"Landing-CEQ4tTS5.js","sources":["../../src/views/Landing.tsx"],"sourcesContent":["/**\r\n * Landing Page\r\n * Renders the static landing page HTML in a full-page iframe\r\n * Includes Voice Greeting and Chat Widget for visitor engagement\r\n */\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { OnboardingChat, OnboardingChatButton, VoiceGreeting } from '@/components/onboarding';\r\n\r\nexport default function Landing() {\r\n  // Cache-busting: append timestamp to prevent stale content\r\n  const cacheBuster = `?v=${Date.now()}`;\r\n  const [chatOpen, setChatOpen] = useState(false);\r\n  const [greetingDismissed, setGreetingDismissed] = useState(false);\r\n  const [greetingShown, setGreetingShown] = useState(false);\r\n\r\n  // Check if greeting was already shown this session\r\n  useEffect(() => {\r\n    const wasShown = sessionStorage.getItem('stratum_greeting_shown') === 'true';\r\n    setGreetingShown(wasShown);\r\n  }, []);\r\n\r\n  const handleStartChat = () => {\r\n    setGreetingDismissed(true);\r\n    setChatOpen(true);\r\n  };\r\n\r\n  const handleDismissGreeting = () => {\r\n    setGreetingDismissed(true);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <iframe\r\n        src={`/landing.html${cacheBuster}`}\r\n        title=\"Stratum AI - Revenue Intelligence + Trust Layer\"\r\n        style={{\r\n          position: 'fixed',\r\n          top: 0,\r\n          left: 0,\r\n          width: '100%',\r\n          height: '100%',\r\n          border: 'none',\r\n          margin: 0,\r\n          padding: 0,\r\n          overflow: 'hidden',\r\n        }}\r\n      />\r\n\r\n      {/* Voice Greeting - Auto-triggers after 4s or 50% scroll */}\r\n      {!chatOpen && !greetingDismissed && (\r\n        <VoiceGreeting\r\n          triggerDelay={4000}\r\n          triggerScrollPercent={50}\r\n          audioSrc=\"/audio/greeting-en.mp3\"\r\n          language=\"en\"\r\n          onStartChat={handleStartChat}\r\n          onDismiss={handleDismissGreeting}\r\n          alreadyShown={greetingShown}\r\n        />\r\n      )}\r\n\r\n      {/* Chat Button - Show after greeting is dismissed */}\r\n      {!chatOpen && greetingDismissed && (\r\n        <OnboardingChatButton onClick={() => setChatOpen(true)} pulse={true} />\r\n      )}\r\n\r\n      {/* Full Chat Interface */}\r\n      <OnboardingChat isOpen={chatOpen} onClose={() => setChatOpen(false)} language=\"en\" />\r\n    </>\r\n  );\r\n}\r\n"],"names":["Landing","cacheBuster","chatOpen","setChatOpen","useState","greetingDismissed","setGreetingDismissed","greetingShown","setGreetingShown","useEffect","wasShown","handleStartChat","handleDismissGreeting","jsxs","Fragment","jsx","VoiceGreeting","OnboardingChatButton","OnboardingChat"],"mappings":"wUASA,SAAwBA,GAAU,CAEhC,MAAMC,EAAc,MAAM,KAAK,IAAA,CAAK,GAC9B,CAACC,EAAUC,CAAW,EAAIC,EAAAA,SAAS,EAAK,EACxC,CAACC,EAAmBC,CAAoB,EAAIF,EAAAA,SAAS,EAAK,EAC1D,CAACG,EAAeC,CAAgB,EAAIJ,EAAAA,SAAS,EAAK,EAGxDK,EAAAA,UAAU,IAAM,CACd,MAAMC,EAAW,eAAe,QAAQ,wBAAwB,IAAM,OACtEF,EAAiBE,CAAQ,CAC3B,EAAG,CAAA,CAAE,EAEL,MAAMC,EAAkB,IAAM,CAC5BL,EAAqB,EAAI,EACzBH,EAAY,EAAI,CAClB,EAEMS,EAAwB,IAAM,CAClCN,EAAqB,EAAI,CAC3B,EAEA,OACEO,EAAAA,KAAAC,WAAA,CACE,SAAA,CAAAC,EAAAA,IAAC,SAAA,CACC,IAAK,gBAAgBd,CAAW,GAChC,MAAM,kDACN,MAAO,CACL,SAAU,QACV,IAAK,EACL,KAAM,EACN,MAAO,OACP,OAAQ,OACR,OAAQ,OACR,OAAQ,EACR,QAAS,EACT,SAAU,QAAA,CACZ,CAAA,EAID,CAACC,GAAY,CAACG,GACbU,EAAAA,IAACC,EAAA,CACC,aAAc,IACd,qBAAsB,GACtB,SAAS,yBACT,SAAS,KACT,YAAaL,EACb,UAAWC,EACX,aAAcL,CAAA,CAAA,EAKjB,CAACL,GAAYG,GACZU,EAAAA,IAACE,EAAA,CAAqB,QAAS,IAAMd,EAAY,EAAI,EAAG,MAAO,EAAA,CAAM,EAIvEY,EAAAA,IAACG,EAAA,CAAe,OAAQhB,EAAU,QAAS,IAAMC,EAAY,EAAK,EAAG,SAAS,IAAA,CAAK,CAAA,EACrF,CAEJ"}