import{j as e}from"./vendor-ui-B0DL0VNC.js";import{r as n}from"./vendor-react-Dz7uKsMg.js";import{d as P,o as S,p as k,q as F}from"./cms-Bf3FZYRT.js";import{F as w}from"./PlusIcon-ByQcgXHI.js";import{F as f}from"./RectangleStackIcon-Do5oo4xk.js";import{F as E}from"./GlobeAltIcon-C8EhIKXw.js";import{F as D}from"./PencilSquareIcon-8mqFv-8U.js";import{F as T}from"./TrashIcon-DR9paOX4.js";import{F as M}from"./index-BQex3859.js";import"./vendor-charts-Cj11RBfc.js";import"./vendor-utils-L2YjCnAZ.js";import"./vendor-query-BPt-n81V.js";import"./vendor-motion-CR45sdSp.js";const j={draft:{label:"Draft",color:"text-gray-400",bg:"bg-gray-500/20"},in_review:{label:"In Review",color:"text-yellow-400",bg:"bg-yellow-500/20"},approved:{label:"Approved",color:"text-green-400",bg:"bg-green-500/20"},published:{label:"Published",color:"text-emerald-400",bg:"bg-emerald-500/20"},archived:{label:"Archived",color:"text-gray-500",bg:"bg-gray-600/20"}},R=[{value:"default",label:"Default"},{value:"full-width",label:"Full Width"},{value:"sidebar",label:"With Sidebar"},{value:"landing",label:"Landing Page"}];function J(){const{data:o,isLoading:v}=P(),d=S(),c=k(),h=F(),[N,i]=n.useState(!1),[r,m]=n.useState(null),[p,u]=n.useState(null),[l,a]=n.useState({title:"",slug:"",content:"",status:"draft",template:"default",show_in_navigation:!1,navigation_order:0}),b=(o==null?void 0:o.pages)||[],x=t=>{t?(m(t),a({title:t.title,slug:t.slug,content:t.content||"",status:t.status,meta_title:t.meta_title||"",meta_description:t.meta_description||"",template:t.template,show_in_navigation:t.show_in_navigation,navigation_label:t.navigation_label||"",navigation_order:t.navigation_order})):(m(null),a({title:"",slug:"",content:"",status:"draft",template:"default",show_in_navigation:!1,navigation_order:0})),i(!0)},y=()=>{r?c.mutate({id:r.id,data:l},{onSuccess:()=>i(!1)}):d.mutate(l,{onSuccess:()=>i(!1)})},_=t=>{h.mutate(t,{onSuccess:()=>u(null)})},C=t=>t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[-\s]+/g,"-");return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Pages"}),e.jsx("p",{className:"text-white/60 mt-1",children:"Manage static website pages"})]}),e.jsxs("button",{onClick:()=>x(),className:"flex items-center gap-2 px-4 py-2.5 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-medium transition-colors",children:[e.jsx(w,{className:"w-5 h-5"}),"New Page"]})]}),e.jsx("div",{className:"rounded-2xl bg-white/5 border border-white/10 overflow-hidden",children:v?e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-purple-500 border-t-transparent rounded-full"})}):b.length===0?e.jsxs("div",{className:"text-center py-20",children:[e.jsx(f,{className:"w-12 h-12 text-white/20 mx-auto mb-4"}),e.jsx("p",{className:"text-white/60 mb-4",children:"No pages yet"}),e.jsxs("button",{onClick:()=>x(),className:"inline-flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[e.jsx(w,{className:"w-4 h-4"}),"Create your first page"]})]}):e.jsx("div",{className:"divide-y divide-white/5",children:b.map(t=>{const s=j[t.status];return e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 hover:bg-white/5 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-cyan-500/20 to-purple-500/20 flex items-center justify-center flex-shrink-0",children:e.jsx(f,{className:"w-5 h-5 text-cyan-400"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-white font-medium truncate",children:t.title}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-white/40",children:[e.jsxs("span",{children:["/",t.slug]}),e.jsx("span",{children:"·"}),e.jsx("span",{children:t.template}),t.show_in_navigation&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"·"}),e.jsx(E,{className:"w-3 h-3 inline"}),e.jsx("span",{children:"In Nav"})]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${s.bg} ${s.color}`,children:s.label}),e.jsx("button",{onClick:()=>x(t),className:"p-1.5 text-white/40 hover:text-white transition-colors",children:e.jsx(D,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>u(t.id),className:"p-1.5 text-white/40 hover:text-red-400 transition-colors",children:e.jsx(T,{className:"w-4 h-4"})})]})]},t.id)})})}),N&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4",children:e.jsxs("div",{className:"bg-neutral-900 border border-white/10 rounded-xl w-full max-w-2xl max-h-[85vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[e.jsx("h2",{className:"text-lg font-semibold text-white",children:r?"Edit Page":"Create New Page"}),e.jsx("button",{onClick:()=>i(!1),className:"p-2 text-white/40 hover:text-white",children:e.jsx(M,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-1.5",children:"Title *"}),e.jsx("input",{type:"text",value:l.title,onChange:t=>{const s=t.target.value;a(g=>({...g,title:s,slug:g.slug||C(s)}))},className:"w-full px-4 py-2.5 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/30 focus:outline-none focus:border-purple-500/50",placeholder:"Page title"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-1.5",children:"Slug"}),e.jsx("input",{type:"text",value:l.slug,onChange:t=>a(s=>({...s,slug:t.target.value})),className:"w-full px-4 py-2.5 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/30 focus:outline-none focus:border-purple-500/50",placeholder:"page-url-slug"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-1.5",children:"Content"}),e.jsx("textarea",{value:l.content,onChange:t=>a(s=>({...s,content:t.target.value})),rows:8,className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/30 focus:outline-none focus:border-purple-500/50 resize-none",placeholder:"HTML content for the page..."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-1.5",children:"Status"}),e.jsx("select",{value:l.status,onChange:t=>a(s=>({...s,status:t.target.value})),className:"w-full px-4 py-2.5 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-purple-500/50",children:Object.entries(j).map(([t,{label:s}])=>e.jsx("option",{value:t,className:"bg-neutral-900",children:s},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-1.5",children:"Template"}),e.jsx("select",{value:l.template,onChange:t=>a(s=>({...s,template:t.target.value})),className:"w-full px-4 py-2.5 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-purple-500/50",children:R.map(t=>e.jsx("option",{value:t.value,className:"bg-neutral-900",children:t.label},t.value))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-1.5",children:"Meta Title"}),e.jsx("input",{type:"text",value:l.meta_title||"",onChange:t=>a(s=>({...s,meta_title:t.target.value})),className:"w-full px-4 py-2.5 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/30 focus:outline-none focus:border-purple-500/50",placeholder:"SEO title"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-1.5",children:"Meta Description"}),e.jsx("textarea",{value:l.meta_description||"",onChange:t=>a(s=>({...s,meta_description:t.target.value})),rows:2,className:"w-full px-4 py-2.5 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/30 focus:outline-none focus:border-purple-500/50 resize-none",placeholder:"SEO description"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:l.show_in_navigation,onChange:t=>a(s=>({...s,show_in_navigation:t.target.checked})),className:"w-4 h-4 rounded bg-white/5 border-white/20 text-purple-600 focus:ring-purple-500"}),e.jsx("span",{className:"text-sm text-white/70",children:"Show in navigation"})]}),l.show_in_navigation&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-white/70",children:"Order:"}),e.jsx("input",{type:"number",value:l.navigation_order||0,onChange:t=>a(s=>({...s,navigation_order:Number(t.target.value)})),className:"w-20 px-3 py-1.5 bg-white/5 border border-white/10 rounded-lg text-white text-sm focus:outline-none focus:border-purple-500/50"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 p-4 border-t border-white/10",children:[e.jsx("button",{onClick:()=>i(!1),className:"px-4 py-2 text-white/60 hover:text-white transition-colors",children:"Cancel"}),e.jsx("button",{onClick:y,disabled:!l.title||d.isPending||c.isPending,className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:d.isPending||c.isPending?"Saving...":r?"Update Page":"Create Page"})]})]})}),p&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60",children:e.jsxs("div",{className:"bg-neutral-900 border border-white/10 rounded-xl p-6 max-w-md w-full mx-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Delete Page"}),e.jsx("p",{className:"text-white/60 mb-6",children:"Are you sure? This action cannot be undone."}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>u(null),className:"px-4 py-2 text-white/60 hover:text-white",children:"Cancel"}),e.jsx("button",{onClick:()=>_(p),disabled:h.isPending,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium disabled:opacity-50",children:h.isPending?"Deleting...":"Delete"})]})]})})]})}export{J as default};
//# sourceMappingURL=CMSPages-CKviNnhC.js.map
