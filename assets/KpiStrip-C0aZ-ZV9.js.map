{"version":3,"file":"KpiStrip-C0aZ-ZV9.js","sources":["../../src/components/shared/TrustStatusHeader.tsx","../../src/components/shared/EmqFixPlaybookPanel.tsx","../../node_modules/@heroicons/react/24/solid/esm/ArrowDownIcon.js","../../node_modules/@heroicons/react/24/solid/esm/ArrowUpIcon.js","../../node_modules/@heroicons/react/24/solid/esm/MinusIcon.js","../../src/components/shared/KpiStrip.tsx"],"sourcesContent":["/**\r\n * Trust Status Header\r\n * Universal header component showing EMQ + band + mode + budget-at-risk\r\n * Used on ALL dashboard pages\r\n */\r\n\r\nimport { cn } from '@/lib/utils';\r\nimport { ConfidenceBandBadge, getConfidenceBand } from './ConfidenceBandBadge';\r\nimport { type AutopilotMode, AutopilotModeBanner } from './AutopilotModeBanner';\r\nimport { BudgetAtRiskChip } from './BudgetAtRiskChip';\r\nimport { VolatilityBadge } from './VolatilityBadge';\r\nimport {\r\n  ChevronRightIcon,\r\n  ShieldCheckIcon,\r\n  ShieldExclamationIcon,\r\n} from '@heroicons/react/24/outline';\r\n\r\ninterface TrustStatusHeaderProps {\r\n  emqScore: number;\r\n  autopilotMode: AutopilotMode;\r\n  budgetAtRisk: number;\r\n  svi?: number; // Signal Volatility Index\r\n  currency?: string;\r\n  onViewDetails?: () => void;\r\n  compact?: boolean;\r\n  className?: string;\r\n}\r\n\r\nfunction getEmqStatus(score: number) {\r\n  const band = getConfidenceBand(score);\r\n  if (band === 'reliable') {\r\n    return {\r\n      icon: ShieldCheckIcon,\r\n      color: 'text-success',\r\n      bgColor: 'bg-success/10',\r\n      message: 'Data is trustworthy for decision-making',\r\n    };\r\n  }\r\n  if (band === 'directional') {\r\n    return {\r\n      icon: ShieldExclamationIcon,\r\n      color: 'text-warning',\r\n      bgColor: 'bg-warning/10',\r\n      message: 'Data shows trends but may have gaps',\r\n    };\r\n  }\r\n  return {\r\n    icon: ShieldExclamationIcon,\r\n    color: 'text-danger',\r\n    bgColor: 'bg-danger/10',\r\n    message: 'Data quality too low for reliable decisions',\r\n  };\r\n}\r\n\r\nexport function TrustStatusHeader({\r\n  emqScore,\r\n  autopilotMode,\r\n  budgetAtRisk,\r\n  svi,\r\n  currency = 'USD',\r\n  onViewDetails,\r\n  compact = false,\r\n  className,\r\n}: TrustStatusHeaderProps) {\r\n  const status = getEmqStatus(emqScore);\r\n  const StatusIcon = status.icon;\r\n\r\n  if (compact) {\r\n    return (\r\n      <div\r\n        className={cn(\r\n          'flex items-center gap-4 p-3 rounded-xl bg-surface-secondary border border-white/10',\r\n          className\r\n        )}\r\n      >\r\n        <div className=\"flex items-center gap-2\">\r\n          <StatusIcon className={cn('w-5 h-5', status.color)} />\r\n          <span className=\"text-lg font-bold text-white\">{emqScore}</span>\r\n          <ConfidenceBandBadge score={emqScore} size=\"sm\" />\r\n        </div>\r\n        <div className=\"h-4 w-px bg-white/10\" />\r\n        <AutopilotModeBanner mode={autopilotMode} compact />\r\n        {budgetAtRisk > 0 && (\r\n          <>\r\n            <div className=\"h-4 w-px bg-white/10\" />\r\n            <BudgetAtRiskChip amount={budgetAtRisk} currency={currency} size=\"sm\" />\r\n          </>\r\n        )}\r\n        {svi !== undefined && (\r\n          <>\r\n            <div className=\"h-4 w-px bg-white/10\" />\r\n            <VolatilityBadge svi={svi} size=\"sm\" />\r\n          </>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={cn(\r\n        'rounded-2xl bg-surface-secondary border border-white/10 overflow-hidden',\r\n        className\r\n      )}\r\n    >\r\n      {/* Main header */}\r\n      <div className=\"p-6\">\r\n        <div className=\"flex items-start justify-between\">\r\n          <div className=\"flex items-start gap-4\">\r\n            <div className={cn('p-3 rounded-xl', status.bgColor)}>\r\n              <StatusIcon className={cn('w-6 h-6', status.color)} />\r\n            </div>\r\n            <div>\r\n              <div className=\"flex items-center gap-3\">\r\n                <h2 className=\"text-2xl font-bold text-white\">EMQ {emqScore}</h2>\r\n                <ConfidenceBandBadge score={emqScore} />\r\n              </div>\r\n              <p className=\"text-sm text-text-secondary mt-1\">{status.message}</p>\r\n            </div>\r\n          </div>\r\n\r\n          {onViewDetails && (\r\n            <button\r\n              onClick={onViewDetails}\r\n              className=\"flex items-center gap-1 text-sm text-stratum-400 hover:text-stratum-300 transition-colors\"\r\n            >\r\n              View details\r\n              <ChevronRightIcon className=\"w-4 h-4\" />\r\n            </button>\r\n          )}\r\n        </div>\r\n\r\n        {/* Stats row */}\r\n        <div className=\"flex items-center gap-6 mt-6 pt-6 border-t border-white/10\">\r\n          <div className=\"flex-1\">\r\n            <AutopilotModeBanner mode={autopilotMode} showDescription={false} compact />\r\n          </div>\r\n          {budgetAtRisk > 0 && (\r\n            <div className=\"flex items-center gap-2\">\r\n              <span className=\"text-sm text-text-muted\">Budget at Risk:</span>\r\n              <BudgetAtRiskChip amount={budgetAtRisk} currency={currency} />\r\n            </div>\r\n          )}\r\n          {svi !== undefined && (\r\n            <div className=\"flex items-center gap-2\">\r\n              <span className=\"text-sm text-text-muted\">Volatility:</span>\r\n              <VolatilityBadge svi={svi} />\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* \"Can I trust today?\" quick answer */}\r\n      <div className={cn('px-6 py-4 border-t', status.bgColor, 'border-white/10')}>\r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <span className=\"font-medium text-white\">Can I trust today?</span>\r\n            <span className={cn('font-semibold', status.color)}>\r\n              {emqScore >= 90\r\n                ? 'Yes, data is reliable'\r\n                : emqScore >= 60\r\n                  ? 'Partially, use with caution'\r\n                  : 'No, fix data issues first'}\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TrustStatusHeader;\r\n","/**\r\n * EMQ Fix Playbook Panel\r\n * Displays ranked fixes with owners and priority levels\r\n */\r\n\r\nimport { cn } from '@/lib/utils';\r\nimport {\r\n  ArrowTopRightOnSquareIcon,\r\n  CheckCircleIcon,\r\n  ClockIcon,\r\n  UserCircleIcon,\r\n  WrenchScrewdriverIcon,\r\n} from '@heroicons/react/24/outline';\r\n\r\nexport interface PlaybookItem {\r\n  id: string;\r\n  title: string;\r\n  description: string;\r\n  priority: 'critical' | 'high' | 'medium' | 'low';\r\n  owner?: string | null;\r\n  estimatedImpact: number; // Expected EMQ improvement\r\n  estimatedTime?: string | null; // e.g., \"15 min\", \"1 hour\"\r\n  platform?: string | null;\r\n  status: 'pending' | 'in_progress' | 'completed';\r\n  actionUrl?: string | null;\r\n}\r\n\r\ninterface EmqFixPlaybookPanelProps {\r\n  items: PlaybookItem[];\r\n  onItemClick?: (item: PlaybookItem) => void;\r\n  onAssign?: (item: PlaybookItem) => void;\r\n  onApply?: (item: PlaybookItem) => void;\r\n  maxItems?: number;\r\n  showEstimates?: boolean;\r\n  className?: string;\r\n}\r\n\r\nconst priorityConfig = {\r\n  critical: {\r\n    color: 'text-danger',\r\n    bgColor: 'bg-danger/10',\r\n    borderColor: 'border-danger/30',\r\n    label: 'Critical',\r\n  },\r\n  high: {\r\n    color: 'text-orange-400',\r\n    bgColor: 'bg-orange-500/10',\r\n    borderColor: 'border-orange-500/30',\r\n    label: 'High',\r\n  },\r\n  medium: {\r\n    color: 'text-warning',\r\n    bgColor: 'bg-warning/10',\r\n    borderColor: 'border-warning/30',\r\n    label: 'Medium',\r\n  },\r\n  low: {\r\n    color: 'text-text-secondary',\r\n    bgColor: 'bg-surface-tertiary',\r\n    borderColor: 'border-white/10',\r\n    label: 'Low',\r\n  },\r\n};\r\n\r\nexport function EmqFixPlaybookPanel({\r\n  items,\r\n  onItemClick,\r\n  onAssign,\r\n  onApply,\r\n  maxItems = 5,\r\n  showEstimates = true,\r\n  className,\r\n}: EmqFixPlaybookPanelProps) {\r\n  const displayItems = items.slice(0, maxItems);\r\n  const remainingCount = items.length - maxItems;\r\n\r\n  return (\r\n    <div\r\n      className={cn(\r\n        'rounded-2xl bg-surface-secondary border border-white/10 overflow-hidden',\r\n        className\r\n      )}\r\n    >\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between p-4 border-b border-white/10\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <div className=\"p-2 rounded-lg bg-stratum-500/10\">\r\n            <WrenchScrewdriverIcon className=\"w-5 h-5 text-stratum-400\" />\r\n          </div>\r\n          <div>\r\n            <h3 className=\"font-semibold text-white\">Fix Playbook</h3>\r\n            <p className=\"text-sm text-text-muted\">\r\n              {items.filter((i) => i.status === 'pending').length} fixes pending\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Items */}\r\n      <div className=\"divide-y divide-white/5\">\r\n        {displayItems.map((item, index) => {\r\n          const priority = priorityConfig[item.priority];\r\n          const isCompleted = item.status === 'completed';\r\n\r\n          return (\r\n            <div\r\n              key={item.id}\r\n              className={cn(\r\n                'p-4 transition-colors',\r\n                !isCompleted && 'hover:bg-white/5 cursor-pointer',\r\n                isCompleted && 'opacity-60'\r\n              )}\r\n              onClick={() => !isCompleted && onItemClick?.(item)}\r\n            >\r\n              <div className=\"flex items-start gap-4\">\r\n                {/* Priority number */}\r\n                <div\r\n                  className={cn(\r\n                    'flex-shrink-0 w-8 h-8 rounded-lg flex items-center justify-center font-bold text-sm',\r\n                    isCompleted ? 'bg-success/10 text-success' : priority.bgColor,\r\n                    isCompleted ? '' : priority.color\r\n                  )}\r\n                >\r\n                  {isCompleted ? <CheckCircleIcon className=\"w-5 h-5\" /> : index + 1}\r\n                </div>\r\n\r\n                {/* Content */}\r\n                <div className=\"flex-1 min-w-0\">\r\n                  <div className=\"flex items-start justify-between gap-2\">\r\n                    <div>\r\n                      <h4\r\n                        className={cn(\r\n                          'font-medium',\r\n                          isCompleted ? 'text-text-muted line-through' : 'text-white'\r\n                        )}\r\n                      >\r\n                        {item.title}\r\n                      </h4>\r\n                      <p className=\"text-sm text-text-muted mt-0.5 line-clamp-2\">\r\n                        {item.description}\r\n                      </p>\r\n                    </div>\r\n\r\n                    {/* Priority badge */}\r\n                    <span\r\n                      className={cn(\r\n                        'flex-shrink-0 text-xs px-2 py-0.5 rounded-full',\r\n                        priority.bgColor,\r\n                        priority.color\r\n                      )}\r\n                    >\r\n                      {priority.label}\r\n                    </span>\r\n                  </div>\r\n\r\n                  {/* Meta row */}\r\n                  <div className=\"flex items-center gap-4 mt-3\">\r\n                    {item.owner ? (\r\n                      <div className=\"flex items-center gap-1.5 text-xs text-text-muted\">\r\n                        <UserCircleIcon className=\"w-4 h-4\" />\r\n                        <span>{item.owner}</span>\r\n                      </div>\r\n                    ) : (\r\n                      <button\r\n                        onClick={(e) => {\r\n                          e.stopPropagation();\r\n                          onAssign?.(item);\r\n                        }}\r\n                        className=\"flex items-center gap-1.5 text-xs text-stratum-400 hover:text-stratum-300\"\r\n                      >\r\n                        <UserCircleIcon className=\"w-4 h-4\" />\r\n                        <span>Assign</span>\r\n                      </button>\r\n                    )}\r\n\r\n                    {showEstimates && item.estimatedTime && (\r\n                      <div className=\"flex items-center gap-1.5 text-xs text-text-muted\">\r\n                        <ClockIcon className=\"w-4 h-4\" />\r\n                        <span>{item.estimatedTime}</span>\r\n                      </div>\r\n                    )}\r\n\r\n                    {showEstimates && (\r\n                      <div className=\"flex items-center gap-1 text-xs text-success\">\r\n                        <span>+{item.estimatedImpact} EMQ</span>\r\n                      </div>\r\n                    )}\r\n\r\n                    {item.platform && (\r\n                      <span className=\"text-xs text-text-muted bg-surface-tertiary px-2 py-0.5 rounded\">\r\n                        {item.platform}\r\n                      </span>\r\n                    )}\r\n\r\n                    {item.actionUrl && (\r\n                      <a\r\n                        href={item.actionUrl}\r\n                        target=\"_blank\"\r\n                        rel=\"noopener noreferrer\"\r\n                        onClick={(e) => e.stopPropagation()}\r\n                        className=\"flex items-center gap-1 text-xs text-stratum-400 hover:text-stratum-300\"\r\n                      >\r\n                        <ArrowTopRightOnSquareIcon className=\"w-3.5 h-3.5\" />\r\n                      </a>\r\n                    )}\r\n\r\n                    {/* Apply button */}\r\n                    {!isCompleted && onApply && (\r\n                      <button\r\n                        onClick={(e) => {\r\n                          e.stopPropagation();\r\n                          onApply(item);\r\n                        }}\r\n                        className=\"ml-auto px-3 py-1 text-xs font-medium rounded-lg bg-stratum-500 text-white hover:bg-stratum-600 transition-colors\"\r\n                      >\r\n                        Apply Fix\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n\r\n      {/* Footer - show more */}\r\n      {remainingCount > 0 && (\r\n        <div className=\"p-4 border-t border-white/10\">\r\n          <button className=\"text-sm text-stratum-400 hover:text-stratum-300 transition-colors\">\r\n            View {remainingCount} more fixes\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EmqFixPlaybookPanel;\r\n","import * as React from \"react\";\nfunction ArrowDownIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M12 2.25a.75.75 0 0 1 .75.75v16.19l6.22-6.22a.75.75 0 1 1 1.06 1.06l-7.5 7.5a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 1 1 1.06-1.06l6.22 6.22V3a.75.75 0 0 1 .75-.75Z\",\n    clipRule: \"evenodd\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ArrowDownIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction ArrowUpIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M11.47 2.47a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 1 1-1.06 1.06l-6.22-6.22V21a.75.75 0 0 1-1.5 0V4.81l-6.22 6.22a.75.75 0 1 1-1.06-1.06l7.5-7.5Z\",\n    clipRule: \"evenodd\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ArrowUpIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction MinusIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M4.25 12a.75.75 0 0 1 .75-.75h14a.75.75 0 0 1 0 1.5H5a.75.75 0 0 1-.75-.75Z\",\n    clipRule: \"evenodd\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(MinusIcon);\nexport default ForwardRef;","/**\r\n * KPI Strip\r\n * Displays a row of KPIs with confidence stamps\r\n */\r\n\r\nimport { cn } from '@/lib/utils';\r\nimport { ConfidenceBandBadge, getConfidenceBand } from './ConfidenceBandBadge';\r\nimport { ArrowDownIcon, ArrowUpIcon, MinusIcon } from '@heroicons/react/24/solid';\r\n\r\nexport interface Kpi {\r\n  id: string;\r\n  label: string;\r\n  value: number | string;\r\n  format?: 'currency' | 'percentage' | 'number' | 'multiplier' | 'raw';\r\n  previousValue?: number;\r\n  confidence?: number; // 0-100\r\n  trend?: 'up' | 'down' | 'flat';\r\n  trendIsPositive?: boolean; // If false, \"up\" trend is bad (e.g., CPA going up)\r\n  unit?: string;\r\n  currency?: string;\r\n}\r\n\r\ninterface KpiStripProps {\r\n  kpis: Kpi[];\r\n  emqScore?: number; // Overall EMQ score for stamp\r\n  showConfidence?: boolean;\r\n  compact?: boolean;\r\n  className?: string;\r\n}\r\n\r\nfunction formatValue(kpi: Kpi): string {\r\n  const value = typeof kpi.value === 'string' ? kpi.value : kpi.value;\r\n\r\n  if (typeof value === 'string') return value;\r\n\r\n  switch (kpi.format) {\r\n    case 'currency':\r\n      return new Intl.NumberFormat('en-US', {\r\n        style: 'currency',\r\n        currency: kpi.currency || 'USD',\r\n        minimumFractionDigits: 0,\r\n        maximumFractionDigits: 0,\r\n      }).format(value);\r\n    case 'percentage':\r\n      return `${value.toFixed(1)}%`;\r\n    case 'multiplier':\r\n      return `${value.toFixed(2)}x`;\r\n    case 'number':\r\n      return new Intl.NumberFormat('en-US', {\r\n        notation: value > 999999 ? 'compact' : 'standard',\r\n        maximumFractionDigits: 1,\r\n      }).format(value);\r\n    default:\r\n      return String(value);\r\n  }\r\n}\r\n\r\nfunction calculateChange(current: number, previous: number): number {\r\n  if (previous === 0) return 0;\r\n  return ((current - previous) / previous) * 100;\r\n}\r\n\r\nfunction KpiItem({\r\n  kpi,\r\n  showConfidence,\r\n  compact,\r\n}: {\r\n  kpi: Kpi;\r\n  showConfidence: boolean;\r\n  compact: boolean;\r\n}) {\r\n  const change =\r\n    kpi.previousValue !== undefined && typeof kpi.value === 'number'\r\n      ? calculateChange(kpi.value, kpi.previousValue)\r\n      : null;\r\n\r\n  const trend =\r\n    kpi.trend || (change !== null ? (change > 0 ? 'up' : change < 0 ? 'down' : 'flat') : undefined);\r\n\r\n  const isTrendPositive = kpi.trendIsPositive !== false ? trend === 'up' : trend === 'down';\r\n\r\n  const TrendIcon = trend === 'up' ? ArrowUpIcon : trend === 'down' ? ArrowDownIcon : MinusIcon;\r\n\r\n  return (\r\n    <div className={cn('flex flex-col', compact ? 'gap-0.5' : 'gap-1')}>\r\n      {/* Label with confidence */}\r\n      <div className=\"flex items-center gap-1.5\">\r\n        <span className={cn('text-text-muted', compact ? 'text-xs' : 'text-sm')}>{kpi.label}</span>\r\n        {showConfidence && kpi.confidence !== undefined && (\r\n          <ConfidenceBandBadge score={kpi.confidence} size=\"sm\" showLabel={false} />\r\n        )}\r\n      </div>\r\n\r\n      {/* Value */}\r\n      <div className=\"flex items-baseline gap-2\">\r\n        <span className={cn('font-semibold text-white', compact ? 'text-lg' : 'text-2xl')}>\r\n          {formatValue(kpi)}\r\n        </span>\r\n        {kpi.unit && <span className=\"text-sm text-text-muted\">{kpi.unit}</span>}\r\n      </div>\r\n\r\n      {/* Trend */}\r\n      {change !== null && trend && (\r\n        <div\r\n          className={cn(\r\n            'flex items-center gap-1',\r\n            compact ? 'text-xs' : 'text-sm',\r\n            isTrendPositive ? 'text-success' : trend === 'flat' ? 'text-text-muted' : 'text-danger'\r\n          )}\r\n        >\r\n          <TrendIcon className=\"w-3 h-3\" />\r\n          <span>{Math.abs(change).toFixed(1)}%</span>\r\n          <span className=\"text-text-muted\">vs prev</span>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function KpiStrip({\r\n  kpis,\r\n  emqScore,\r\n  showConfidence = true,\r\n  compact = false,\r\n  className,\r\n}: KpiStripProps) {\r\n  const band = emqScore !== undefined ? getConfidenceBand(emqScore) : null;\r\n\r\n  return (\r\n    <div className={cn('rounded-xl bg-surface-secondary border border-white/10', className)}>\r\n      {/* Header with EMQ stamp */}\r\n      {band && (\r\n        <div\r\n          className={cn(\r\n            'flex items-center justify-between px-4 py-2 border-b border-white/10',\r\n            band === 'reliable' && 'bg-success/5',\r\n            band === 'directional' && 'bg-warning/5',\r\n            band === 'unsafe' && 'bg-danger/5'\r\n          )}\r\n        >\r\n          <span\r\n            className={cn(\r\n              'text-xs font-medium',\r\n              band === 'reliable' && 'text-success',\r\n              band === 'directional' && 'text-warning',\r\n              band === 'unsafe' && 'text-danger'\r\n            )}\r\n          >\r\n            {band === 'reliable'\r\n              ? 'Reliable metrics'\r\n              : band === 'directional'\r\n                ? 'Directional metrics'\r\n                : 'Low confidence metrics'}\r\n          </span>\r\n          <ConfidenceBandBadge score={emqScore!} size=\"sm\" />\r\n        </div>\r\n      )}\r\n\r\n      {/* KPIs grid */}\r\n      <div\r\n        className={cn(\r\n          'grid gap-4',\r\n          compact ? 'p-3' : 'p-4',\r\n          kpis.length === 2 && 'grid-cols-2',\r\n          kpis.length === 3 && 'grid-cols-3',\r\n          kpis.length === 4 && 'grid-cols-2 md:grid-cols-4',\r\n          kpis.length >= 5 && 'grid-cols-2 md:grid-cols-3 lg:grid-cols-5'\r\n        )}\r\n      >\r\n        {kpis.map((kpi) => (\r\n          <KpiItem\r\n            key={kpi.id}\r\n            kpi={kpi}\r\n            showConfidence={showConfidence && !band}\r\n            compact={compact}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default KpiStrip;\r\n"],"names":["getEmqStatus","score","band","getConfidenceBand","ShieldCheckIcon","ShieldExclamationIcon","TrustStatusHeader","emqScore","autopilotMode","budgetAtRisk","svi","currency","onViewDetails","compact","className","status","StatusIcon","jsxs","cn","jsx","ConfidenceBandBadge","AutopilotModeBanner","Fragment","BudgetAtRiskChip","VolatilityBadge","ChevronRightIcon","priorityConfig","EmqFixPlaybookPanel","items","onItemClick","onAssign","onApply","maxItems","showEstimates","displayItems","remainingCount","WrenchScrewdriverIcon","i","item","index","priority","isCompleted","CheckCircleIcon","UserCircleIcon","e","ClockIcon","ArrowTopRightOnSquareIcon","ArrowDownIcon","title","titleId","props","svgRef","React.createElement","ForwardRef","React.forwardRef","ArrowUpIcon","MinusIcon","formatValue","kpi","value","calculateChange","current","previous","KpiItem","showConfidence","change","trend","isTrendPositive","TrendIcon","KpiStrip","kpis"],"mappings":"ofA4BA,SAASA,EAAaC,EAAe,CACnC,MAAMC,EAAOC,EAAkBF,CAAK,EACpC,OAAIC,IAAS,WACJ,CACL,KAAME,EACN,MAAO,eACP,QAAS,gBACT,QAAS,yCAAA,EAGTF,IAAS,cACJ,CACL,KAAMG,EACN,MAAO,eACP,QAAS,gBACT,QAAS,qCAAA,EAGN,CACL,KAAMA,EACN,MAAO,cACP,QAAS,eACT,QAAS,6CAAA,CAEb,CAEO,SAASC,EAAkB,CAChC,SAAAC,EACA,cAAAC,EACA,aAAAC,EACA,IAAAC,EACA,SAAAC,EAAW,MACX,cAAAC,EACA,QAAAC,EAAU,GACV,UAAAC,CACF,EAA2B,CACzB,MAAMC,EAASf,EAAaO,CAAQ,EAC9BS,EAAaD,EAAO,KAE1B,OAAIF,EAEAI,EAAAA,KAAC,MAAA,CACC,UAAWC,EACT,qFACAJ,CAAA,EAGF,SAAA,CAAAG,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAE,MAACH,GAAW,UAAWE,EAAG,UAAWH,EAAO,KAAK,EAAG,EACpDI,EAAAA,IAAC,OAAA,CAAK,UAAU,+BAAgC,SAAAZ,EAAS,EACzDY,EAAAA,IAACC,EAAA,CAAoB,MAAOb,EAAU,KAAK,IAAA,CAAK,CAAA,EAClD,EACAY,EAAAA,IAAC,MAAA,CAAI,UAAU,sBAAA,CAAuB,EACtCA,EAAAA,IAACE,EAAA,CAAoB,KAAMb,EAAe,QAAO,GAAC,EACjDC,EAAe,GACdQ,EAAAA,KAAAK,EAAAA,SAAA,CACE,SAAA,CAAAH,EAAAA,IAAC,MAAA,CAAI,UAAU,sBAAA,CAAuB,QACrCI,EAAA,CAAiB,OAAQd,EAAc,SAAAE,EAAoB,KAAK,IAAA,CAAK,CAAA,EACxE,EAEDD,IAAQ,QACPO,EAAAA,KAAAK,EAAAA,SAAA,CACE,SAAA,CAAAH,EAAAA,IAAC,MAAA,CAAI,UAAU,sBAAA,CAAuB,EACtCA,EAAAA,IAACK,EAAA,CAAgB,IAAAd,EAAU,KAAK,IAAA,CAAK,CAAA,CAAA,CACvC,CAAA,CAAA,CAAA,EAONO,EAAAA,KAAC,MAAA,CACC,UAAWC,EACT,0EACAJ,CAAA,EAIF,SAAA,CAAAG,EAAAA,KAAC,MAAA,CAAI,UAAU,MACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,mCACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,yBACb,SAAA,CAAAE,MAAC,MAAA,CAAI,UAAWD,EAAG,iBAAkBH,EAAO,OAAO,EACjD,SAAAI,EAAAA,IAACH,EAAA,CAAW,UAAWE,EAAG,UAAWH,EAAO,KAAK,EAAG,EACtD,SACC,MAAA,CACC,SAAA,CAAAE,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAA,EAAAA,KAAC,KAAA,CAAG,UAAU,gCAAgC,SAAA,CAAA,OAAKV,CAAA,EAAS,EAC5DY,EAAAA,IAACC,EAAA,CAAoB,MAAOb,CAAA,CAAU,CAAA,EACxC,EACAY,EAAAA,IAAC,IAAA,CAAE,UAAU,mCAAoC,WAAO,OAAA,CAAQ,CAAA,CAAA,CAClE,CAAA,EACF,EAECP,GACCK,EAAAA,KAAC,SAAA,CACC,QAASL,EACT,UAAU,4FACX,SAAA,CAAA,eAECO,EAAAA,IAACM,EAAA,CAAiB,UAAU,SAAA,CAAU,CAAA,CAAA,CAAA,CACxC,EAEJ,EAGAR,EAAAA,KAAC,MAAA,CAAI,UAAU,6DACb,SAAA,CAAAE,EAAAA,IAAC,MAAA,CAAI,UAAU,SACb,SAAAA,EAAAA,IAACE,EAAA,CAAoB,KAAMb,EAAe,gBAAiB,GAAO,QAAO,EAAA,CAAC,EAC5E,EACCC,EAAe,GACdQ,OAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAE,EAAAA,IAAC,OAAA,CAAK,UAAU,0BAA0B,SAAA,kBAAe,EACzDA,EAAAA,IAACI,EAAA,CAAiB,OAAQd,EAAc,SAAAE,CAAA,CAAoB,CAAA,EAC9D,EAEDD,IAAQ,QACPO,OAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAE,EAAAA,IAAC,OAAA,CAAK,UAAU,0BAA0B,SAAA,cAAW,EACrDA,MAACK,GAAgB,IAAAd,CAAA,CAAU,CAAA,CAAA,CAC7B,CAAA,CAAA,CAEJ,CAAA,EACF,QAGC,MAAA,CAAI,UAAWQ,EAAG,qBAAsBH,EAAO,QAAS,iBAAiB,EACxE,SAAAI,EAAAA,IAAC,OAAI,UAAU,oCACb,SAAAF,OAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAE,EAAAA,IAAC,OAAA,CAAK,UAAU,yBAAyB,SAAA,qBAAkB,EAC3DA,EAAAA,IAAC,OAAA,CAAK,UAAWD,EAAG,gBAAiBH,EAAO,KAAK,EAC9C,SAAAR,GAAY,GACT,wBACAA,GAAY,GACV,8BACA,2BAAA,CACR,CAAA,CAAA,CACF,EACF,CAAA,CACF,CAAA,CAAA,CAAA,CAGN,CCpIA,MAAMmB,EAAiB,CACrB,SAAU,CACR,MAAO,cACP,QAAS,eACT,YAAa,mBACb,MAAO,UAAA,EAET,KAAM,CACJ,MAAO,kBACP,QAAS,mBACT,YAAa,uBACb,MAAO,MAAA,EAET,OAAQ,CACN,MAAO,eACP,QAAS,gBACT,YAAa,oBACb,MAAO,QAAA,EAET,IAAK,CACH,MAAO,sBACP,QAAS,sBACT,YAAa,kBACb,MAAO,KAAA,CAEX,EAEO,SAASC,EAAoB,CAClC,MAAAC,EACA,YAAAC,EACA,SAAAC,EACA,QAAAC,EACA,SAAAC,EAAW,EACX,cAAAC,EAAgB,GAChB,UAAAnB,CACF,EAA6B,CAC3B,MAAMoB,EAAeN,EAAM,MAAM,EAAGI,CAAQ,EACtCG,EAAiBP,EAAM,OAASI,EAEtC,OACEf,EAAAA,KAAC,MAAA,CACC,UAAWC,EACT,0EACAJ,CAAA,EAIF,SAAA,CAAAK,EAAAA,IAAC,OAAI,UAAU,iEACb,SAAAF,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAE,EAAAA,IAAC,OAAI,UAAU,mCACb,eAACiB,EAAA,CAAsB,UAAU,2BAA2B,CAAA,CAC9D,SACC,MAAA,CACC,SAAA,CAAAjB,EAAAA,IAAC,KAAA,CAAG,UAAU,2BAA2B,SAAA,eAAY,EACrDF,EAAAA,KAAC,IAAA,CAAE,UAAU,0BACV,SAAA,CAAAW,EAAM,OAAQS,GAAMA,EAAE,SAAW,SAAS,EAAE,OAAO,gBAAA,CAAA,CACtD,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CACF,EAGAlB,MAAC,OAAI,UAAU,0BACZ,WAAa,IAAI,CAACmB,EAAMC,IAAU,CACjC,MAAMC,EAAWd,EAAeY,EAAK,QAAQ,EACvCG,EAAcH,EAAK,SAAW,YAEpC,OACEnB,EAAAA,IAAC,MAAA,CAEC,UAAWD,EACT,wBACA,CAACuB,GAAe,kCAChBA,GAAe,YAAA,EAEjB,QAAS,IAAM,CAACA,IAAeZ,GAAA,YAAAA,EAAcS,IAE7C,SAAArB,EAAAA,KAAC,MAAA,CAAI,UAAU,yBAEb,SAAA,CAAAE,EAAAA,IAAC,MAAA,CACC,UAAWD,EACT,sFACAuB,EAAc,6BAA+BD,EAAS,QACtDC,EAAc,GAAKD,EAAS,KAAA,EAG7B,WAAcrB,EAAAA,IAACuB,EAAA,CAAgB,UAAU,SAAA,CAAU,EAAKH,EAAQ,CAAA,CAAA,EAInEtB,EAAAA,KAAC,MAAA,CAAI,UAAU,iBACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAE,EAAAA,IAAC,KAAA,CACC,UAAWD,EACT,cACAuB,EAAc,+BAAiC,YAAA,EAGhD,SAAAH,EAAK,KAAA,CAAA,EAERnB,EAAAA,IAAC,IAAA,CAAE,UAAU,8CACV,WAAK,WAAA,CACR,CAAA,EACF,EAGAA,EAAAA,IAAC,OAAA,CACC,UAAWD,EACT,iDACAsB,EAAS,QACTA,EAAS,KAAA,EAGV,SAAAA,EAAS,KAAA,CAAA,CACZ,EACF,EAGAvB,EAAAA,KAAC,MAAA,CAAI,UAAU,+BACZ,SAAA,CAAAqB,EAAK,MACJrB,OAAC,MAAA,CAAI,UAAU,oDACb,SAAA,CAAAE,EAAAA,IAACwB,EAAA,CAAe,UAAU,SAAA,CAAU,EACpCxB,EAAAA,IAAC,OAAA,CAAM,SAAAmB,EAAK,KAAA,CAAM,CAAA,CAAA,CACpB,EAEArB,EAAAA,KAAC,SAAA,CACC,QAAU2B,GAAM,CACdA,EAAE,gBAAA,EACFd,GAAA,MAAAA,EAAWQ,EACb,EACA,UAAU,4EAEV,SAAA,CAAAnB,EAAAA,IAACwB,EAAA,CAAe,UAAU,SAAA,CAAU,EACpCxB,EAAAA,IAAC,QAAK,SAAA,QAAA,CAAM,CAAA,CAAA,CAAA,EAIfc,GAAiBK,EAAK,eACrBrB,EAAAA,KAAC,MAAA,CAAI,UAAU,oDACb,SAAA,CAAAE,EAAAA,IAAC0B,EAAA,CAAU,UAAU,SAAA,CAAU,EAC/B1B,EAAAA,IAAC,OAAA,CAAM,SAAAmB,EAAK,aAAA,CAAc,CAAA,EAC5B,EAGDL,GACCd,EAAAA,IAAC,MAAA,CAAI,UAAU,+CACb,gBAAC,OAAA,CAAK,SAAA,CAAA,IAAEmB,EAAK,gBAAgB,MAAA,CAAA,CAAI,CAAA,CACnC,EAGDA,EAAK,UACJnB,EAAAA,IAAC,QAAK,UAAU,kEACb,WAAK,SACR,EAGDmB,EAAK,WACJnB,EAAAA,IAAC,IAAA,CACC,KAAMmB,EAAK,UACX,OAAO,SACP,IAAI,sBACJ,QAAUM,GAAMA,EAAE,gBAAA,EAClB,UAAU,0EAEV,SAAAzB,EAAAA,IAAC2B,EAAA,CAA0B,UAAU,aAAA,CAAc,CAAA,CAAA,EAKtD,CAACL,GAAeV,GACfZ,EAAAA,IAAC,SAAA,CACC,QAAUyB,GAAM,CACdA,EAAE,gBAAA,EACFb,EAAQO,CAAI,CACd,EACA,UAAU,oHACX,SAAA,WAAA,CAAA,CAED,CAAA,CAEJ,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,EAlHKA,EAAK,EAAA,CAqHhB,CAAC,CAAA,CACH,EAGCH,EAAiB,GAChBhB,EAAAA,IAAC,MAAA,CAAI,UAAU,+BACb,SAAAF,EAAAA,KAAC,SAAA,CAAO,UAAU,oEAAoE,SAAA,CAAA,QAC9EkB,EAAe,aAAA,CAAA,CACvB,CAAA,CACF,CAAA,CAAA,CAAA,CAIR,CC3OA,SAASY,EAAc,CACrB,MAAAC,EACA,QAAAC,EACA,GAAGC,CACL,EAAGC,EAAQ,CACT,OAAoBC,gBAAoB,MAAO,OAAO,OAAO,CAC3D,MAAO,6BACP,QAAS,YACT,KAAM,eACN,cAAe,OACf,YAAa,OACb,IAAKD,EACL,kBAAmBF,CACvB,EAAKC,CAAK,EAAGF,EAAqBI,EAAAA,cAAoB,QAAS,CAC3D,GAAIH,CACR,EAAKD,CAAK,EAAI,KAAmBI,EAAAA,cAAoB,OAAQ,CACzD,SAAU,UACV,EAAG,qKACH,SAAU,SACd,CAAG,CAAC,CACJ,CACA,MAAMC,EAA2BC,EAAAA,WAAiBP,CAAa,ECrB/D,SAASQ,EAAY,CACnB,MAAAP,EACA,QAAAC,EACA,GAAGC,CACL,EAAGC,EAAQ,CACT,OAAoBC,gBAAoB,MAAO,OAAO,OAAO,CAC3D,MAAO,6BACP,QAAS,YACT,KAAM,eACN,cAAe,OACf,YAAa,OACb,IAAKD,EACL,kBAAmBF,CACvB,EAAKC,CAAK,EAAGF,EAAqBI,EAAAA,cAAoB,QAAS,CAC3D,GAAIH,CACR,EAAKD,CAAK,EAAI,KAAmBI,EAAAA,cAAoB,OAAQ,CACzD,SAAU,UACV,EAAG,kJACH,SAAU,SACd,CAAG,CAAC,CACJ,CACA,MAAMC,EAA2BC,EAAAA,WAAiBC,CAAW,ECrB7D,SAASC,EAAU,CACjB,MAAAR,EACA,QAAAC,EACA,GAAGC,CACL,EAAGC,EAAQ,CACT,OAAoBC,gBAAoB,MAAO,OAAO,OAAO,CAC3D,MAAO,6BACP,QAAS,YACT,KAAM,eACN,cAAe,OACf,YAAa,OACb,IAAKD,EACL,kBAAmBF,CACvB,EAAKC,CAAK,EAAGF,EAAqBI,EAAAA,cAAoB,QAAS,CAC3D,GAAIH,CACR,EAAKD,CAAK,EAAI,KAAmBI,EAAAA,cAAoB,OAAQ,CACzD,SAAU,UACV,EAAG,8EACH,SAAU,SACd,CAAG,CAAC,CACJ,CACA,MAAMC,EAA2BC,EAAAA,WAAiBE,CAAS,ECQ3D,SAASC,EAAYC,EAAkB,CACrC,MAAMC,GAAQ,OAAOD,EAAI,OAAU,SAAWA,EAAI,OAElD,GAAI,OAAOC,GAAU,SAAU,OAAOA,EAEtC,OAAQD,EAAI,OAAA,CACV,IAAK,WACH,OAAO,IAAI,KAAK,aAAa,QAAS,CACpC,MAAO,WACP,SAAUA,EAAI,UAAY,MAC1B,sBAAuB,EACvB,sBAAuB,CAAA,CACxB,EAAE,OAAOC,CAAK,EACjB,IAAK,aACH,MAAO,GAAGA,EAAM,QAAQ,CAAC,CAAC,IAC5B,IAAK,aACH,MAAO,GAAGA,EAAM,QAAQ,CAAC,CAAC,IAC5B,IAAK,SACH,OAAO,IAAI,KAAK,aAAa,QAAS,CACpC,SAAUA,EAAQ,OAAS,UAAY,WACvC,sBAAuB,CAAA,CACxB,EAAE,OAAOA,CAAK,EACjB,QACE,OAAO,OAAOA,CAAK,CAAA,CAEzB,CAEA,SAASC,EAAgBC,EAAiBC,EAA0B,CAClE,OAAIA,IAAa,EAAU,GAClBD,EAAUC,GAAYA,EAAY,GAC7C,CAEA,SAASC,EAAQ,CACf,IAAAL,EACA,eAAAM,EACA,QAAAnD,CACF,EAIG,CACD,MAAMoD,EACJP,EAAI,gBAAkB,QAAa,OAAOA,EAAI,OAAU,SACpDE,EAAgBF,EAAI,MAAOA,EAAI,aAAa,EAC5C,KAEAQ,EACJR,EAAI,QAAUO,IAAW,KAAQA,EAAS,EAAI,KAAOA,EAAS,EAAI,OAAS,OAAU,QAEjFE,EAAkBT,EAAI,kBAAoB,GAAQQ,IAAU,KAAOA,IAAU,OAE7EE,EAAYF,IAAU,KAAOX,EAAcW,IAAU,OAASnB,EAAgBS,EAEpF,OACEvC,OAAC,OAAI,UAAWC,EAAG,gBAAiBL,EAAU,UAAY,OAAO,EAE/D,SAAA,CAAAI,EAAAA,KAAC,MAAA,CAAI,UAAU,4BACb,SAAA,CAAAE,EAAAA,IAAC,OAAA,CAAK,UAAWD,EAAG,kBAAmBL,EAAU,UAAY,SAAS,EAAI,SAAA6C,EAAI,KAAA,CAAM,EACnFM,GAAkBN,EAAI,aAAe,QACpCvC,EAAAA,IAACC,EAAA,CAAoB,MAAOsC,EAAI,WAAY,KAAK,KAAK,UAAW,EAAA,CAAO,CAAA,EAE5E,EAGAzC,EAAAA,KAAC,MAAA,CAAI,UAAU,4BACb,SAAA,CAAAE,EAAAA,IAAC,OAAA,CAAK,UAAWD,EAAG,2BAA4BL,EAAU,UAAY,UAAU,EAC7E,SAAA4C,EAAYC,CAAG,CAAA,CAClB,EACCA,EAAI,MAAQvC,EAAAA,IAAC,QAAK,UAAU,0BAA2B,WAAI,IAAA,CAAK,CAAA,EACnE,EAGC8C,IAAW,MAAQC,GAClBjD,EAAAA,KAAC,MAAA,CACC,UAAWC,EACT,0BACAL,EAAU,UAAY,UACtBsD,EAAkB,eAAiBD,IAAU,OAAS,kBAAoB,aAAA,EAG5E,SAAA,CAAA/C,EAAAA,IAACiD,EAAA,CAAU,UAAU,SAAA,CAAU,SAC9B,OAAA,CAAM,SAAA,CAAA,KAAK,IAAIH,CAAM,EAAE,QAAQ,CAAC,EAAE,GAAA,EAAC,EACpC9C,EAAAA,IAAC,OAAA,CAAK,UAAU,kBAAkB,SAAA,SAAA,CAAO,CAAA,CAAA,CAAA,CAC3C,EAEJ,CAEJ,CAEO,SAASkD,EAAS,CACvB,KAAAC,EACA,SAAA/D,EACA,eAAAyD,EAAiB,GACjB,QAAAnD,EAAU,GACV,UAAAC,CACF,EAAkB,CAChB,MAAMZ,EAAOK,IAAa,OAAYJ,EAAkBI,CAAQ,EAAI,KAEpE,cACG,MAAA,CAAI,UAAWW,EAAG,yDAA0DJ,CAAS,EAEnF,SAAA,CAAAZ,GACCe,EAAAA,KAAC,MAAA,CACC,UAAWC,EACT,uEACAhB,IAAS,YAAc,eACvBA,IAAS,eAAiB,eAC1BA,IAAS,UAAY,aAAA,EAGvB,SAAA,CAAAiB,EAAAA,IAAC,OAAA,CACC,UAAWD,EACT,sBACAhB,IAAS,YAAc,eACvBA,IAAS,eAAiB,eAC1BA,IAAS,UAAY,aAAA,EAGtB,SAAAA,IAAS,WACN,mBACAA,IAAS,cACP,sBACA,wBAAA,CAAA,EAERiB,EAAAA,IAACC,EAAA,CAAoB,MAAOb,EAAW,KAAK,IAAA,CAAK,CAAA,CAAA,CAAA,EAKrDY,EAAAA,IAAC,MAAA,CACC,UAAWD,EACT,aACAL,EAAU,MAAQ,MAClByD,EAAK,SAAW,GAAK,cACrBA,EAAK,SAAW,GAAK,cACrBA,EAAK,SAAW,GAAK,6BACrBA,EAAK,QAAU,GAAK,2CAAA,EAGrB,SAAAA,EAAK,IAAKZ,GACTvC,EAAAA,IAAC4C,EAAA,CAEC,IAAAL,EACA,eAAgBM,GAAkB,CAAC9D,EACnC,QAAAW,CAAA,EAHK6C,EAAI,EAAA,CAKZ,CAAA,CAAA,CACH,EACF,CAEJ","x_google_ignoreList":[2,3,4]}