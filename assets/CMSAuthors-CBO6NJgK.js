import{j as e}from"./vendor-ui-B0DL0VNC.js";import{r as o}from"./vendor-react-Dz7uKsMg.js";import{c as _,m as k,H as C,n as A}from"./cms-Bf3FZYRT.js";import{F as g}from"./PlusIcon-ByQcgXHI.js";import{F as S}from"./UserCircleIcon-C5qf10f0.js";import{F}from"./PencilSquareIcon-8mqFv-8U.js";import{F as D}from"./TrashIcon-DR9paOX4.js";import{F as E}from"./index-BQex3859.js";import"./vendor-charts-Cj11RBfc.js";import"./vendor-utils-L2YjCnAZ.js";import"./vendor-query-BPt-n81V.js";import"./vendor-motion-CR45sdSp.js";function G(){const{data:d,isLoading:f}=_(),c=k(),h=C(),u=A(),[j,r]=o.useState(!1),[a,p]=o.useState(null),[b,m]=o.useState(null),[s,i]=o.useState({name:"",slug:"",email:"",bio:"",avatar_url:"",job_title:"",company:"",twitter_handle:"",linkedin_url:"",website_url:"",is_active:!0}),n=(d==null?void 0:d.authors)||[],x=t=>{t?(p(t),i({name:t.name,slug:t.slug,email:t.email||"",bio:t.bio||"",avatar_url:t.avatar_url||"",job_title:t.job_title||"",company:t.company||"",twitter_handle:t.twitter_handle||"",linkedin_url:t.linkedin_url||"",github_handle:t.github_handle||"",website_url:t.website_url||"",is_active:t.is_active})):(p(null),i({name:"",slug:"",email:"",bio:"",avatar_url:"",job_title:"",company:"",twitter_handle:"",linkedin_url:"",website_url:"",is_active:!0})),r(!0)},v=()=>{a?h.mutate({id:a.id,data:s},{onSuccess:()=>r(!1)}):c.mutate(s,{onSuccess:()=>r(!1)})},N=t=>{u.mutate(t,{onSuccess:()=>m(null)})},y=t=>t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[-\s]+/g,"-");return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Authors"}),e.jsxs("p",{className:"text-white/60 mt-1",children:[n.length," author",n.length!==1?"s":""]})]}),e.jsxs("button",{onClick:()=>x(),className:"flex items-center gap-2 px-4 py-2.5 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-medium transition-colors",children:[e.jsx(g,{className:"w-5 h-5"}),"New Author"]})]}),f?e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-purple-500 border-t-transparent rounded-full"})}):n.length===0?e.jsxs("div",{className:"rounded-2xl bg-white/5 border border-white/10 text-center py-20",children:[e.jsx(S,{className:"w-12 h-12 text-white/20 mx-auto mb-4"}),e.jsx("p",{className:"text-white/60 mb-4",children:"No authors yet"}),e.jsxs("button",{onClick:()=>x(),className:"inline-flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[e.jsx(g,{className:"w-4 h-4"}),"Add your first author"]})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(t=>e.jsxs("div",{className:"rounded-2xl bg-white/5 border border-white/10 p-6 hover:border-white/20 transition-all group",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[t.avatar_url?e.jsx("img",{src:t.avatar_url,alt:t.name,className:"w-14 h-14 rounded-full object-cover flex-shrink-0"}):e.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-purple-500 to-cyan-500 flex items-center justify-center text-white text-xl font-bold flex-shrink-0",children:t.name.charAt(0)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-white font-semibold truncate",children:t.name}),e.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:()=>x(t),className:"p-1 text-white/40 hover:text-white",children:e.jsx(F,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>m(t.id),className:"p-1 text-white/40 hover:text-red-400",children:e.jsx(D,{className:"w-4 h-4"})})]})]}),t.job_title&&e.jsxs("p",{className:"text-sm text-white/50",children:[t.job_title,t.company&&` at ${t.company}`]}),t.bio&&e.jsx("p",{className:"text-sm text-white/40 mt-2 line-clamp-2",children:t.bio})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-white/5 text-xs text-white/40",children:[e.jsx("span",{children:t.email||"No email"}),e.jsx("span",{className:`px-2 py-0.5 rounded-full ${t.is_active?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:t.is_active?"Active":"Inactive"})]})]},t.id))}),j&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4",children:e.jsxs("div",{className:"bg-neutral-900 border border-white/10 rounded-xl w-full max-w-lg max-h-[85vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10 sticky top-0 bg-neutral-900 z-10",children:[e.jsx("h2",{className:"text-lg font-semibold text-white",children:a?"Edit Author":"New Author"}),e.jsx("button",{onClick:()=>r(!1),className:"p-2 text-white/40 hover:text-white",children:e.jsx(E,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-1.5",children:"Name *"}),e.jsx("input",{type:"text",value:s.name,onChange:t=>{const l=t.target.value;i(w=>({...w,name:l,slug:w.slug||y(l)}))},className:"w-full px-4 py-2.5 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/30 focus:outline-none focus:border-purple-500/50",placeholder:"Author name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-1.5",children:"Slug"}),e.jsx("input",{type:"text",value:s.slug,onChange:t=>i(l=>({...l,slug:t.target.value})),className:"w-full px-4 py-2.5 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/30 focus:outline-none focus:border-purple-500/50",placeholder:"author-slug"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-1.5",children:"Email"}),e.jsx("input",{type:"email",value:s.email,onChange:t=>i(l=>({...l,email:t.target.value})),className:"w-full px-4 py-2.5 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/30 focus:outline-none focus:border-purple-500/50",placeholder:"author@example.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-1.5",children:"Bio"}),e.jsx("textarea",{value:s.bio,onChange:t=>i(l=>({...l,bio:t.target.value})),rows:3,className:"w-full px-4 py-2.5 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/30 focus:outline-none focus:border-purple-500/50 resize-none",placeholder:"Short bio..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-1.5",children:"Avatar URL"}),e.jsx("input",{type:"url",value:s.avatar_url,onChange:t=>i(l=>({...l,avatar_url:t.target.value})),className:"w-full px-4 py-2.5 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/30 focus:outline-none focus:border-purple-500/50",placeholder:"https://..."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-1.5",children:"Job Title"}),e.jsx("input",{type:"text",value:s.job_title,onChange:t=>i(l=>({...l,job_title:t.target.value})),className:"w-full px-4 py-2.5 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/30 focus:outline-none focus:border-purple-500/50",placeholder:"Content Writer"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-1.5",children:"Company"}),e.jsx("input",{type:"text",value:s.company,onChange:t=>i(l=>({...l,company:t.target.value})),className:"w-full px-4 py-2.5 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/30 focus:outline-none focus:border-purple-500/50",placeholder:"Stratum AI"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-1.5",children:"Twitter"}),e.jsx("input",{type:"text",value:s.twitter_handle,onChange:t=>i(l=>({...l,twitter_handle:t.target.value})),className:"w-full px-4 py-2.5 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/30 focus:outline-none focus:border-purple-500/50",placeholder:"@handle"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-1.5",children:"GitHub"}),e.jsx("input",{type:"text",value:s.github_handle,onChange:t=>i(l=>({...l,github_handle:t.target.value})),className:"w-full px-4 py-2.5 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/30 focus:outline-none focus:border-purple-500/50",placeholder:"username"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-1.5",children:"LinkedIn URL"}),e.jsx("input",{type:"url",value:s.linkedin_url,onChange:t=>i(l=>({...l,linkedin_url:t.target.value})),className:"w-full px-4 py-2.5 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/30 focus:outline-none focus:border-purple-500/50",placeholder:"https://linkedin.com/in/..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-1.5",children:"Website"}),e.jsx("input",{type:"url",value:s.website_url,onChange:t=>i(l=>({...l,website_url:t.target.value})),className:"w-full px-4 py-2.5 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/30 focus:outline-none focus:border-purple-500/50",placeholder:"https://..."})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:s.is_active,onChange:t=>i(l=>({...l,is_active:t.target.checked})),className:"w-4 h-4 rounded bg-white/5 border-white/20 text-purple-600 focus:ring-purple-500"}),e.jsx("span",{className:"text-sm text-white/70",children:"Active author"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 p-4 border-t border-white/10 sticky bottom-0 bg-neutral-900",children:[e.jsx("button",{onClick:()=>r(!1),className:"px-4 py-2 text-white/60 hover:text-white transition-colors",children:"Cancel"}),e.jsx("button",{onClick:v,disabled:!s.name||c.isPending||h.isPending,className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:c.isPending||h.isPending?"Saving...":a?"Update":"Create"})]})]})}),b&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60",children:e.jsxs("div",{className:"bg-neutral-900 border border-white/10 rounded-xl p-6 max-w-md w-full mx-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Delete Author"}),e.jsx("p",{className:"text-white/60 mb-6",children:"Posts by this author will become unassigned."}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>m(null),className:"px-4 py-2 text-white/60 hover:text-white",children:"Cancel"}),e.jsx("button",{onClick:()=>N(b),disabled:u.isPending,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium disabled:opacity-50",children:u.isPending?"Deleting...":"Delete"})]})]})})]})}export{G as default};
//# sourceMappingURL=CMSAuthors-CBO6NJgK.js.map
