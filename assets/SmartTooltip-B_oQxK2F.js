import{j as t}from"./vendor-ui-B0DL0VNC.js";import{r as n,a as V}from"./vendor-react-Dz7uKsMg.js";import{c as T,X as W,a0 as F}from"./index-BQex3859.js";import{C as O}from"./circle-question-mark-DBPHcbWv.js";import{I as Q}from"./info-Bj1e8ZpJ.js";function X({children:p,content:b,title:l,learnMoreUrl:x,position:D="top",trigger:s="hover",delay:z=200,className:I,showIcon:M=!1,iconType:S="info",showGotIt:k=!1,onGotIt:v,ariaLabel:H}){const[i,u]=n.useState(!1),[j,B]=n.useState({top:0,left:0}),m=n.useRef(null),h=n.useRef(null),d=n.useRef(null),E=n.useId(),y=n.useId(),f=()=>{if(!m.current||!h.current)return;const e=m.current.getBoundingClientRect(),r=h.current.getBoundingClientRect(),o=8;let c=0,a=0;switch(D){case"top":c=e.top-r.height-o,a=e.left+e.width/2-r.width/2;break;case"bottom":c=e.bottom+o,a=e.left+e.width/2-r.width/2;break;case"left":c=e.top+e.height/2-r.height/2,a=e.left-r.width-o;break;case"right":c=e.top+e.height/2-r.height/2,a=e.right+o;break}const L=window.innerWidth,R=window.innerHeight;a<o&&(a=o),a+r.width>L-o&&(a=L-r.width-o),c<o&&(c=o),c+r.height>R-o&&(c=R-r.height-o),B({top:c,left:a})},N=()=>{d.current&&clearTimeout(d.current),d.current=setTimeout(()=>{u(!0)},z)},C=()=>{d.current&&clearTimeout(d.current),u(!1)},K=()=>{s==="click"&&u(!i)},w=n.useCallback(()=>{u(!1),v==null||v()},[v]),g=n.useCallback(e=>{var r;e.key==="Escape"&&i&&(w(),(r=m.current)==null||r.focus())},[i,w]);n.useEffect(()=>(i&&(f(),window.addEventListener("scroll",f,!0),window.addEventListener("resize",f),document.addEventListener("keydown",g)),()=>{window.removeEventListener("scroll",f,!0),window.removeEventListener("resize",f),document.removeEventListener("keydown",g)}),[i,g]),n.useEffect(()=>()=>{d.current&&clearTimeout(d.current)},[]),n.useEffect(()=>{if(s!=="click"||!i)return;const e=r=>{m.current&&!m.current.contains(r.target)&&h.current&&!h.current.contains(r.target)&&u(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[s,i]);const P=S==="help"?O:Q;return t.jsxs(t.Fragment,{children:[t.jsxs("div",{ref:m,className:T("inline-flex items-center gap-1 cursor-pointer",I),onMouseEnter:s==="hover"?N:void 0,onMouseLeave:s==="hover"?C:void 0,onClick:K,onKeyDown:e=>{s==="click"&&(e.key==="Enter"||e.key===" ")&&(e.preventDefault(),u(!i))},role:"button",tabIndex:0,"aria-describedby":i?E:void 0,"aria-expanded":s==="click"?i:void 0,children:[p,M&&t.jsx(P,{className:"w-4 h-4 text-muted-foreground hover:text-foreground transition-colors","aria-hidden":"true"})]}),i&&V.createPortal(t.jsx("div",{ref:h,id:E,role:"tooltip","aria-label":H,"aria-labelledby":l?y:void 0,className:T("fixed z-[9999] max-w-xs animate-in fade-in-0 zoom-in-95 duration-200","bg-popover text-popover-foreground rounded-lg shadow-lg border"),style:{top:j.top,left:j.left},onMouseEnter:s==="hover"?N:void 0,onMouseLeave:s==="hover"?C:void 0,children:t.jsxs("div",{className:"p-3",children:[l&&t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("h4",{id:y,className:"font-semibold text-sm",children:l}),s==="click"&&!k&&t.jsx("button",{onClick:w,className:"p-0.5 rounded hover:bg-muted","aria-label":"Close tooltip",children:t.jsx(W,{className:"w-3.5 h-3.5","aria-hidden":"true"})})]}),t.jsx("div",{className:"text-sm text-muted-foreground",children:b}),x&&t.jsxs("a",{href:x,target:"_blank",rel:"noopener noreferrer",className:"mt-2 inline-flex items-center gap-1 text-xs text-primary hover:underline",children:["Learn more",t.jsx(F,{className:"w-3 h-3","aria-hidden":"true"})]}),k&&t.jsx("button",{onClick:w,className:"mt-3 w-full py-1.5 px-3 text-xs font-medium rounded-md bg-primary text-primary-foreground hover:bg-primary/90 transition-colors",children:"Got it"})]})}),document.body)]})}function Z({term:p,definition:b,example:l,learnMoreUrl:x}){return t.jsx(X,{trigger:"click",title:p,learnMoreUrl:x,content:t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{children:b}),l&&t.jsxs("div",{className:"mt-2 p-2 rounded bg-muted text-xs",children:[t.jsx("span",{className:"font-medium",children:"Example:"})," ",l]})]}),showIcon:!0,iconType:"help",children:t.jsx("span",{className:"border-b border-dashed border-muted-foreground cursor-help",children:p})})}export{Z as C,X as S};
//# sourceMappingURL=SmartTooltip-B_oQxK2F.js.map
