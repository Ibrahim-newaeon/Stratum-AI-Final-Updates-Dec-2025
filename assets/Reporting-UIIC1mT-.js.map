{"version":3,"file":"Reporting-UIIC1mT-.js","sources":["../../node_modules/@heroicons/react/24/outline/esm/CalendarDaysIcon.js","../../src/api/reporting.ts","../../src/views/tenant/Reporting.tsx"],"sourcesContent":["import * as React from \"react\";\nfunction CalendarDaysIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(CalendarDaysIcon);\nexport default ForwardRef;","/**\r\n * Stratum AI - Automated Reporting API\r\n *\r\n * Handles report templates, scheduling, generation, and delivery.\r\n */\r\n\r\nimport { useMutation, useQuery, useQueryClient } from '@tanstack/react-query';\r\nimport { apiClient, ApiResponse } from './client';\r\n\r\n// =============================================================================\r\n// Types\r\n// =============================================================================\r\n\r\nexport type ReportType =\r\n  | 'campaign_performance'\r\n  | 'attribution_summary'\r\n  | 'pacing_status'\r\n  | 'profit_roas'\r\n  | 'pipeline_metrics'\r\n  | 'executive_summary'\r\n  | 'custom';\r\nexport type ReportFormat = 'pdf' | 'csv' | 'excel' | 'json' | 'html';\r\nexport type ScheduleFrequency =\r\n  | 'daily'\r\n  | 'weekly'\r\n  | 'biweekly'\r\n  | 'monthly'\r\n  | 'quarterly'\r\n  | 'custom';\r\nexport type DeliveryChannel = 'email' | 'slack' | 'teams' | 'webhook' | 's3';\r\nexport type ExecutionStatus = 'pending' | 'running' | 'completed' | 'failed' | 'cancelled';\r\nexport type DeliveryStatus = 'pending' | 'sent' | 'delivered' | 'failed' | 'bounced';\r\n\r\nexport interface ReportTemplate {\r\n  id: string;\r\n  tenantId: number;\r\n  name: string;\r\n  description?: string;\r\n  reportType: ReportType;\r\n  config: ReportConfig;\r\n  defaultFormat: ReportFormat;\r\n  availableFormats: ReportFormat[];\r\n  templateHtml?: string;\r\n  chartConfig?: Record<string, any>;\r\n  isActive: boolean;\r\n  isSystem: boolean;\r\n  createdAt: string;\r\n  updatedAt: string;\r\n}\r\n\r\nexport interface ReportConfig {\r\n  metrics?: string[];\r\n  dimensions?: string[];\r\n  filters?: Record<string, any>;\r\n  dateRange?: { type: string; start?: string; end?: string };\r\n  comparison?: { enabled: boolean; period: string };\r\n  sections?: string[];\r\n  branding?: { logoUrl?: string; primaryColor?: string };\r\n}\r\n\r\nexport interface ScheduledReport {\r\n  id: string;\r\n  tenantId: number;\r\n  templateId: string;\r\n  template?: ReportTemplate;\r\n  name: string;\r\n  description?: string;\r\n  frequency: ScheduleFrequency;\r\n  timezone: string;\r\n  dayOfWeek?: number;\r\n  dayOfMonth?: number;\r\n  hour: number;\r\n  minute: number;\r\n  cronExpression?: string;\r\n  formatOverride?: ReportFormat;\r\n  configOverride?: Record<string, any>;\r\n  dateRangeType: string;\r\n  deliveryChannels: DeliveryChannel[];\r\n  deliveryConfig: DeliveryConfig;\r\n  isActive: boolean;\r\n  isPaused: boolean;\r\n  lastRunAt?: string;\r\n  lastRunStatus?: ExecutionStatus;\r\n  nextRunAt?: string;\r\n  runCount: number;\r\n  failureCount: number;\r\n  createdAt: string;\r\n  updatedAt: string;\r\n}\r\n\r\nexport interface DeliveryConfig {\r\n  email?: {\r\n    recipients: string[];\r\n    cc?: string[];\r\n    subjectTemplate?: string;\r\n    bodyTemplate?: string;\r\n  };\r\n  slack?: {\r\n    channel: string;\r\n    webhookUrl?: string;\r\n  };\r\n  teams?: {\r\n    webhookUrl: string;\r\n  };\r\n  webhook?: {\r\n    webhookUrl: string;\r\n    headers?: Record<string, string>;\r\n    authHeader?: string;\r\n  };\r\n  s3?: {\r\n    bucket: string;\r\n    prefix?: string;\r\n    region?: string;\r\n  };\r\n}\r\n\r\nexport interface ReportExecution {\r\n  id: string;\r\n  tenantId: number;\r\n  templateId?: string;\r\n  scheduleId?: string;\r\n  executionType: 'scheduled' | 'manual' | 'api';\r\n  status: ExecutionStatus;\r\n  startedAt: string;\r\n  completedAt?: string;\r\n  durationSeconds?: number;\r\n  reportType: ReportType;\r\n  format: ReportFormat;\r\n  dateRangeStart: string;\r\n  dateRangeEnd: string;\r\n  configUsed?: Record<string, any>;\r\n  filePath?: string;\r\n  fileSizeBytes?: number;\r\n  fileUrl?: string;\r\n  fileUrlExpiresAt?: string;\r\n  rowCount?: number;\r\n  metricsSummary?: Record<string, any>;\r\n  errorMessage?: string;\r\n  errorDetails?: Record<string, any>;\r\n  triggeredByUserId?: number;\r\n}\r\n\r\nexport interface ReportDelivery {\r\n  id: string;\r\n  executionId: string;\r\n  channel: DeliveryChannel;\r\n  recipient: string;\r\n  status: DeliveryStatus;\r\n  sentAt?: string;\r\n  deliveredAt?: string;\r\n  errorMessage?: string;\r\n  retryCount: number;\r\n}\r\n\r\nexport interface DeliveryChannelConfig {\r\n  id: string;\r\n  tenantId: number;\r\n  channel: DeliveryChannel;\r\n  name: string;\r\n  isActive: boolean;\r\n  isVerified: boolean;\r\n  config: Record<string, any>;\r\n  createdAt: string;\r\n  updatedAt: string;\r\n}\r\n\r\nexport interface CreateTemplateRequest {\r\n  name: string;\r\n  description?: string;\r\n  reportType: ReportType;\r\n  config?: ReportConfig;\r\n  defaultFormat?: ReportFormat;\r\n  availableFormats?: ReportFormat[];\r\n  templateHtml?: string;\r\n  chartConfig?: Record<string, any>;\r\n}\r\n\r\nexport interface CreateScheduleRequest {\r\n  templateId: string;\r\n  name: string;\r\n  description?: string;\r\n  frequency: ScheduleFrequency;\r\n  timezone?: string;\r\n  dayOfWeek?: number;\r\n  dayOfMonth?: number;\r\n  hour?: number;\r\n  minute?: number;\r\n  cronExpression?: string;\r\n  formatOverride?: ReportFormat;\r\n  configOverride?: Record<string, any>;\r\n  dateRangeType?: string;\r\n  deliveryChannels: DeliveryChannel[];\r\n  deliveryConfig: DeliveryConfig;\r\n}\r\n\r\nexport interface GenerateReportRequest {\r\n  templateId: string;\r\n  startDate: string;\r\n  endDate: string;\r\n  format?: ReportFormat;\r\n  configOverride?: Record<string, any>;\r\n  deliverTo?: DeliveryChannel[];\r\n  deliveryConfig?: DeliveryConfig;\r\n}\r\n\r\nexport interface ReportTypeInfo {\r\n  type: ReportType;\r\n  name: string;\r\n  description: string;\r\n  defaultMetrics?: string[];\r\n  availableDimensions?: string[];\r\n  availableModels?: string[];\r\n  sections?: string[];\r\n}\r\n\r\n// =============================================================================\r\n// API Functions\r\n// =============================================================================\r\n\r\nexport const reportingApi = {\r\n  // Templates\r\n  getTemplates: async (params?: { reportType?: ReportType; isActive?: boolean }) => {\r\n    const response = await apiClient.get<ApiResponse<ReportTemplate[]>>('/reporting/templates', {\r\n      params,\r\n    });\r\n    return response.data.data;\r\n  },\r\n\r\n  getTemplate: async (templateId: string) => {\r\n    const response = await apiClient.get<ApiResponse<ReportTemplate>>(\r\n      `/reporting/templates/${templateId}`\r\n    );\r\n    return response.data.data;\r\n  },\r\n\r\n  createTemplate: async (data: CreateTemplateRequest) => {\r\n    const response = await apiClient.post<ApiResponse<ReportTemplate>>(\r\n      '/reporting/templates',\r\n      data\r\n    );\r\n    return response.data.data;\r\n  },\r\n\r\n  updateTemplate: async (templateId: string, data: Partial<CreateTemplateRequest>) => {\r\n    const response = await apiClient.patch<ApiResponse<ReportTemplate>>(\r\n      `/reporting/templates/${templateId}`,\r\n      data\r\n    );\r\n    return response.data.data;\r\n  },\r\n\r\n  deleteTemplate: async (templateId: string) => {\r\n    const response = await apiClient.delete<ApiResponse<void>>(\r\n      `/reporting/templates/${templateId}`\r\n    );\r\n    return response.data;\r\n  },\r\n\r\n  // Schedules\r\n  getSchedules: async (params?: { isActive?: boolean; templateId?: string }) => {\r\n    const response = await apiClient.get<ApiResponse<ScheduledReport[]>>('/reporting/schedules', {\r\n      params,\r\n    });\r\n    return response.data.data;\r\n  },\r\n\r\n  getSchedule: async (scheduleId: string) => {\r\n    const response = await apiClient.get<ApiResponse<ScheduledReport>>(\r\n      `/reporting/schedules/${scheduleId}`\r\n    );\r\n    return response.data.data;\r\n  },\r\n\r\n  createSchedule: async (data: CreateScheduleRequest) => {\r\n    const response = await apiClient.post<ApiResponse<ScheduledReport>>(\r\n      '/reporting/schedules',\r\n      data\r\n    );\r\n    return response.data.data;\r\n  },\r\n\r\n  updateSchedule: async (scheduleId: string, data: Partial<CreateScheduleRequest>) => {\r\n    const response = await apiClient.patch<ApiResponse<ScheduledReport>>(\r\n      `/reporting/schedules/${scheduleId}`,\r\n      data\r\n    );\r\n    return response.data.data;\r\n  },\r\n\r\n  deleteSchedule: async (scheduleId: string) => {\r\n    const response = await apiClient.delete<ApiResponse<void>>(\r\n      `/reporting/schedules/${scheduleId}`\r\n    );\r\n    return response.data;\r\n  },\r\n\r\n  pauseSchedule: async (scheduleId: string) => {\r\n    const response = await apiClient.post<ApiResponse<ScheduledReport>>(\r\n      `/reporting/schedules/${scheduleId}/pause`\r\n    );\r\n    return response.data.data;\r\n  },\r\n\r\n  resumeSchedule: async (scheduleId: string) => {\r\n    const response = await apiClient.post<ApiResponse<ScheduledReport>>(\r\n      `/reporting/schedules/${scheduleId}/resume`\r\n    );\r\n    return response.data.data;\r\n  },\r\n\r\n  runScheduleNow: async (scheduleId: string) => {\r\n    const response = await apiClient.post<ApiResponse<ReportExecution>>(\r\n      `/reporting/schedules/${scheduleId}/run-now`\r\n    );\r\n    return response.data.data;\r\n  },\r\n\r\n  getScheduleHistory: async (scheduleId: string, limit?: number) => {\r\n    const response = await apiClient.get<ApiResponse<ReportExecution[]>>(\r\n      `/reporting/schedules/${scheduleId}/history`,\r\n      {\r\n        params: { limit },\r\n      }\r\n    );\r\n    return response.data.data;\r\n  },\r\n\r\n  // Report Generation\r\n  generateReport: async (data: GenerateReportRequest) => {\r\n    const response = await apiClient.post<ApiResponse<ReportExecution>>(\r\n      '/reporting/generate',\r\n      data\r\n    );\r\n    return response.data.data;\r\n  },\r\n\r\n  // Executions\r\n  getExecutions: async (params?: {\r\n    status?: ExecutionStatus;\r\n    reportType?: ReportType;\r\n    startDate?: string;\r\n    endDate?: string;\r\n    limit?: number;\r\n    offset?: number;\r\n  }) => {\r\n    const response = await apiClient.get<ApiResponse<ReportExecution[]>>('/reporting/executions', {\r\n      params,\r\n    });\r\n    return response.data.data;\r\n  },\r\n\r\n  getExecution: async (executionId: string) => {\r\n    const response = await apiClient.get<ApiResponse<ReportExecution>>(\r\n      `/reporting/executions/${executionId}`\r\n    );\r\n    return response.data.data;\r\n  },\r\n\r\n  downloadReport: async (executionId: string) => {\r\n    const response = await apiClient.get<\r\n      ApiResponse<{\r\n        downloadUrl: string;\r\n        expiresAt?: string;\r\n        format: ReportFormat;\r\n        fileSizeBytes?: number;\r\n      }>\r\n    >(`/reporting/executions/${executionId}/download`);\r\n    return response.data.data;\r\n  },\r\n\r\n  // Deliveries\r\n  getDeliveryStatus: async (executionId: string) => {\r\n    const response = await apiClient.get<ApiResponse<ReportDelivery[]>>(\r\n      `/reporting/executions/${executionId}/deliveries`\r\n    );\r\n    return response.data.data;\r\n  },\r\n\r\n  retryDelivery: async (deliveryId: string) => {\r\n    const response = await apiClient.post<ApiResponse<{ success: boolean; error?: string }>>(\r\n      `/reporting/deliveries/${deliveryId}/retry`\r\n    );\r\n    return response.data.data;\r\n  },\r\n\r\n  // Delivery Channel Configs\r\n  getDeliveryChannelConfigs: async () => {\r\n    const response = await apiClient.get<ApiResponse<DeliveryChannelConfig[]>>(\r\n      '/reporting/delivery-channels'\r\n    );\r\n    return response.data.data;\r\n  },\r\n\r\n  createDeliveryChannelConfig: async (data: {\r\n    channel: DeliveryChannel;\r\n    name: string;\r\n    config: Record<string, any>;\r\n  }) => {\r\n    const response = await apiClient.post<ApiResponse<DeliveryChannelConfig>>(\r\n      '/reporting/delivery-channels',\r\n      data\r\n    );\r\n    return response.data.data;\r\n  },\r\n\r\n  updateDeliveryChannelConfig: async (configId: string, data: Partial<DeliveryChannelConfig>) => {\r\n    const response = await apiClient.patch<ApiResponse<DeliveryChannelConfig>>(\r\n      `/reporting/delivery-channels/${configId}`,\r\n      data\r\n    );\r\n    return response.data.data;\r\n  },\r\n\r\n  deleteDeliveryChannelConfig: async (configId: string) => {\r\n    const response = await apiClient.delete<ApiResponse<void>>(\r\n      `/reporting/delivery-channels/${configId}`\r\n    );\r\n    return response.data;\r\n  },\r\n\r\n  verifyDeliveryChannel: async (configId: string) => {\r\n    const response = await apiClient.post<ApiResponse<{ verified: boolean; error?: string }>>(\r\n      `/reporting/delivery-channels/${configId}/verify`\r\n    );\r\n    return response.data.data;\r\n  },\r\n\r\n  // Report Types Info\r\n  getReportTypes: async () => {\r\n    const response = await apiClient.get<\r\n      ApiResponse<{\r\n        reportTypes: ReportTypeInfo[];\r\n        formats: ReportFormat[];\r\n        frequencies: ScheduleFrequency[];\r\n        deliveryChannels: DeliveryChannel[];\r\n        dateRangeTypes: string[];\r\n      }>\r\n    >('/reporting/report-types');\r\n    return response.data.data;\r\n  },\r\n};\r\n\r\n// =============================================================================\r\n// React Query Hooks\r\n// =============================================================================\r\n\r\n// Templates\r\nexport function useReportTemplates(params?: { reportType?: ReportType; isActive?: boolean }) {\r\n  return useQuery({\r\n    queryKey: ['reporting', 'templates', params],\r\n    queryFn: () => reportingApi.getTemplates(params),\r\n  });\r\n}\r\n\r\nexport function useReportTemplate(templateId: string) {\r\n  return useQuery({\r\n    queryKey: ['reporting', 'templates', templateId],\r\n    queryFn: () => reportingApi.getTemplate(templateId),\r\n    enabled: !!templateId,\r\n  });\r\n}\r\n\r\nexport function useCreateReportTemplate() {\r\n  const queryClient = useQueryClient();\r\n  return useMutation({\r\n    mutationFn: reportingApi.createTemplate,\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['reporting', 'templates'] });\r\n    },\r\n  });\r\n}\r\n\r\nexport function useUpdateReportTemplate() {\r\n  const queryClient = useQueryClient();\r\n  return useMutation({\r\n    mutationFn: ({\r\n      templateId,\r\n      data,\r\n    }: {\r\n      templateId: string;\r\n      data: Partial<CreateTemplateRequest>;\r\n    }) => reportingApi.updateTemplate(templateId, data),\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['reporting', 'templates'] });\r\n    },\r\n  });\r\n}\r\n\r\nexport function useDeleteReportTemplate() {\r\n  const queryClient = useQueryClient();\r\n  return useMutation({\r\n    mutationFn: reportingApi.deleteTemplate,\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['reporting', 'templates'] });\r\n    },\r\n  });\r\n}\r\n\r\n// Schedules\r\nexport function useReportSchedules(params?: { isActive?: boolean; templateId?: string }) {\r\n  return useQuery({\r\n    queryKey: ['reporting', 'schedules', params],\r\n    queryFn: () => reportingApi.getSchedules(params),\r\n  });\r\n}\r\n\r\nexport function useReportSchedule(scheduleId: string) {\r\n  return useQuery({\r\n    queryKey: ['reporting', 'schedules', scheduleId],\r\n    queryFn: () => reportingApi.getSchedule(scheduleId),\r\n    enabled: !!scheduleId,\r\n  });\r\n}\r\n\r\nexport function useCreateReportSchedule() {\r\n  const queryClient = useQueryClient();\r\n  return useMutation({\r\n    mutationFn: reportingApi.createSchedule,\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['reporting', 'schedules'] });\r\n    },\r\n  });\r\n}\r\n\r\nexport function useUpdateReportSchedule() {\r\n  const queryClient = useQueryClient();\r\n  return useMutation({\r\n    mutationFn: ({\r\n      scheduleId,\r\n      data,\r\n    }: {\r\n      scheduleId: string;\r\n      data: Partial<CreateScheduleRequest>;\r\n    }) => reportingApi.updateSchedule(scheduleId, data),\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['reporting', 'schedules'] });\r\n    },\r\n  });\r\n}\r\n\r\nexport function useDeleteReportSchedule() {\r\n  const queryClient = useQueryClient();\r\n  return useMutation({\r\n    mutationFn: reportingApi.deleteSchedule,\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['reporting', 'schedules'] });\r\n    },\r\n  });\r\n}\r\n\r\nexport function usePauseReportSchedule() {\r\n  const queryClient = useQueryClient();\r\n  return useMutation({\r\n    mutationFn: reportingApi.pauseSchedule,\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['reporting', 'schedules'] });\r\n    },\r\n  });\r\n}\r\n\r\nexport function useResumeReportSchedule() {\r\n  const queryClient = useQueryClient();\r\n  return useMutation({\r\n    mutationFn: reportingApi.resumeSchedule,\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['reporting', 'schedules'] });\r\n    },\r\n  });\r\n}\r\n\r\nexport function useRunScheduleNow() {\r\n  const queryClient = useQueryClient();\r\n  return useMutation({\r\n    mutationFn: reportingApi.runScheduleNow,\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['reporting', 'executions'] });\r\n      queryClient.invalidateQueries({ queryKey: ['reporting', 'schedules'] });\r\n    },\r\n  });\r\n}\r\n\r\nexport function useScheduleHistory(scheduleId: string, limit?: number) {\r\n  return useQuery({\r\n    queryKey: ['reporting', 'schedules', scheduleId, 'history', limit],\r\n    queryFn: () => reportingApi.getScheduleHistory(scheduleId, limit),\r\n    enabled: !!scheduleId,\r\n  });\r\n}\r\n\r\n// Report Generation\r\nexport function useGenerateReport() {\r\n  const queryClient = useQueryClient();\r\n  return useMutation({\r\n    mutationFn: reportingApi.generateReport,\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['reporting', 'executions'] });\r\n    },\r\n  });\r\n}\r\n\r\n// Executions\r\nexport function useReportExecutions(params?: {\r\n  status?: ExecutionStatus;\r\n  reportType?: ReportType;\r\n  startDate?: string;\r\n  endDate?: string;\r\n  limit?: number;\r\n  offset?: number;\r\n}) {\r\n  return useQuery({\r\n    queryKey: ['reporting', 'executions', params],\r\n    queryFn: () => reportingApi.getExecutions(params),\r\n  });\r\n}\r\n\r\nexport function useReportExecution(executionId: string) {\r\n  return useQuery({\r\n    queryKey: ['reporting', 'executions', executionId],\r\n    queryFn: () => reportingApi.getExecution(executionId),\r\n    enabled: !!executionId,\r\n  });\r\n}\r\n\r\nexport function useDownloadReport(executionId: string) {\r\n  return useQuery({\r\n    queryKey: ['reporting', 'executions', executionId, 'download'],\r\n    queryFn: () => reportingApi.downloadReport(executionId),\r\n    enabled: !!executionId,\r\n  });\r\n}\r\n\r\n// Deliveries\r\nexport function useDeliveryStatus(executionId: string) {\r\n  return useQuery({\r\n    queryKey: ['reporting', 'executions', executionId, 'deliveries'],\r\n    queryFn: () => reportingApi.getDeliveryStatus(executionId),\r\n    enabled: !!executionId,\r\n  });\r\n}\r\n\r\nexport function useRetryDelivery() {\r\n  const queryClient = useQueryClient();\r\n  return useMutation({\r\n    mutationFn: reportingApi.retryDelivery,\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['reporting', 'executions'] });\r\n    },\r\n  });\r\n}\r\n\r\n// Delivery Channel Configs\r\nexport function useDeliveryChannelConfigs() {\r\n  return useQuery({\r\n    queryKey: ['reporting', 'delivery-channels'],\r\n    queryFn: reportingApi.getDeliveryChannelConfigs,\r\n  });\r\n}\r\n\r\nexport function useCreateDeliveryChannelConfig() {\r\n  const queryClient = useQueryClient();\r\n  return useMutation({\r\n    mutationFn: reportingApi.createDeliveryChannelConfig,\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['reporting', 'delivery-channels'] });\r\n    },\r\n  });\r\n}\r\n\r\nexport function useUpdateDeliveryChannelConfig() {\r\n  const queryClient = useQueryClient();\r\n  return useMutation({\r\n    mutationFn: ({ configId, data }: { configId: string; data: Partial<DeliveryChannelConfig> }) =>\r\n      reportingApi.updateDeliveryChannelConfig(configId, data),\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['reporting', 'delivery-channels'] });\r\n    },\r\n  });\r\n}\r\n\r\nexport function useDeleteDeliveryChannelConfig() {\r\n  const queryClient = useQueryClient();\r\n  return useMutation({\r\n    mutationFn: reportingApi.deleteDeliveryChannelConfig,\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['reporting', 'delivery-channels'] });\r\n    },\r\n  });\r\n}\r\n\r\nexport function useVerifyDeliveryChannel() {\r\n  const queryClient = useQueryClient();\r\n  return useMutation({\r\n    mutationFn: reportingApi.verifyDeliveryChannel,\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['reporting', 'delivery-channels'] });\r\n    },\r\n  });\r\n}\r\n\r\n// Report Types Info\r\nexport function useReportTypes() {\r\n  return useQuery({\r\n    queryKey: ['reporting', 'report-types'],\r\n    queryFn: reportingApi.getReportTypes,\r\n    staleTime: Infinity, // This data rarely changes\r\n  });\r\n}\r\n","/**\r\n * Stratum AI - Automated Reporting\r\n *\r\n * Full-featured report management: templates, scheduling, generation, and delivery.\r\n */\r\n\r\nimport { useState } from 'react';\r\nimport {\r\n  useDeliveryChannelConfigs,\r\n  useGenerateReport,\r\n  usePauseReportSchedule,\r\n  useReportExecutions,\r\n  useReportSchedules,\r\n  useReportTemplates,\r\n  useResumeReportSchedule,\r\n  useCreateReportTemplate,\r\n  useUpdateReportTemplate,\r\n  useDeleteReportTemplate,\r\n  useCreateReportSchedule,\r\n  useDeleteReportSchedule,\r\n} from '@/api/hooks';\r\nimport {\r\n  useRunScheduleNow,\r\n  useCreateDeliveryChannelConfig,\r\n  useDeleteDeliveryChannelConfig,\r\n  useVerifyDeliveryChannel,\r\n  type ReportType,\r\n  type ReportFormat,\r\n  type ScheduleFrequency,\r\n  type DeliveryChannel,\r\n  type ReportTemplate,\r\n  type ScheduledReport,\r\n} from '@/api/reporting';\r\nimport {\r\n  ArrowDownTrayIcon,\r\n  ArrowPathIcon,\r\n  CalendarDaysIcon,\r\n  ChatBubbleLeftIcon,\r\n  CheckCircleIcon,\r\n  ClockIcon,\r\n  Cog6ToothIcon,\r\n  DocumentChartBarIcon,\r\n  DocumentTextIcon,\r\n  EnvelopeIcon,\r\n  GlobeAltIcon,\r\n  PauseIcon,\r\n  PencilSquareIcon,\r\n  PlayIcon,\r\n  PlusIcon,\r\n  TrashIcon,\r\n  XCircleIcon,\r\n  XMarkIcon,\r\n} from '@heroicons/react/24/outline';\r\nimport { cn } from '@/lib/utils';\r\nimport { useToast } from '@/components/ui/use-toast';\r\n\r\ntype TabType = 'templates' | 'schedules' | 'history' | 'delivery';\r\n\r\nconst REPORT_TYPES: { value: ReportType; label: string }[] = [\r\n  { value: 'campaign_performance', label: 'Campaign Performance' },\r\n  { value: 'attribution_summary', label: 'Attribution Summary' },\r\n  { value: 'pacing_status', label: 'Pacing Status' },\r\n  { value: 'profit_roas', label: 'Profit & ROAS' },\r\n  { value: 'pipeline_metrics', label: 'Pipeline Metrics' },\r\n  { value: 'executive_summary', label: 'Executive Summary' },\r\n  { value: 'custom', label: 'Custom Report' },\r\n];\r\n\r\nconst REPORT_FORMATS: { value: ReportFormat; label: string }[] = [\r\n  { value: 'pdf', label: 'PDF' },\r\n  { value: 'csv', label: 'CSV' },\r\n  { value: 'excel', label: 'Excel' },\r\n  { value: 'json', label: 'JSON' },\r\n  { value: 'html', label: 'HTML' },\r\n];\r\n\r\nconst FREQUENCIES: { value: ScheduleFrequency; label: string }[] = [\r\n  { value: 'daily', label: 'Daily' },\r\n  { value: 'weekly', label: 'Weekly' },\r\n  { value: 'biweekly', label: 'Bi-weekly' },\r\n  { value: 'monthly', label: 'Monthly' },\r\n  { value: 'quarterly', label: 'Quarterly' },\r\n];\r\n\r\nconst DAYS_OF_WEEK = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\r\n\r\nconst DELIVERY_CHANNELS: { value: DeliveryChannel; label: string; icon: typeof EnvelopeIcon; color: string }[] = [\r\n  { value: 'email', label: 'Email', icon: EnvelopeIcon, color: 'blue' },\r\n  { value: 'slack', label: 'Slack', icon: ChatBubbleLeftIcon, color: 'purple' },\r\n  { value: 'teams', label: 'Microsoft Teams', icon: ChatBubbleLeftIcon, color: 'indigo' },\r\n  { value: 'webhook', label: 'Webhook', icon: GlobeAltIcon, color: 'orange' },\r\n];\r\n\r\nexport default function Reporting() {\r\n  const { toast } = useToast();\r\n  const [activeTab, setActiveTab] = useState<TabType>('templates');\r\n\r\n  // Template editor state\r\n  const [showTemplateEditor, setShowTemplateEditor] = useState(false);\r\n  const [editingTemplate, setEditingTemplate] = useState<ReportTemplate | null>(null);\r\n  const [templateForm, setTemplateForm] = useState({\r\n    name: '',\r\n    description: '',\r\n    reportType: 'campaign_performance' as ReportType,\r\n    defaultFormat: 'pdf' as ReportFormat,\r\n    sections: '' as string, // comma-separated\r\n  });\r\n\r\n  // Schedule editor state\r\n  const [showScheduleEditor, setShowScheduleEditor] = useState(false);\r\n  const [scheduleForm, setScheduleForm] = useState({\r\n    name: '',\r\n    templateId: '',\r\n    frequency: 'weekly' as ScheduleFrequency,\r\n    dayOfWeek: 1,\r\n    dayOfMonth: 1,\r\n    hour: 8,\r\n    minute: 0,\r\n    timezone: 'UTC',\r\n    deliveryChannels: [] as DeliveryChannel[],\r\n    emailRecipients: '',\r\n    slackChannel: '',\r\n  });\r\n\r\n  // Generate report modal state\r\n  const [showGenerateModal, setShowGenerateModal] = useState(false);\r\n  const [generateTemplateId, setGenerateTemplateId] = useState('');\r\n  const [generateForm, setGenerateForm] = useState({\r\n    startDate: new Date(Date.now() - 30 * 24 * 60 * 60 * 1000).toISOString().split('T')[0],\r\n    endDate: new Date().toISOString().split('T')[0],\r\n    format: 'pdf' as ReportFormat,\r\n  });\r\n\r\n  // Delivery channel editor state\r\n  const [showDeliveryEditor, setShowDeliveryEditor] = useState(false);\r\n  const [deliveryForm, setDeliveryForm] = useState({\r\n    channel: 'email' as DeliveryChannel,\r\n    name: '',\r\n    config: {} as Record<string, string>,\r\n  });\r\n\r\n  // Delete confirmation state\r\n  const [deleteConfirm, setDeleteConfirm] = useState<{ type: 'template' | 'schedule'; id: string } | null>(null);\r\n\r\n  // Data hooks\r\n  const { data: templates, isLoading: templatesLoading } = useReportTemplates();\r\n  const { data: schedules, isLoading: schedulesLoading } = useReportSchedules();\r\n  const { data: executions, isLoading: executionsLoading } = useReportExecutions({ limit: 20 });\r\n  const { data: deliveryConfigs, isLoading: deliveryLoading } = useDeliveryChannelConfigs();\r\n\r\n  // Mutation hooks\r\n  const generateReport = useGenerateReport();\r\n  const pauseSchedule = usePauseReportSchedule();\r\n  const resumeSchedule = useResumeReportSchedule();\r\n  const createTemplate = useCreateReportTemplate();\r\n  const updateTemplate = useUpdateReportTemplate();\r\n  const deleteTemplate = useDeleteReportTemplate();\r\n  const createSchedule = useCreateReportSchedule();\r\n  const deleteSchedule = useDeleteReportSchedule();\r\n  const runScheduleNow = useRunScheduleNow();\r\n  const createDeliveryChannel = useCreateDeliveryChannelConfig();\r\n  const deleteDeliveryChannel = useDeleteDeliveryChannelConfig();\r\n  const verifyChannel = useVerifyDeliveryChannel();\r\n\r\n  const tabs = [\r\n    { id: 'templates' as TabType, label: 'Templates', count: templates?.length },\r\n    { id: 'schedules' as TabType, label: 'Schedules', count: schedules?.length },\r\n    { id: 'history' as TabType, label: 'History', count: executions?.length },\r\n    { id: 'delivery' as TabType, label: 'Delivery Settings', count: deliveryConfigs?.length },\r\n  ];\r\n\r\n  // --- Template handlers ---\r\n  const openTemplateEditor = (template?: ReportTemplate) => {\r\n    if (template) {\r\n      setEditingTemplate(template);\r\n      setTemplateForm({\r\n        name: template.name,\r\n        description: template.description || '',\r\n        reportType: template.reportType,\r\n        defaultFormat: template.defaultFormat,\r\n        sections: (template.config?.sections || []).join(', '),\r\n      });\r\n    } else {\r\n      setEditingTemplate(null);\r\n      setTemplateForm({\r\n        name: '',\r\n        description: '',\r\n        reportType: 'campaign_performance',\r\n        defaultFormat: 'pdf',\r\n        sections: '',\r\n      });\r\n    }\r\n    setShowTemplateEditor(true);\r\n  };\r\n\r\n  const handleSaveTemplate = async () => {\r\n    const data = {\r\n      name: templateForm.name,\r\n      description: templateForm.description || undefined,\r\n      reportType: templateForm.reportType,\r\n      defaultFormat: templateForm.defaultFormat,\r\n      config: {\r\n        sections: templateForm.sections\r\n          .split(',')\r\n          .map((s) => s.trim())\r\n          .filter(Boolean),\r\n      },\r\n    };\r\n\r\n    try {\r\n      if (editingTemplate) {\r\n        await updateTemplate.mutateAsync({ templateId: editingTemplate.id, data });\r\n        toast({ title: 'Template Updated', description: `\"${data.name}\" has been updated.` });\r\n      } else {\r\n        await createTemplate.mutateAsync(data);\r\n        toast({ title: 'Template Created', description: `\"${data.name}\" is ready to use.` });\r\n      }\r\n      setShowTemplateEditor(false);\r\n    } catch {\r\n      toast({ title: 'Error', description: 'Failed to save template.', variant: 'destructive' });\r\n    }\r\n  };\r\n\r\n  // --- Schedule handlers ---\r\n  const openScheduleEditor = () => {\r\n    setScheduleForm({\r\n      name: '',\r\n      templateId: templates?.[0]?.id || '',\r\n      frequency: 'weekly',\r\n      dayOfWeek: 1,\r\n      dayOfMonth: 1,\r\n      hour: 8,\r\n      minute: 0,\r\n      timezone: 'UTC',\r\n      deliveryChannels: [],\r\n      emailRecipients: '',\r\n      slackChannel: '',\r\n    });\r\n    setShowScheduleEditor(true);\r\n  };\r\n\r\n  const handleSaveSchedule = async () => {\r\n    const deliveryConfig: Record<string, unknown> = {};\r\n    if (scheduleForm.deliveryChannels.includes('email') && scheduleForm.emailRecipients) {\r\n      deliveryConfig.email = {\r\n        recipients: scheduleForm.emailRecipients.split(',').map((e) => e.trim()).filter(Boolean),\r\n      };\r\n    }\r\n    if (scheduleForm.deliveryChannels.includes('slack') && scheduleForm.slackChannel) {\r\n      deliveryConfig.slack = { channel: scheduleForm.slackChannel };\r\n    }\r\n\r\n    try {\r\n      await createSchedule.mutateAsync({\r\n        name: scheduleForm.name,\r\n        templateId: scheduleForm.templateId,\r\n        frequency: scheduleForm.frequency,\r\n        dayOfWeek: scheduleForm.frequency === 'weekly' ? scheduleForm.dayOfWeek : undefined,\r\n        dayOfMonth: scheduleForm.frequency === 'monthly' ? scheduleForm.dayOfMonth : undefined,\r\n        hour: scheduleForm.hour,\r\n        minute: scheduleForm.minute,\r\n        timezone: scheduleForm.timezone,\r\n        deliveryChannels: scheduleForm.deliveryChannels,\r\n        deliveryConfig,\r\n      });\r\n      toast({ title: 'Schedule Created', description: `\"${scheduleForm.name}\" has been scheduled.` });\r\n      setShowScheduleEditor(false);\r\n    } catch {\r\n      toast({ title: 'Error', description: 'Failed to create schedule.', variant: 'destructive' });\r\n    }\r\n  };\r\n\r\n  // --- Generate report handler ---\r\n  const openGenerateModal = (templateId: string) => {\r\n    setGenerateTemplateId(templateId);\r\n    setGenerateForm({\r\n      startDate: new Date(Date.now() - 30 * 24 * 60 * 60 * 1000).toISOString().split('T')[0],\r\n      endDate: new Date().toISOString().split('T')[0],\r\n      format: 'pdf',\r\n    });\r\n    setShowGenerateModal(true);\r\n  };\r\n\r\n  const handleGenerate = async () => {\r\n    try {\r\n      await generateReport.mutateAsync({\r\n        templateId: generateTemplateId,\r\n        startDate: generateForm.startDate,\r\n        endDate: generateForm.endDate,\r\n        format: generateForm.format,\r\n      });\r\n      toast({ title: 'Report Generated', description: 'Your report is being processed.' });\r\n      setShowGenerateModal(false);\r\n      setActiveTab('history');\r\n    } catch {\r\n      toast({ title: 'Error', description: 'Failed to generate report.', variant: 'destructive' });\r\n    }\r\n  };\r\n\r\n  // --- Delivery channel handler ---\r\n  const handleSaveDeliveryChannel = async () => {\r\n    try {\r\n      await createDeliveryChannel.mutateAsync({\r\n        channel: deliveryForm.channel,\r\n        name: deliveryForm.name,\r\n        config: deliveryForm.config,\r\n      });\r\n      toast({ title: 'Channel Added', description: `${deliveryForm.name} delivery configured.` });\r\n      setShowDeliveryEditor(false);\r\n    } catch {\r\n      toast({ title: 'Error', description: 'Failed to add delivery channel.', variant: 'destructive' });\r\n    }\r\n  };\r\n\r\n  // --- Delete handler ---\r\n  const handleDelete = async () => {\r\n    if (!deleteConfirm) return;\r\n    try {\r\n      if (deleteConfirm.type === 'template') {\r\n        await deleteTemplate.mutateAsync(deleteConfirm.id);\r\n        toast({ title: 'Deleted', description: 'Template has been removed.' });\r\n      } else {\r\n        await deleteSchedule.mutateAsync(deleteConfirm.id);\r\n        toast({ title: 'Deleted', description: 'Schedule has been removed.' });\r\n      }\r\n      setDeleteConfirm(null);\r\n    } catch {\r\n      toast({ title: 'Error', description: 'Failed to delete.', variant: 'destructive' });\r\n    }\r\n  };\r\n\r\n  // --- Run schedule now handler ---\r\n  const handleRunNow = async (schedule: ScheduledReport) => {\r\n    try {\r\n      await runScheduleNow.mutateAsync(schedule.id);\r\n      toast({ title: 'Running', description: `\"${schedule.name}\" is generating now.` });\r\n    } catch {\r\n      toast({ title: 'Error', description: 'Failed to trigger report.', variant: 'destructive' });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h1 className=\"text-2xl font-bold\">Automated Reporting</h1>\r\n          <p className=\"text-muted-foreground\">\r\n            Create, schedule, and deliver automated performance reports\r\n          </p>\r\n        </div>\r\n        <div className=\"flex items-center gap-3\">\r\n          {activeTab === 'schedules' && (\r\n            <button\r\n              onClick={openScheduleEditor}\r\n              className=\"flex items-center gap-2 px-4 py-2 rounded-lg border border-primary/30 text-primary hover:bg-primary/10 transition-colors\"\r\n            >\r\n              <CalendarDaysIcon className=\"h-4 w-4\" />\r\n              New Schedule\r\n            </button>\r\n          )}\r\n          {activeTab === 'delivery' && (\r\n            <button\r\n              onClick={() => {\r\n                setDeliveryForm({ channel: 'email', name: '', config: {} });\r\n                setShowDeliveryEditor(true);\r\n              }}\r\n              className=\"flex items-center gap-2 px-4 py-2 rounded-lg border border-primary/30 text-primary hover:bg-primary/10 transition-colors\"\r\n            >\r\n              <PlusIcon className=\"h-4 w-4\" />\r\n              Add Channel\r\n            </button>\r\n          )}\r\n          <button\r\n            onClick={() => openTemplateEditor()}\r\n            className=\"flex items-center gap-2 px-4 py-2 rounded-lg bg-primary text-primary-foreground hover:bg-primary/90 transition-colors\"\r\n          >\r\n            <PlusIcon className=\"h-4 w-4\" />\r\n            New Template\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Tabs */}\r\n      <div className=\"border-b\">\r\n        <nav className=\"flex gap-4\">\r\n          {tabs.map((tab) => (\r\n            <button\r\n              key={tab.id}\r\n              onClick={() => setActiveTab(tab.id)}\r\n              className={cn(\r\n                'px-4 py-2 border-b-2 font-medium text-sm transition-colors flex items-center gap-2',\r\n                activeTab === tab.id\r\n                  ? 'border-primary text-primary'\r\n                  : 'border-transparent text-muted-foreground hover:text-foreground'\r\n              )}\r\n            >\r\n              {tab.label}\r\n              {tab.count !== undefined && tab.count > 0 && (\r\n                <span className=\"px-1.5 py-0.5 rounded-full text-xs bg-muted\">{tab.count}</span>\r\n              )}\r\n            </button>\r\n          ))}\r\n        </nav>\r\n      </div>\r\n\r\n      {/* ========== Templates Tab ========== */}\r\n      {activeTab === 'templates' && (\r\n        <>\r\n          {templatesLoading ? (\r\n            <div className=\"flex items-center justify-center py-20\">\r\n              <div className=\"animate-spin w-8 h-8 border-2 border-primary border-t-transparent rounded-full\" />\r\n            </div>\r\n          ) : !templates || templates.length === 0 ? (\r\n            <div className=\"rounded-xl border bg-card p-12 text-center\">\r\n              <DocumentChartBarIcon className=\"h-12 w-12 text-muted-foreground/30 mx-auto mb-4\" />\r\n              <p className=\"text-muted-foreground mb-2\">No report templates yet</p>\r\n              <p className=\"text-sm text-muted-foreground/70 mb-6\">\r\n                Templates define what data to include in your reports.\r\n              </p>\r\n              <button\r\n                onClick={() => openTemplateEditor()}\r\n                className=\"inline-flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors\"\r\n              >\r\n                <PlusIcon className=\"h-4 w-4\" />\r\n                Create your first template\r\n              </button>\r\n            </div>\r\n          ) : (\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n              {templates.map((template) => (\r\n                <div key={template.id} className=\"rounded-xl border bg-card p-6 shadow-card group\">\r\n                  <div className=\"flex items-start justify-between mb-4\">\r\n                    <div className=\"flex items-center gap-3\">\r\n                      <div className=\"p-2 rounded-lg bg-primary/10\">\r\n                        <DocumentTextIcon className=\"h-5 w-5 text-primary\" />\r\n                      </div>\r\n                      <div>\r\n                        <h3 className=\"font-medium\">{template.name}</h3>\r\n                        <p className=\"text-sm text-muted-foreground capitalize\">\r\n                          {template.reportType.replace(/_/g, ' ')}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity\">\r\n                      <button\r\n                        onClick={() => openTemplateEditor(template)}\r\n                        className=\"p-1 rounded hover:bg-muted\"\r\n                        title=\"Edit\"\r\n                      >\r\n                        <PencilSquareIcon className=\"h-4 w-4 text-muted-foreground\" />\r\n                      </button>\r\n                      <button\r\n                        onClick={() => setDeleteConfirm({ type: 'template', id: template.id })}\r\n                        className=\"p-1 rounded hover:bg-muted\"\r\n                        title=\"Delete\"\r\n                      >\r\n                        <TrashIcon className=\"h-4 w-4 text-muted-foreground hover:text-destructive\" />\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {template.description && (\r\n                    <p className=\"text-sm text-muted-foreground mb-4 line-clamp-2\">\r\n                      {template.description}\r\n                    </p>\r\n                  )}\r\n\r\n                  <div className=\"flex flex-wrap gap-2 mb-4\">\r\n                    {(template.config?.sections ?? []).map((section: string, idx: number) => (\r\n                      <span key={idx} className=\"px-2 py-1 rounded-full text-xs bg-muted\">\r\n                        {section}\r\n                      </span>\r\n                    ))}\r\n                  </div>\r\n\r\n                  <div className=\"flex items-center justify-between pt-4 border-t\">\r\n                    <span className=\"text-xs text-muted-foreground\">\r\n                      Format: {template.defaultFormat.toUpperCase()}\r\n                    </span>\r\n                    <button\r\n                      onClick={() => openGenerateModal(template.id)}\r\n                      className=\"flex items-center gap-1 text-sm text-primary hover:underline\"\r\n                    >\r\n                      <PlayIcon className=\"h-4 w-4\" />\r\n                      Generate\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n\r\n              {/* Add Template Card */}\r\n              <button\r\n                onClick={() => openTemplateEditor()}\r\n                className=\"rounded-xl border-2 border-dashed bg-card p-6 flex flex-col items-center justify-center gap-3 text-muted-foreground hover:text-foreground hover:border-primary transition-colors min-h-[200px]\"\r\n              >\r\n                <PlusIcon className=\"h-8 w-8\" />\r\n                <span className=\"font-medium\">Create Template</span>\r\n              </button>\r\n            </div>\r\n          )}\r\n        </>\r\n      )}\r\n\r\n      {/* ========== Schedules Tab ========== */}\r\n      {activeTab === 'schedules' && (\r\n        <>\r\n          {schedulesLoading ? (\r\n            <div className=\"flex items-center justify-center py-20\">\r\n              <div className=\"animate-spin w-8 h-8 border-2 border-primary border-t-transparent rounded-full\" />\r\n            </div>\r\n          ) : !schedules || schedules.length === 0 ? (\r\n            <div className=\"rounded-xl border bg-card p-12 text-center\">\r\n              <CalendarDaysIcon className=\"h-12 w-12 text-muted-foreground/30 mx-auto mb-4\" />\r\n              <p className=\"text-muted-foreground mb-2\">No scheduled reports</p>\r\n              <p className=\"text-sm text-muted-foreground/70 mb-6\">\r\n                Automate report delivery on a recurring schedule.\r\n              </p>\r\n              <button\r\n                onClick={openScheduleEditor}\r\n                className=\"inline-flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors\"\r\n              >\r\n                <PlusIcon className=\"h-4 w-4\" />\r\n                Schedule your first report\r\n              </button>\r\n            </div>\r\n          ) : (\r\n            <div className=\"rounded-xl border bg-card shadow-card overflow-hidden\">\r\n              <table className=\"w-full\">\r\n                <thead className=\"bg-muted/50\">\r\n                  <tr>\r\n                    <th className=\"px-4 py-3 text-left text-sm font-medium\">Schedule</th>\r\n                    <th className=\"px-4 py-3 text-left text-sm font-medium\">Template</th>\r\n                    <th className=\"px-4 py-3 text-left text-sm font-medium\">Frequency</th>\r\n                    <th className=\"px-4 py-3 text-left text-sm font-medium\">Next Run</th>\r\n                    <th className=\"px-4 py-3 text-left text-sm font-medium\">Last Run</th>\r\n                    <th className=\"px-4 py-3 text-center text-sm font-medium\">Status</th>\r\n                    <th className=\"px-4 py-3 text-center text-sm font-medium\">Actions</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody className=\"divide-y\">\r\n                  {schedules.map((schedule) => (\r\n                    <tr key={schedule.id} className=\"hover:bg-muted/30 group\">\r\n                      <td className=\"px-4 py-3\">\r\n                        <p className=\"font-medium\">{schedule.name}</p>\r\n                        <p className=\"text-xs text-muted-foreground\">\r\n                          {schedule.runCount} runs &middot; {schedule.failureCount} failures\r\n                        </p>\r\n                      </td>\r\n                      <td className=\"px-4 py-3 text-sm\">\r\n                        {templates?.find((t) => t.id === schedule.templateId)?.name || 'Unknown'}\r\n                      </td>\r\n                      <td className=\"px-4 py-3 text-sm capitalize\">{schedule.frequency}</td>\r\n                      <td className=\"px-4 py-3 text-sm\">\r\n                        <div className=\"flex items-center gap-1\">\r\n                          <ClockIcon className=\"h-4 w-4 text-muted-foreground\" />\r\n                          {schedule.nextRunAt\r\n                            ? new Date(schedule.nextRunAt).toLocaleString()\r\n                            : '-'}\r\n                        </div>\r\n                      </td>\r\n                      <td className=\"px-4 py-3 text-sm\">\r\n                        {schedule.lastRunAt ? (\r\n                          <div className=\"flex items-center gap-1\">\r\n                            {schedule.lastRunStatus === 'completed' ? (\r\n                              <CheckCircleIcon className=\"h-4 w-4 text-emerald-500\" />\r\n                            ) : schedule.lastRunStatus === 'failed' ? (\r\n                              <XCircleIcon className=\"h-4 w-4 text-destructive\" />\r\n                            ) : (\r\n                              <ClockIcon className=\"h-4 w-4 text-muted-foreground\" />\r\n                            )}\r\n                            {new Date(schedule.lastRunAt).toLocaleDateString()}\r\n                          </div>\r\n                        ) : (\r\n                          <span className=\"text-muted-foreground\">Never</span>\r\n                        )}\r\n                      </td>\r\n                      <td className=\"px-4 py-3 text-center\">\r\n                        {schedule.isActive ? (\r\n                          <span className=\"px-2 py-1 rounded-full text-xs bg-emerald-100 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-300\">\r\n                            Active\r\n                          </span>\r\n                        ) : (\r\n                          <span className=\"px-2 py-1 rounded-full text-xs bg-gray-100 dark:bg-gray-900/20 text-gray-700 dark:text-gray-300\">\r\n                            Paused\r\n                          </span>\r\n                        )}\r\n                      </td>\r\n                      <td className=\"px-4 py-3\">\r\n                        <div className=\"flex items-center justify-center gap-1\">\r\n                          {schedule.isActive ? (\r\n                            <button\r\n                              onClick={() => pauseSchedule.mutate(schedule.id)}\r\n                              className=\"p-1.5 rounded hover:bg-muted\"\r\n                              title=\"Pause\"\r\n                            >\r\n                              <PauseIcon className=\"h-4 w-4\" />\r\n                            </button>\r\n                          ) : (\r\n                            <button\r\n                              onClick={() => resumeSchedule.mutate(schedule.id)}\r\n                              className=\"p-1.5 rounded hover:bg-muted\"\r\n                              title=\"Resume\"\r\n                            >\r\n                              <PlayIcon className=\"h-4 w-4\" />\r\n                            </button>\r\n                          )}\r\n                          <button\r\n                            onClick={() => handleRunNow(schedule)}\r\n                            className=\"p-1.5 rounded hover:bg-muted\"\r\n                            title=\"Run Now\"\r\n                          >\r\n                            <ArrowPathIcon className=\"h-4 w-4\" />\r\n                          </button>\r\n                          <button\r\n                            onClick={() =>\r\n                              setDeleteConfirm({ type: 'schedule', id: schedule.id })\r\n                            }\r\n                            className=\"p-1.5 rounded hover:bg-muted opacity-0 group-hover:opacity-100 transition-opacity\"\r\n                            title=\"Delete\"\r\n                          >\r\n                            <TrashIcon className=\"h-4 w-4 text-muted-foreground hover:text-destructive\" />\r\n                          </button>\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          )}\r\n        </>\r\n      )}\r\n\r\n      {/* ========== History Tab ========== */}\r\n      {activeTab === 'history' && (\r\n        <>\r\n          {executionsLoading ? (\r\n            <div className=\"flex items-center justify-center py-20\">\r\n              <div className=\"animate-spin w-8 h-8 border-2 border-primary border-t-transparent rounded-full\" />\r\n            </div>\r\n          ) : !executions || executions.length === 0 ? (\r\n            <div className=\"rounded-xl border bg-card p-12 text-center\">\r\n              <DocumentChartBarIcon className=\"h-12 w-12 text-muted-foreground/30 mx-auto mb-4\" />\r\n              <p className=\"text-muted-foreground mb-2\">No reports generated yet</p>\r\n              <p className=\"text-sm text-muted-foreground/70\">\r\n                Generate a report from a template to see it here.\r\n              </p>\r\n            </div>\r\n          ) : (\r\n            <div className=\"rounded-xl border bg-card shadow-card overflow-hidden\">\r\n              <table className=\"w-full\">\r\n                <thead className=\"bg-muted/50\">\r\n                  <tr>\r\n                    <th className=\"px-4 py-3 text-left text-sm font-medium\">Report</th>\r\n                    <th className=\"px-4 py-3 text-left text-sm font-medium\">Generated</th>\r\n                    <th className=\"px-4 py-3 text-left text-sm font-medium\">Period</th>\r\n                    <th className=\"px-4 py-3 text-left text-sm font-medium\">Format</th>\r\n                    <th className=\"px-4 py-3 text-center text-sm font-medium\">Status</th>\r\n                    <th className=\"px-4 py-3 text-center text-sm font-medium\">Actions</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody className=\"divide-y\">\r\n                  {executions.map((execution) => (\r\n                    <tr key={execution.id} className=\"hover:bg-muted/30\">\r\n                      <td className=\"px-4 py-3\">\r\n                        <p className=\"font-medium\">\r\n                          {templates?.find((t) => t.id === execution.templateId)?.name ||\r\n                            execution.reportType.replace(/_/g, ' ')}\r\n                        </p>\r\n                        <p className=\"text-xs text-muted-foreground capitalize\">\r\n                          {execution.executionType}\r\n                        </p>\r\n                      </td>\r\n                      <td className=\"px-4 py-3 text-sm\">\r\n                        {new Date(execution.startedAt).toLocaleString()}\r\n                        {execution.durationSeconds && (\r\n                          <p className=\"text-xs text-muted-foreground\">\r\n                            {execution.durationSeconds}s\r\n                          </p>\r\n                        )}\r\n                      </td>\r\n                      <td className=\"px-4 py-3 text-sm\">\r\n                        {new Date(execution.dateRangeStart).toLocaleDateString()} &ndash;{' '}\r\n                        {new Date(execution.dateRangeEnd).toLocaleDateString()}\r\n                      </td>\r\n                      <td className=\"px-4 py-3 text-sm uppercase\">{execution.format}</td>\r\n                      <td className=\"px-4 py-3 text-center\">\r\n                        {execution.status === 'completed' ? (\r\n                          <span className=\"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs bg-emerald-100 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-300\">\r\n                            <CheckCircleIcon className=\"h-3 w-3\" />\r\n                            Completed\r\n                          </span>\r\n                        ) : execution.status === 'failed' ? (\r\n                          <span className=\"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs bg-red-100 dark:bg-red-900/20 text-red-700 dark:text-red-300\">\r\n                            <XCircleIcon className=\"h-3 w-3\" />\r\n                            Failed\r\n                          </span>\r\n                        ) : execution.status === 'running' ? (\r\n                          <span className=\"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs bg-blue-100 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300\">\r\n                            <ArrowPathIcon className=\"h-3 w-3 animate-spin\" />\r\n                            Running\r\n                          </span>\r\n                        ) : (\r\n                          <span className=\"px-2 py-1 rounded-full text-xs bg-muted capitalize\">\r\n                            {execution.status}\r\n                          </span>\r\n                        )}\r\n                      </td>\r\n                      <td className=\"px-4 py-3 text-center\">\r\n                        {execution.fileUrl || execution.filePath ? (\r\n                          <a\r\n                            href={execution.fileUrl || execution.filePath}\r\n                            className=\"inline-flex items-center gap-1 text-sm text-primary hover:underline\"\r\n                            target=\"_blank\"\r\n                            rel=\"noopener noreferrer\"\r\n                          >\r\n                            <ArrowDownTrayIcon className=\"h-4 w-4\" />\r\n                            Download\r\n                          </a>\r\n                        ) : execution.status === 'failed' && execution.errorMessage ? (\r\n                          <span className=\"text-xs text-destructive\" title={execution.errorMessage}>\r\n                            {execution.errorMessage.substring(0, 30)}...\r\n                          </span>\r\n                        ) : null}\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          )}\r\n        </>\r\n      )}\r\n\r\n      {/* ========== Delivery Settings Tab ========== */}\r\n      {activeTab === 'delivery' && (\r\n        <>\r\n          {deliveryLoading ? (\r\n            <div className=\"flex items-center justify-center py-20\">\r\n              <div className=\"animate-spin w-8 h-8 border-2 border-primary border-t-transparent rounded-full\" />\r\n            </div>\r\n          ) : (\r\n            <div className=\"space-y-4\">\r\n              {/* Configured channels */}\r\n              {deliveryConfigs && deliveryConfigs.length > 0 ? (\r\n                deliveryConfigs.map((config) => {\r\n                  const channelInfo = DELIVERY_CHANNELS.find((c) => c.value === config.channel);\r\n                  const Icon = channelInfo?.icon || GlobeAltIcon;\r\n                  return (\r\n                    <div key={config.id} className=\"rounded-xl border bg-card p-6 shadow-card\">\r\n                      <div className=\"flex items-center justify-between\">\r\n                        <div className=\"flex items-center gap-3\">\r\n                          <div className={`p-2 rounded-lg bg-${channelInfo?.color || 'gray'}-100 dark:bg-${channelInfo?.color || 'gray'}-900/20`}>\r\n                            <Icon className={`h-5 w-5 text-${channelInfo?.color || 'gray'}-600`} />\r\n                          </div>\r\n                          <div>\r\n                            <h3 className=\"font-medium\">{config.name}</h3>\r\n                            <p className=\"text-sm text-muted-foreground capitalize\">\r\n                              {config.channel} delivery\r\n                            </p>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"flex items-center gap-3\">\r\n                          {config.isVerified && (\r\n                            <span className=\"inline-flex items-center gap-1 text-xs text-emerald-600\">\r\n                              <CheckCircleIcon className=\"h-3 w-3\" />\r\n                              Verified\r\n                            </span>\r\n                          )}\r\n                          <span\r\n                            className={cn(\r\n                              'px-2 py-1 rounded-full text-xs',\r\n                              config.isActive\r\n                                ? 'bg-emerald-100 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-300'\r\n                                : 'bg-gray-100 dark:bg-gray-900/20 text-gray-700 dark:text-gray-300'\r\n                            )}\r\n                          >\r\n                            {config.isActive ? 'Enabled' : 'Disabled'}\r\n                          </span>\r\n                          <button\r\n                            onClick={() => verifyChannel.mutate(config.id)}\r\n                            disabled={verifyChannel.isPending}\r\n                            className=\"p-1.5 rounded hover:bg-muted text-muted-foreground hover:text-foreground\"\r\n                            title=\"Verify channel\"\r\n                          >\r\n                            <CheckCircleIcon className=\"h-4 w-4\" />\r\n                          </button>\r\n                          <button\r\n                            onClick={() => deleteDeliveryChannel.mutate(config.id)}\r\n                            className=\"p-1.5 rounded hover:bg-muted text-muted-foreground hover:text-destructive\"\r\n                            title=\"Remove channel\"\r\n                          >\r\n                            <TrashIcon className=\"h-4 w-4\" />\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })\r\n              ) : (\r\n                <div className=\"rounded-xl border bg-card p-12 text-center\">\r\n                  <Cog6ToothIcon className=\"h-12 w-12 text-muted-foreground/30 mx-auto mb-4\" />\r\n                  <p className=\"text-muted-foreground mb-2\">No delivery channels configured</p>\r\n                  <p className=\"text-sm text-muted-foreground/70 mb-6\">\r\n                    Add a channel to enable automated report delivery.\r\n                  </p>\r\n                  <button\r\n                    onClick={() => {\r\n                      setDeliveryForm({ channel: 'email', name: '', config: {} });\r\n                      setShowDeliveryEditor(true);\r\n                    }}\r\n                    className=\"inline-flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors\"\r\n                  >\r\n                    <PlusIcon className=\"h-4 w-4\" />\r\n                    Add delivery channel\r\n                  </button>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </>\r\n      )}\r\n\r\n      {/* ========== Template Editor Modal ========== */}\r\n      {showTemplateEditor && (\r\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4\">\r\n          <div className=\"bg-card border rounded-xl w-full max-w-lg max-h-[90vh] overflow-y-auto\">\r\n            <div className=\"flex items-center justify-between p-4 border-b sticky top-0 bg-card z-10\">\r\n              <h3 className=\"text-lg font-semibold\">\r\n                {editingTemplate ? 'Edit Template' : 'New Report Template'}\r\n              </h3>\r\n              <button onClick={() => setShowTemplateEditor(false)} className=\"p-2 text-muted-foreground hover:text-foreground\">\r\n                <XMarkIcon className=\"h-5 w-5\" />\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"p-6 space-y-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-1.5\">Name *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={templateForm.name}\r\n                  onChange={(e) => setTemplateForm((f) => ({ ...f, name: e.target.value }))}\r\n                  className=\"w-full px-4 py-2.5 bg-muted/50 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/50\"\r\n                  placeholder=\"e.g. Weekly Performance Report\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-1.5\">Description</label>\r\n                <textarea\r\n                  value={templateForm.description}\r\n                  onChange={(e) => setTemplateForm((f) => ({ ...f, description: e.target.value }))}\r\n                  rows={2}\r\n                  className=\"w-full px-4 py-2.5 bg-muted/50 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/50 resize-none\"\r\n                  placeholder=\"What does this report cover?\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-1.5\">Report Type</label>\r\n                  <select\r\n                    value={templateForm.reportType}\r\n                    onChange={(e) => setTemplateForm((f) => ({ ...f, reportType: e.target.value as ReportType }))}\r\n                    className=\"w-full px-4 py-2.5 bg-muted/50 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/50\"\r\n                  >\r\n                    {REPORT_TYPES.map((rt) => (\r\n                      <option key={rt.value} value={rt.value}>{rt.label}</option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-1.5\">Default Format</label>\r\n                  <select\r\n                    value={templateForm.defaultFormat}\r\n                    onChange={(e) => setTemplateForm((f) => ({ ...f, defaultFormat: e.target.value as ReportFormat }))}\r\n                    className=\"w-full px-4 py-2.5 bg-muted/50 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/50\"\r\n                  >\r\n                    {REPORT_FORMATS.map((rf) => (\r\n                      <option key={rf.value} value={rf.value}>{rf.label}</option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-1.5\">Sections</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={templateForm.sections}\r\n                  onChange={(e) => setTemplateForm((f) => ({ ...f, sections: e.target.value }))}\r\n                  className=\"w-full px-4 py-2.5 bg-muted/50 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/50\"\r\n                  placeholder=\"overview, metrics, charts, recommendations (comma-separated)\"\r\n                />\r\n                <p className=\"text-xs text-muted-foreground mt-1\">Comma-separated section names</p>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex justify-end gap-3 p-4 border-t sticky bottom-0 bg-card\">\r\n              <button onClick={() => setShowTemplateEditor(false)} className=\"px-4 py-2 text-muted-foreground hover:text-foreground\">\r\n                Cancel\r\n              </button>\r\n              <button\r\n                onClick={handleSaveTemplate}\r\n                disabled={!templateForm.name || createTemplate.isPending || updateTemplate.isPending}\r\n                className=\"px-4 py-2 bg-primary text-primary-foreground rounded-lg font-medium disabled:opacity-50 hover:bg-primary/90 transition-colors\"\r\n              >\r\n                {createTemplate.isPending || updateTemplate.isPending\r\n                  ? 'Saving...'\r\n                  : editingTemplate ? 'Update Template' : 'Create Template'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* ========== Schedule Editor Modal ========== */}\r\n      {showScheduleEditor && (\r\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4\">\r\n          <div className=\"bg-card border rounded-xl w-full max-w-lg max-h-[90vh] overflow-y-auto\">\r\n            <div className=\"flex items-center justify-between p-4 border-b sticky top-0 bg-card z-10\">\r\n              <h3 className=\"text-lg font-semibold\">New Report Schedule</h3>\r\n              <button onClick={() => setShowScheduleEditor(false)} className=\"p-2 text-muted-foreground hover:text-foreground\">\r\n                <XMarkIcon className=\"h-5 w-5\" />\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"p-6 space-y-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-1.5\">Schedule Name *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={scheduleForm.name}\r\n                  onChange={(e) => setScheduleForm((f) => ({ ...f, name: e.target.value }))}\r\n                  className=\"w-full px-4 py-2.5 bg-muted/50 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/50\"\r\n                  placeholder=\"e.g. Weekly Monday Report\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-1.5\">Template *</label>\r\n                <select\r\n                  value={scheduleForm.templateId}\r\n                  onChange={(e) => setScheduleForm((f) => ({ ...f, templateId: e.target.value }))}\r\n                  className=\"w-full px-4 py-2.5 bg-muted/50 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/50\"\r\n                >\r\n                  <option value=\"\">Select template...</option>\r\n                  {templates?.map((t) => (\r\n                    <option key={t.id} value={t.id}>{t.name}</option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-1.5\">Frequency</label>\r\n                  <select\r\n                    value={scheduleForm.frequency}\r\n                    onChange={(e) => setScheduleForm((f) => ({ ...f, frequency: e.target.value as ScheduleFrequency }))}\r\n                    className=\"w-full px-4 py-2.5 bg-muted/50 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/50\"\r\n                  >\r\n                    {FREQUENCIES.map((freq) => (\r\n                      <option key={freq.value} value={freq.value}>{freq.label}</option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-1.5\">Timezone</label>\r\n                  <select\r\n                    value={scheduleForm.timezone}\r\n                    onChange={(e) => setScheduleForm((f) => ({ ...f, timezone: e.target.value }))}\r\n                    className=\"w-full px-4 py-2.5 bg-muted/50 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/50\"\r\n                  >\r\n                    <option value=\"UTC\">UTC</option>\r\n                    <option value=\"America/New_York\">Eastern (US)</option>\r\n                    <option value=\"America/Chicago\">Central (US)</option>\r\n                    <option value=\"America/Los_Angeles\">Pacific (US)</option>\r\n                    <option value=\"Europe/London\">London</option>\r\n                    <option value=\"Asia/Dubai\">Dubai</option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n\r\n              {scheduleForm.frequency === 'weekly' && (\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-1.5\">Day of Week</label>\r\n                  <select\r\n                    value={scheduleForm.dayOfWeek}\r\n                    onChange={(e) => setScheduleForm((f) => ({ ...f, dayOfWeek: Number(e.target.value) }))}\r\n                    className=\"w-full px-4 py-2.5 bg-muted/50 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/50\"\r\n                  >\r\n                    {DAYS_OF_WEEK.map((day, idx) => (\r\n                      <option key={idx} value={idx}>{day}</option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n              )}\r\n\r\n              {scheduleForm.frequency === 'monthly' && (\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-1.5\">Day of Month</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    min={1}\r\n                    max={28}\r\n                    value={scheduleForm.dayOfMonth}\r\n                    onChange={(e) => setScheduleForm((f) => ({ ...f, dayOfMonth: Number(e.target.value) }))}\r\n                    className=\"w-full px-4 py-2.5 bg-muted/50 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/50\"\r\n                  />\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-1.5\">Hour (0-23)</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    min={0}\r\n                    max={23}\r\n                    value={scheduleForm.hour}\r\n                    onChange={(e) => setScheduleForm((f) => ({ ...f, hour: Number(e.target.value) }))}\r\n                    className=\"w-full px-4 py-2.5 bg-muted/50 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/50\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-1.5\">Minute (0-59)</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    min={0}\r\n                    max={59}\r\n                    value={scheduleForm.minute}\r\n                    onChange={(e) => setScheduleForm((f) => ({ ...f, minute: Number(e.target.value) }))}\r\n                    className=\"w-full px-4 py-2.5 bg-muted/50 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/50\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              {/* Delivery Channels */}\r\n              <div className=\"border-t pt-4\">\r\n                <label className=\"block text-sm font-medium mb-2\">Delivery Channels</label>\r\n                <div className=\"space-y-2\">\r\n                  {DELIVERY_CHANNELS.map((ch) => (\r\n                    <label key={ch.value} className=\"flex items-center gap-3 p-2 rounded-lg hover:bg-muted/50 cursor-pointer\">\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={scheduleForm.deliveryChannels.includes(ch.value)}\r\n                        onChange={(e) => {\r\n                          setScheduleForm((f) => ({\r\n                            ...f,\r\n                            deliveryChannels: e.target.checked\r\n                              ? [...f.deliveryChannels, ch.value]\r\n                              : f.deliveryChannels.filter((c) => c !== ch.value),\r\n                          }));\r\n                        }}\r\n                        className=\"rounded\"\r\n                      />\r\n                      <ch.icon className=\"h-4 w-4 text-muted-foreground\" />\r\n                      <span className=\"text-sm\">{ch.label}</span>\r\n                    </label>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              {scheduleForm.deliveryChannels.includes('email') && (\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-1.5\">Email Recipients</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={scheduleForm.emailRecipients}\r\n                    onChange={(e) => setScheduleForm((f) => ({ ...f, emailRecipients: e.target.value }))}\r\n                    className=\"w-full px-4 py-2.5 bg-muted/50 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/50\"\r\n                    placeholder=\"email1@example.com, email2@example.com\"\r\n                  />\r\n                </div>\r\n              )}\r\n\r\n              {scheduleForm.deliveryChannels.includes('slack') && (\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-1.5\">Slack Channel</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={scheduleForm.slackChannel}\r\n                    onChange={(e) => setScheduleForm((f) => ({ ...f, slackChannel: e.target.value }))}\r\n                    className=\"w-full px-4 py-2.5 bg-muted/50 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/50\"\r\n                    placeholder=\"#reports\"\r\n                  />\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"flex justify-end gap-3 p-4 border-t sticky bottom-0 bg-card\">\r\n              <button onClick={() => setShowScheduleEditor(false)} className=\"px-4 py-2 text-muted-foreground hover:text-foreground\">\r\n                Cancel\r\n              </button>\r\n              <button\r\n                onClick={handleSaveSchedule}\r\n                disabled={!scheduleForm.name || !scheduleForm.templateId || createSchedule.isPending}\r\n                className=\"px-4 py-2 bg-primary text-primary-foreground rounded-lg font-medium disabled:opacity-50 hover:bg-primary/90 transition-colors\"\r\n              >\r\n                {createSchedule.isPending ? 'Creating...' : 'Create Schedule'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* ========== Generate Report Modal ========== */}\r\n      {showGenerateModal && (\r\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4\">\r\n          <div className=\"bg-card border rounded-xl w-full max-w-md\">\r\n            <div className=\"flex items-center justify-between p-4 border-b\">\r\n              <h3 className=\"text-lg font-semibold\">Generate Report</h3>\r\n              <button onClick={() => setShowGenerateModal(false)} className=\"p-2 text-muted-foreground hover:text-foreground\">\r\n                <XMarkIcon className=\"h-5 w-5\" />\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"p-6 space-y-4\">\r\n              <div className=\"p-3 rounded-lg bg-muted/50\">\r\n                <p className=\"text-sm font-medium\">\r\n                  {templates?.find((t) => t.id === generateTemplateId)?.name || 'Unknown'}\r\n                </p>\r\n                <p className=\"text-xs text-muted-foreground capitalize\">\r\n                  {templates?.find((t) => t.id === generateTemplateId)?.reportType.replace(/_/g, ' ')}\r\n                </p>\r\n              </div>\r\n\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-1.5\">Start Date</label>\r\n                  <input\r\n                    type=\"date\"\r\n                    value={generateForm.startDate}\r\n                    onChange={(e) => setGenerateForm((f) => ({ ...f, startDate: e.target.value }))}\r\n                    className=\"w-full px-4 py-2.5 bg-muted/50 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/50\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-1.5\">End Date</label>\r\n                  <input\r\n                    type=\"date\"\r\n                    value={generateForm.endDate}\r\n                    onChange={(e) => setGenerateForm((f) => ({ ...f, endDate: e.target.value }))}\r\n                    className=\"w-full px-4 py-2.5 bg-muted/50 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/50\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-1.5\">Format</label>\r\n                <select\r\n                  value={generateForm.format}\r\n                  onChange={(e) => setGenerateForm((f) => ({ ...f, format: e.target.value as ReportFormat }))}\r\n                  className=\"w-full px-4 py-2.5 bg-muted/50 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/50\"\r\n                >\r\n                  {REPORT_FORMATS.map((rf) => (\r\n                    <option key={rf.value} value={rf.value}>{rf.label}</option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex justify-end gap-3 p-4 border-t\">\r\n              <button onClick={() => setShowGenerateModal(false)} className=\"px-4 py-2 text-muted-foreground hover:text-foreground\">\r\n                Cancel\r\n              </button>\r\n              <button\r\n                onClick={handleGenerate}\r\n                disabled={generateReport.isPending}\r\n                className=\"px-4 py-2 bg-primary text-primary-foreground rounded-lg font-medium disabled:opacity-50 hover:bg-primary/90 transition-colors\"\r\n              >\r\n                {generateReport.isPending ? 'Generating...' : 'Generate Report'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* ========== Delivery Channel Editor Modal ========== */}\r\n      {showDeliveryEditor && (\r\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4\">\r\n          <div className=\"bg-card border rounded-xl w-full max-w-md\">\r\n            <div className=\"flex items-center justify-between p-4 border-b\">\r\n              <h3 className=\"text-lg font-semibold\">Add Delivery Channel</h3>\r\n              <button onClick={() => setShowDeliveryEditor(false)} className=\"p-2 text-muted-foreground hover:text-foreground\">\r\n                <XMarkIcon className=\"h-5 w-5\" />\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"p-6 space-y-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-1.5\">Channel Type</label>\r\n                <select\r\n                  value={deliveryForm.channel}\r\n                  onChange={(e) => setDeliveryForm((f) => ({ ...f, channel: e.target.value as DeliveryChannel, config: {} }))}\r\n                  className=\"w-full px-4 py-2.5 bg-muted/50 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/50\"\r\n                >\r\n                  {DELIVERY_CHANNELS.map((ch) => (\r\n                    <option key={ch.value} value={ch.value}>{ch.label}</option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-1.5\">Name *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={deliveryForm.name}\r\n                  onChange={(e) => setDeliveryForm((f) => ({ ...f, name: e.target.value }))}\r\n                  className=\"w-full px-4 py-2.5 bg-muted/50 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/50\"\r\n                  placeholder={`e.g. ${deliveryForm.channel === 'email' ? 'Team Email' : deliveryForm.channel === 'slack' ? '#reports channel' : 'Webhook endpoint'}`}\r\n                />\r\n              </div>\r\n\r\n              {deliveryForm.channel === 'email' && (\r\n                <>\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium mb-1.5\">SMTP Host</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={deliveryForm.config.smtp_host || ''}\r\n                      onChange={(e) => setDeliveryForm((f) => ({ ...f, config: { ...f.config, smtp_host: e.target.value } }))}\r\n                      className=\"w-full px-4 py-2.5 bg-muted/50 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/50\"\r\n                      placeholder=\"smtp.gmail.com\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium mb-1.5\">Default Recipients</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={deliveryForm.config.recipients || ''}\r\n                      onChange={(e) => setDeliveryForm((f) => ({ ...f, config: { ...f.config, recipients: e.target.value } }))}\r\n                      className=\"w-full px-4 py-2.5 bg-muted/50 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/50\"\r\n                      placeholder=\"user@example.com, team@example.com\"\r\n                    />\r\n                  </div>\r\n                </>\r\n              )}\r\n\r\n              {deliveryForm.channel === 'slack' && (\r\n                <>\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium mb-1.5\">Webhook URL *</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={deliveryForm.config.webhook_url || ''}\r\n                      onChange={(e) => setDeliveryForm((f) => ({ ...f, config: { ...f.config, webhook_url: e.target.value } }))}\r\n                      className=\"w-full px-4 py-2.5 bg-muted/50 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/50\"\r\n                      placeholder=\"https://hooks.slack.com/services/...\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium mb-1.5\">Channel</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={deliveryForm.config.channel || ''}\r\n                      onChange={(e) => setDeliveryForm((f) => ({ ...f, config: { ...f.config, channel: e.target.value } }))}\r\n                      className=\"w-full px-4 py-2.5 bg-muted/50 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/50\"\r\n                      placeholder=\"#reports\"\r\n                    />\r\n                  </div>\r\n                </>\r\n              )}\r\n\r\n              {deliveryForm.channel === 'teams' && (\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-1.5\">Webhook URL *</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={deliveryForm.config.webhook_url || ''}\r\n                    onChange={(e) => setDeliveryForm((f) => ({ ...f, config: { ...f.config, webhook_url: e.target.value } }))}\r\n                    className=\"w-full px-4 py-2.5 bg-muted/50 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/50\"\r\n                    placeholder=\"https://outlook.office.com/webhook/...\"\r\n                  />\r\n                </div>\r\n              )}\r\n\r\n              {deliveryForm.channel === 'webhook' && (\r\n                <>\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium mb-1.5\">Webhook URL *</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={deliveryForm.config.webhook_url || ''}\r\n                      onChange={(e) => setDeliveryForm((f) => ({ ...f, config: { ...f.config, webhook_url: e.target.value } }))}\r\n                      className=\"w-full px-4 py-2.5 bg-muted/50 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/50\"\r\n                      placeholder=\"https://your-api.com/reports/webhook\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium mb-1.5\">Auth Header (optional)</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={deliveryForm.config.auth_header || ''}\r\n                      onChange={(e) => setDeliveryForm((f) => ({ ...f, config: { ...f.config, auth_header: e.target.value } }))}\r\n                      className=\"w-full px-4 py-2.5 bg-muted/50 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/50\"\r\n                      placeholder=\"Bearer your-token\"\r\n                    />\r\n                  </div>\r\n                </>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"flex justify-end gap-3 p-4 border-t\">\r\n              <button onClick={() => setShowDeliveryEditor(false)} className=\"px-4 py-2 text-muted-foreground hover:text-foreground\">\r\n                Cancel\r\n              </button>\r\n              <button\r\n                onClick={handleSaveDeliveryChannel}\r\n                disabled={!deliveryForm.name || createDeliveryChannel.isPending}\r\n                className=\"px-4 py-2 bg-primary text-primary-foreground rounded-lg font-medium disabled:opacity-50 hover:bg-primary/90 transition-colors\"\r\n              >\r\n                {createDeliveryChannel.isPending ? 'Adding...' : 'Add Channel'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* ========== Delete Confirmation Modal ========== */}\r\n      {deleteConfirm && (\r\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4\">\r\n          <div className=\"bg-card border rounded-xl p-6 max-w-md w-full\">\r\n            <h3 className=\"text-lg font-semibold mb-2\">\r\n              Delete {deleteConfirm.type === 'template' ? 'Template' : 'Schedule'}\r\n            </h3>\r\n            <p className=\"text-muted-foreground mb-6\">\r\n              Are you sure? This action cannot be undone.\r\n              {deleteConfirm.type === 'template' &&\r\n                ' Any schedules using this template will also be affected.'}\r\n            </p>\r\n            <div className=\"flex justify-end gap-3\">\r\n              <button\r\n                onClick={() => setDeleteConfirm(null)}\r\n                className=\"px-4 py-2 text-muted-foreground hover:text-foreground\"\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                onClick={handleDelete}\r\n                disabled={deleteTemplate.isPending || deleteSchedule.isPending}\r\n                className=\"px-4 py-2 bg-destructive text-destructive-foreground rounded-lg font-medium disabled:opacity-50 hover:bg-destructive/90 transition-colors\"\r\n              >\r\n                {deleteTemplate.isPending || deleteSchedule.isPending ? 'Deleting...' : 'Delete'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":["CalendarDaysIcon","title","titleId","props","svgRef","React.createElement","ForwardRef","React.forwardRef","reportingApi","params","apiClient","templateId","data","scheduleId","limit","executionId","deliveryId","configId","useReportTemplates","useQuery","useCreateReportTemplate","queryClient","useQueryClient","useMutation","useUpdateReportTemplate","useDeleteReportTemplate","useReportSchedules","useCreateReportSchedule","useDeleteReportSchedule","usePauseReportSchedule","useResumeReportSchedule","useRunScheduleNow","useGenerateReport","useReportExecutions","useDeliveryChannelConfigs","useCreateDeliveryChannelConfig","useDeleteDeliveryChannelConfig","useVerifyDeliveryChannel","REPORT_TYPES","REPORT_FORMATS","FREQUENCIES","DAYS_OF_WEEK","DELIVERY_CHANNELS","EnvelopeIcon","ChatBubbleLeftIcon","GlobeAltIcon","Reporting","toast","useToast","activeTab","setActiveTab","useState","showTemplateEditor","setShowTemplateEditor","editingTemplate","setEditingTemplate","templateForm","setTemplateForm","showScheduleEditor","setShowScheduleEditor","scheduleForm","setScheduleForm","showGenerateModal","setShowGenerateModal","generateTemplateId","setGenerateTemplateId","generateForm","setGenerateForm","showDeliveryEditor","setShowDeliveryEditor","deliveryForm","setDeliveryForm","deleteConfirm","setDeleteConfirm","templates","templatesLoading","schedules","schedulesLoading","executions","executionsLoading","deliveryConfigs","deliveryLoading","generateReport","pauseSchedule","resumeSchedule","createTemplate","updateTemplate","deleteTemplate","createSchedule","deleteSchedule","runScheduleNow","createDeliveryChannel","deleteDeliveryChannel","verifyChannel","tabs","openTemplateEditor","template","_a","handleSaveTemplate","s","openScheduleEditor","handleSaveSchedule","deliveryConfig","e","openGenerateModal","handleGenerate","handleSaveDeliveryChannel","handleDelete","handleRunNow","schedule","jsxs","jsx","PlusIcon","tab","cn","Fragment","DocumentChartBarIcon","DocumentTextIcon","PencilSquareIcon","TrashIcon","section","idx","PlayIcon","t","ClockIcon","CheckCircleIcon","XCircleIcon","PauseIcon","ArrowPathIcon","execution","ArrowDownTrayIcon","config","channelInfo","c","Icon","Cog6ToothIcon","XMarkIcon","f","rt","rf","freq","day","ch","_b"],"mappings":"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","x_google_ignoreList":[0]}