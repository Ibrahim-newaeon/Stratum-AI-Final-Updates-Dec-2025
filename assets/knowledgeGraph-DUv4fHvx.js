import{u as t,a as s,b as o}from"./vendor-query-BPt-n81V.js";import{t as n}from"./index-BQex3859.js";function u(e){return t({queryKey:["kg","problems",e],queryFn:async()=>{const a=new URLSearchParams;return e!=null&&e.severity&&a.append("severity",e.severity),e!=null&&e.status&&a.append("status",e.status),(await n.get(`/knowledge-graph/problems?${a}`)).data.data},staleTime:60*1e3,placeholderData:{problems:[{id:"1",severity:"critical",title:"Creative Fatigue Detected",description:"Ad creative performance has dropped 34% in the last 7 days across 12 campaigns.",impact:"-$3,400/week",impactAmount:3400,affectedCampaigns:12,platform:"Meta",detectedAt:"2024-12-08",status:"active"},{id:"2",severity:"warning",title:"Budget Pacing Issue",description:"Google Search campaigns are under-spending by 28% against daily targets.",impact:"-$1,800/week",impactAmount:1800,affectedCampaigns:5,platform:"Google",detectedAt:"2024-12-09",status:"active"},{id:"3",severity:"warning",title:"Audience Overlap",description:"3 Meta ad sets share 45% audience overlap, causing self-competition.",impact:"-$1,000/week",impactAmount:1e3,affectedCampaigns:3,platform:"Meta",detectedAt:"2024-12-10",status:"active"}],summary:{critical:1,warnings:2,resolved30d:8,revenueAtRisk:6200}}})}function l(){const e=s();return o({mutationFn:async a=>(await n.post(`/knowledge-graph/problems/${a}/resolve`)).data,onSuccess:()=>{e.invalidateQueries({queryKey:["kg","problems"]})}})}function p(e="30d"){return t({queryKey:["kg","revenue",e],queryFn:async()=>(await n.get(`/knowledge-graph/revenue?period=${e}`)).data.data,staleTime:5*60*1e3,placeholderData:{attributedRevenue:284500,touchpointsTracked:45200,avgPathLength:4.2,conversionWindow:"7 days",modelComparison:[{channel:"Google Search",firstTouch:42,lastTouch:38,linear:35,dataDriven:37},{channel:"Meta Ads",firstTouch:28,lastTouch:32,linear:30,dataDriven:31},{channel:"Display",firstTouch:12,lastTouch:8,linear:14,dataDriven:13},{channel:"TikTok",firstTouch:10,lastTouch:12,linear:11,dataDriven:11},{channel:"Snapchat",firstTouch:5,lastTouch:6,linear:6,dataDriven:5},{channel:"Organic",firstTouch:3,lastTouch:4,linear:4,dataDriven:3}]}})}function d(e="30d"){return t({queryKey:["kg","channels",e],queryFn:async()=>(await n.get(`/knowledge-graph/channels?period=${e}`)).data.data,staleTime:5*60*1e3,placeholderData:[{channel:"Google Search",revenue:105e3,percentage:37,color:"#4285F4"},{channel:"Meta Ads",revenue:88e3,percentage:31,color:"#0866FF"},{channel:"Display",revenue:37e3,percentage:13,color:"#34A853"},{channel:"TikTok",revenue:31e3,percentage:11,color:"#000000"},{channel:"Snapchat",revenue:14e3,percentage:5,color:"#FFFC00"},{channel:"Organic",revenue:9500,percentage:3,color:"#6B7280"}]})}export{l as a,p as b,d as c,u};
//# sourceMappingURL=knowledgeGraph-DUv4fHvx.js.map
