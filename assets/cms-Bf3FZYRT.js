import{u as i,a as o,b as r}from"./vendor-query-BPt-n81V.js";import{t as n}from"./index-BQex3859.js";const a={all:["cms"],posts:()=>[...a.all,"posts"],postsList:e=>[...a.posts(),"list",e],postsDetail:e=>[...a.posts(),"detail",e],postsAdmin:e=>[...a.posts(),"admin",e],postsAdminDetail:e=>[...a.posts(),"admin","detail",e],categories:()=>[...a.all,"categories"],categoriesList:e=>[...a.categories(),{activeOnly:e}],tags:()=>[...a.all,"tags"],tagsList:()=>[...a.tags(),"list"],authors:()=>[...a.all,"authors"],authorsList:()=>[...a.authors(),"list"],pages:()=>[...a.all,"pages"],pagesList:()=>[...a.pages(),"list"],contacts:()=>[...a.all,"contacts"],contactsList:e=>[...a.contacts(),"list",e],workflow:()=>[...a.all,"workflow"],workflowHistory:e=>[...a.workflow(),"history",e],versions:()=>[...a.all,"versions"],versionHistory:e=>[...a.versions(),e]},y=async(e={})=>{const s=new URLSearchParams;return e.page&&s.append("page",String(e.page)),e.page_size&&s.append("page_size",String(e.page_size)),e.category_slug&&s.append("category_slug",e.category_slug),e.tag_slug&&s.append("tag_slug",e.tag_slug),e.content_type&&s.append("content_type",e.content_type),e.search&&s.append("search",e.search),e.featured_only&&s.append("featured_only","true"),(await n.get(`/cms/posts?${s.toString()}`)).data.data},l=async e=>(await n.get(`/cms/posts/${e}`)).data.data,m=async(e=!0)=>(await n.get(`/cms/categories?active_only=${e}`)).data.data,g=async e=>(await n.post("/cms/contact",e)).data.data,h=async(e={})=>{const s=new URLSearchParams;return e.page&&s.append("page",String(e.page)),e.page_size&&s.append("page_size",String(e.page_size)),e.status_filter&&s.append("status_filter",e.status_filter),e.content_type&&s.append("content_type",e.content_type),e.search&&s.append("search",e.search),(await n.get(`/cms/admin/posts?${s.toString()}`)).data.data},q=async e=>(await n.get(`/cms/admin/posts/${e}`)).data.data,w=async e=>(await n.post("/cms/admin/posts",e)).data.data,C=async(e,s)=>(await n.patch(`/cms/admin/posts/${e}`,s)).data.data,b=async e=>{await n.delete(`/cms/admin/posts/${e}`)},v=async()=>(await n.get("/cms/admin/categories")).data.data,F=async e=>(await n.post("/cms/admin/categories",e)).data.data,S=async(e,s)=>(await n.patch(`/cms/admin/categories/${e}`,s)).data.data,_=async e=>{await n.delete(`/cms/admin/categories/${e}`)},A=async()=>(await n.get("/cms/admin/tags")).data.data,P=async e=>(await n.post("/cms/admin/tags",e)).data.data,f=async e=>{await n.delete(`/cms/admin/tags/${e}`)},K=async()=>(await n.get("/cms/admin/authors")).data.data,$=async e=>(await n.post("/cms/admin/authors",e)).data.data,Q=async(e,s)=>(await n.patch(`/cms/admin/authors/${e}`,s)).data.data,R=async e=>{await n.delete(`/cms/admin/authors/${e}`)},k=async()=>(await n.get("/cms/admin/pages")).data.data,O=async e=>(await n.post("/cms/admin/pages",e)).data.data,L=async(e,s)=>(await n.patch(`/cms/admin/pages/${e}`,s)).data.data,T=async e=>{await n.delete(`/cms/admin/pages/${e}`)},I=async(e={})=>{const s=new URLSearchParams;return e.page&&s.append("page",String(e.page)),e.page_size&&s.append("page_size",String(e.page_size)),e.unread_only&&s.append("unread_only","true"),e.exclude_spam!==void 0&&s.append("exclude_spam",String(e.exclude_spam)),(await n.get(`/cms/admin/contacts?${s.toString()}`)).data.data},x=async(e,s)=>(await n.patch(`/cms/admin/contacts/${e}/read`,{is_read:s})).data.data,U=async(e,s,t)=>(await n.patch(`/cms/admin/contacts/${e}/responded`,{is_responded:s,response_notes:t})).data.data,D=async(e,s)=>(await n.patch(`/cms/admin/contacts/${e}/spam`,{is_spam:s})).data.data,ae=(e={})=>i({queryKey:a.postsList(e),queryFn:()=>y(e)}),ne=e=>i({queryKey:a.postsDetail(e),queryFn:()=>l(e),enabled:!!e}),re=(e=!0)=>i({queryKey:a.categoriesList(e),queryFn:()=>m(e)}),oe=()=>r({mutationFn:g}),ce=(e={})=>i({queryKey:a.postsAdmin(e),queryFn:()=>h(e)}),ie=e=>i({queryKey:a.postsAdminDetail(e),queryFn:()=>q(e),enabled:!!e}),ue=()=>{const e=o();return r({mutationFn:w,onSuccess:()=>{e.invalidateQueries({queryKey:a.posts()})}})},de=()=>{const e=o();return r({mutationFn:({id:s,data:t})=>C(s,t),onSuccess:()=>{e.invalidateQueries({queryKey:a.posts()})}})},pe=()=>{const e=o();return r({mutationFn:b,onSuccess:()=>{e.invalidateQueries({queryKey:a.posts()})}})},ye=()=>i({queryKey:a.categories(),queryFn:v}),le=()=>{const e=o();return r({mutationFn:F,onSuccess:()=>{e.invalidateQueries({queryKey:a.categories()})}})},me=()=>{const e=o();return r({mutationFn:({id:s,data:t})=>S(s,t),onSuccess:()=>{e.invalidateQueries({queryKey:a.categories()})}})},ge=()=>{const e=o();return r({mutationFn:_,onSuccess:()=>{e.invalidateQueries({queryKey:a.categories()})}})},he=()=>i({queryKey:a.tags(),queryFn:A}),qe=()=>{const e=o();return r({mutationFn:P,onSuccess:()=>{e.invalidateQueries({queryKey:a.tags()})}})},we=()=>{const e=o();return r({mutationFn:f,onSuccess:()=>{e.invalidateQueries({queryKey:a.tags()})}})},Ce=()=>i({queryKey:a.authors(),queryFn:K}),be=()=>{const e=o();return r({mutationFn:$,onSuccess:()=>{e.invalidateQueries({queryKey:a.authors()})}})},ve=()=>{const e=o();return r({mutationFn:({id:s,data:t})=>Q(s,t),onSuccess:()=>{e.invalidateQueries({queryKey:a.authors()})}})},Fe=()=>{const e=o();return r({mutationFn:R,onSuccess:()=>{e.invalidateQueries({queryKey:a.authors()})}})},Se=()=>i({queryKey:a.pagesList(),queryFn:k}),_e=()=>{const e=o();return r({mutationFn:O,onSuccess:()=>{e.invalidateQueries({queryKey:a.pages()})}})},Ae=()=>{const e=o();return r({mutationFn:({id:s,data:t})=>L(s,t),onSuccess:()=>{e.invalidateQueries({queryKey:a.pages()})}})},Pe=()=>{const e=o();return r({mutationFn:T,onSuccess:()=>{e.invalidateQueries({queryKey:a.pages()})}})},fe=(e={})=>i({queryKey:a.contactsList(e),queryFn:()=>I(e)}),Ke=()=>{const e=o();return r({mutationFn:({id:s,isRead:t})=>x(s,t),onSuccess:()=>{e.invalidateQueries({queryKey:a.contacts()})}})},$e=()=>{const e=o();return r({mutationFn:({id:s,isResponded:t,responseNotes:c})=>U(s,t,c),onSuccess:()=>{e.invalidateQueries({queryKey:a.contacts()})}})},Qe=()=>{const e=o();return r({mutationFn:({id:s,isSpam:t})=>D(s,t),onSuccess:()=>{e.invalidateQueries({queryKey:a.contacts()})}})},z=async(e,s)=>{const t=s?`?reviewer_id=${s}`:"";return(await n.post(`/cms/admin/posts/${e}/submit-for-review${t}`)).data.data},H=async(e,s)=>{const t=s?`?notes=${encodeURIComponent(s)}`:"";return(await n.post(`/cms/admin/posts/${e}/approve${t}`)).data.data},E=async(e,s)=>(await n.post(`/cms/admin/posts/${e}/reject?reason=${encodeURIComponent(s)}`)).data.data,N=async(e,s)=>(await n.post(`/cms/admin/posts/${e}/request-changes?notes=${encodeURIComponent(s)}`)).data.data,W=async(e,s)=>(await n.post(`/cms/admin/posts/${e}/schedule?scheduled_at=${encodeURIComponent(s)}`)).data.data,j=async e=>(await n.post(`/cms/admin/posts/${e}/publish`)).data.data,B=async e=>(await n.post(`/cms/admin/posts/${e}/unpublish`)).data.data,G=async e=>(await n.post(`/cms/admin/posts/${e}/archive`)).data.data,M=async(e,s=1,t=20)=>(await n.get(`/cms/admin/posts/${e}/workflow-history?page=${s}&page_size=${t}`)).data.data,V=async(e,s=1,t=20)=>(await n.get(`/cms/admin/posts/${e}/versions?page=${s}&page_size=${t}`)).data.data,J=async(e,s)=>(await n.post(`/cms/admin/posts/${e}/restore-version/${s}`)).data.data,Re=()=>{const e=o();return r({mutationFn:({postId:s,reviewerId:t})=>z(s,t),onSuccess:()=>{e.invalidateQueries({queryKey:a.posts()})}})},ke=()=>{const e=o();return r({mutationFn:({postId:s,notes:t})=>H(s,t),onSuccess:()=>{e.invalidateQueries({queryKey:a.posts()})}})},Oe=()=>{const e=o();return r({mutationFn:({postId:s,reason:t})=>E(s,t),onSuccess:()=>{e.invalidateQueries({queryKey:a.posts()})}})},Le=()=>{const e=o();return r({mutationFn:({postId:s,notes:t})=>N(s,t),onSuccess:()=>{e.invalidateQueries({queryKey:a.posts()})}})},Te=()=>{const e=o();return r({mutationFn:({postId:s,scheduledAt:t})=>W(s,t),onSuccess:()=>{e.invalidateQueries({queryKey:a.posts()})}})},Ie=()=>{const e=o();return r({mutationFn:s=>j(s),onSuccess:()=>{e.invalidateQueries({queryKey:a.posts()})}})},xe=()=>{const e=o();return r({mutationFn:s=>B(s),onSuccess:()=>{e.invalidateQueries({queryKey:a.posts()})}})},Ue=()=>{const e=o();return r({mutationFn:s=>G(s),onSuccess:()=>{e.invalidateQueries({queryKey:a.posts()})}})},De=(e,s=1,t=20)=>i({queryKey:a.workflowHistory(e),queryFn:()=>M(e,s,t),enabled:!!e}),ze=(e,s=1,t=20)=>i({queryKey:a.versionHistory(e),queryFn:()=>V(e,s,t),enabled:!!e}),He=()=>{const e=o();return r({mutationFn:({postId:s,version:t})=>J(s,t),onSuccess:(s,t)=>{e.invalidateQueries({queryKey:a.posts()}),e.invalidateQueries({queryKey:a.versionHistory(t.postId)}),e.invalidateQueries({queryKey:a.workflowHistory(t.postId)})}})},Ee={draft:{label:"Draft",color:"text-gray-400",bgColor:"bg-gray-500/20",description:"Work in progress, not yet submitted",allowedActions:["submit_for_review","schedule","publish"]},in_review:{label:"In Review",color:"text-yellow-400",bgColor:"bg-yellow-500/20",description:"Waiting for reviewer approval",allowedActions:["approve","reject","request_changes"]},changes_requested:{label:"Changes Requested",color:"text-orange-400",bgColor:"bg-orange-500/20",description:"Reviewer requested modifications",allowedActions:["submit_for_review"]},approved:{label:"Approved",color:"text-green-400",bgColor:"bg-green-500/20",description:"Ready to publish or schedule",allowedActions:["publish","schedule"]},scheduled:{label:"Scheduled",color:"text-blue-400",bgColor:"bg-blue-500/20",description:"Will be published automatically",allowedActions:["publish","unschedule"]},published:{label:"Published",color:"text-emerald-400",bgColor:"bg-emerald-500/20",description:"Live and visible to readers",allowedActions:["unpublish","archive"]},unpublished:{label:"Unpublished",color:"text-gray-400",bgColor:"bg-gray-500/20",description:"Temporarily taken offline",allowedActions:["publish","archive"]},archived:{label:"Archived",color:"text-gray-500",bgColor:"bg-gray-600/20",description:"Permanently archived",allowedActions:["restore"]},rejected:{label:"Rejected",color:"text-red-400",bgColor:"bg-red-500/20",description:"Did not pass review",allowedActions:["submit_for_review"]}},d={FEATURES:"landing-features",FAQ:"landing-faq",PRICING:"landing-pricing"};async function p(e,s="published"){try{return(await n.get(`/cms/posts?category=${e}&status=${s}`)).data.posts||[]}catch{return[]}}function X(e){const s=new Map;return e.forEach(t=>{const c=t.meta||{},u=c.layerId||"default";s.has(u)||s.set(u,{id:u,name:c.layerName||"Features",description:c.layerDescription||"",color:c.layerColor||"from-stratum-500 to-cyan-500",bgColor:c.layerBgColor||"bg-stratum-500/10",borderColor:c.layerBorderColor||"border-stratum-500/20",iconName:c.layerIcon||"SparklesIcon",displayOrder:c.layerOrder||0,features:[]}),s.get(u).features.push({id:t.id,title:t.title,description:t.excerpt||"",iconName:c.featureIcon||"ChartBarIcon",displayOrder:c.displayOrder||0})}),Array.from(s.values()).sort((t,c)=>t.displayOrder-c.displayOrder).map(t=>({...t,features:t.features.sort((c,u)=>c.displayOrder-u.displayOrder)}))}function Y(e){return e.map(s=>{const t=s.meta||{};return{id:s.id,question:s.title,answer:s.content||s.excerpt||"",category:t.faqCategory||"general",displayOrder:t.displayOrder||0}}).sort((s,t)=>s.displayOrder-t.displayOrder)}function Z(e){return e.map(s=>{const t=s.meta||{};return{id:s.id,name:s.title,description:s.excerpt||"",price:t.price||"$0",period:t.period||"/month",adSpend:t.adSpend||"",features:t.features||[],cta:t.cta||"Get Started",ctaLink:t.ctaLink||"/signup",highlighted:t.highlighted||!1,badge:t.badge,displayOrder:t.displayOrder||0}}).sort((s,t)=>s.displayOrder-t.displayOrder)}const Ne=()=>i({queryKey:[...a.posts(),"features"],queryFn:async()=>{const e=await p(d.FEATURES);return X(e)},staleTime:5*60*1e3}),We=()=>i({queryKey:[...a.posts(),"faq","all"],queryFn:async()=>{const e=await p(d.FAQ);return Y(e)},staleTime:5*60*1e3}),je=()=>i({queryKey:[...a.posts(),"pricing"],queryFn:async()=>{const e=await p(d.PRICING);return Z(e)},staleTime:5*60*1e3});export{xe as A,Ue as B,He as C,De as D,ze as E,ie as F,me as G,ve as H,$e as I,Ne as J,We as K,je as L,ae as M,re as N,ne as O,oe as P,Ee as W,ye as a,he as b,Ce as c,Se as d,fe as e,ue as f,de as g,pe as h,le as i,ge as j,qe as k,we as l,be as m,Fe as n,_e as o,Ae as p,Pe as q,Ke as r,Qe as s,Re as t,ce as u,ke as v,Oe as w,Le as x,Te as y,Ie as z};
//# sourceMappingURL=cms-Bf3FZYRT.js.map
