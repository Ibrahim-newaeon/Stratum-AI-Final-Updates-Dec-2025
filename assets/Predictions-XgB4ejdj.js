import{j as e}from"./vendor-ui-B0DL0VNC.js";import{r as o}from"./vendor-react-Dz7uKsMg.js";import{Q as R,b as C,a7 as A,c as r,h as S,a5 as B,a8 as $,a6 as F,a9 as V,f as z,aa as I}from"./index-BQex3859.js";import{u as P,a as O,b as T}from"./predictions-CzIV1TLQ.js";import"./featureFlagsStore-DvEl_DiZ.js";import{C as D}from"./ConfidenceBandBadge-BR4oR-ha.js";import{F as k}from"./LightBulbIcon-Bq6eSglt.js";import{F as L}from"./BeakerIcon-DX6qkZ0w.js";import{F as M}from"./ArrowTrendingDownIcon-DA5nft8Y.js";import{F as E}from"./PlayIcon-kdWwcgbH.js";import"./vendor-charts-Cj11RBfc.js";import"./vendor-utils-L2YjCnAZ.js";import"./vendor-query-BPt-n81V.js";import"./vendor-motion-CR45sdSp.js";function de(){var g;const{t:G}=R(),[d,h]=o.useState("predictions"),[f,j]=o.useState("30d"),[a,b]=o.useState("all"),{data:n,isLoading:H}=P(),{data:i}=O(),{data:c}=T(),m=(n==null?void 0:n.map(s=>({id:s.campaignId,campaign:`Campaign ${s.campaignId}`,platform:"Meta",metric:"ROAS",currentValue:3.2,predictedValue:s.predictedValue??3.5,confidence:s.confidence??85,trend:(s.predictedValue??0)>3.2?"up":"down",horizon:"30d",updatedAt:new Date})))??[{id:"1",campaign:"Summer Sale 2024",platform:"Meta",metric:"ROAS",currentValue:3.2,predictedValue:3.8,confidence:92,trend:"up",horizon:"30d",updatedAt:new Date(Date.now()-30*60*1e3)},{id:"2",campaign:"Brand Awareness Q4",platform:"Google",metric:"ROAS",currentValue:2.8,predictedValue:2.5,confidence:78,trend:"down",horizon:"30d",updatedAt:new Date(Date.now()-45*60*1e3)},{id:"3",campaign:"TikTok Conversions",platform:"TikTok",metric:"CPA",currentValue:28,predictedValue:24,confidence:85,trend:"up",horizon:"30d",updatedAt:new Date(Date.now()-60*60*1e3)},{id:"4",campaign:"Retargeting Campaign",platform:"Meta",metric:"Conversions",currentValue:450,predictedValue:520,confidence:88,trend:"up",horizon:"30d",updatedAt:new Date(Date.now()-90*60*1e3)}],v=((g=i==null?void 0:i.optimizedAllocation)==null?void 0:g.map(s=>({id:s.campaignId,title:`Optimize ${s.campaignName||s.campaignId}`,description:"Adjust budget for better ROAS",currentBudget:s.currentBudget,recommendedBudget:s.recommendedBudget,expectedImpact:{metric:"ROAS",change:s.expectedRoasChange,unit:"%"},confidence:85,priority:"high"})))??[{id:"1",title:"Increase Summer Sale budget",description:"Campaign is performing above target ROAS and has room to scale",currentBudget:5e3,recommendedBudget:7500,expectedImpact:{metric:"Revenue",change:45,unit:"%"},confidence:91,priority:"high"},{id:"2",title:"Reduce Brand Awareness spend",description:"ROAS trending down, recommend reducing budget to maintain efficiency",currentBudget:3e3,recommendedBudget:2e3,expectedImpact:{metric:"ROAS",change:15,unit:"%"},confidence:82,priority:"medium"},{id:"3",title:"Reallocate to Retargeting",description:"High conversion rates suggest budget reallocation opportunity",currentBudget:2e3,recommendedBudget:3500,expectedImpact:{metric:"Conversions",change:60,unit:"%"},confidence:87,priority:"high"}],N=[{id:"1",name:"Conservative",budgetChange:-20,predictedRoas:3.8,predictedRevenue:145e3,confidence:92},{id:"2",name:"Current",budgetChange:0,predictedRoas:3.5,predictedRevenue:168e3,confidence:88},{id:"3",name:"Aggressive",budgetChange:30,predictedRoas:3.2,predictedRevenue:205e3,confidence:75},{id:"4",name:"Maximum Growth",budgetChange:50,predictedRoas:2.9,predictedRevenue:24e4,confidence:62}],l=(c==null?void 0:c.map(s=>({id:s.id,type:s.severity==="critical"||s.severity==="warning"?"warning":"opportunity",message:s.message})))??[{id:"1",type:"warning",message:"Brand Awareness Q4 ROAS predicted to drop 10% in next 7 days"},{id:"2",type:"opportunity",message:"Summer Sale 2024 has scaling potential - consider budget increase"}],x=(s,t)=>t==="ROAS"?`${s.toFixed(1)}x`:t==="CPA"?`$${s.toFixed(0)}`:t==="Revenue"||t==="Spend"?`$${(s/1e3).toFixed(0)}K`:s.toLocaleString(),y=(s,t)=>{const p=(t-s)/s*100;return{value:Math.abs(p).toFixed(1),isPositive:p>=0}},u=s=>s>=85?"text-green-500":s>=70?"text-amber-500":"text-red-500",w=[{id:"predictions",label:"Live Predictions",icon:B},{id:"optimization",label:"Budget Optimization",icon:$},{id:"scenarios",label:"Scenario Simulator",icon:L}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx(C,{className:"w-7 h-7 text-primary"}),"AI Predictions"]}),e.jsx("p",{className:"text-muted-foreground",children:"Machine learning powered performance forecasts"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("select",{value:f,onChange:s=>j(s.target.value),className:"px-4 py-2 rounded-lg border bg-background focus:outline-none focus:ring-2 focus:ring-primary/20",children:[e.jsx("option",{value:"7d",children:"Next 7 days"}),e.jsx("option",{value:"30d",children:"Next 30 days"}),e.jsx("option",{value:"90d",children:"Next 90 days"})]}),e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg border hover:bg-muted transition-colors",children:[e.jsx(A,{className:"w-4 h-4"}),"Refresh"]})]})]}),l.length>0&&e.jsx("div",{className:"space-y-2",children:l.map(s=>e.jsxs("div",{className:r("flex items-center gap-3 p-3 rounded-xl border",s.type==="warning"&&"bg-amber-500/5 border-amber-500/20",s.type==="opportunity"&&"bg-green-500/5 border-green-500/20"),children:[s.type==="warning"?e.jsx(S,{className:"w-5 h-5 text-amber-500"}):e.jsx(k,{className:"w-5 h-5 text-green-500"}),e.jsx("span",{className:s.type==="warning"?"text-amber-700":"text-green-700",children:s.message})]},s.id))}),e.jsx("div",{className:"flex items-center gap-2 border-b pb-4",children:w.map(s=>{const t=s.icon;return e.jsxs("button",{onClick:()=>h(s.id),className:r("flex items-center gap-2 px-4 py-2 rounded-lg transition-colors",d===s.id?"bg-primary/10 text-primary":"text-muted-foreground hover:text-foreground hover:bg-muted"),children:[e.jsx(t,{className:"w-4 h-4"}),s.label]},s.id)})}),d==="predictions"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Performance Predictions"}),e.jsxs("select",{value:a,onChange:s=>b(s.target.value),className:"px-3 py-2 rounded-lg border bg-background text-sm focus:outline-none focus:ring-2 focus:ring-primary/20",children:[e.jsx("option",{value:"all",children:"All Campaigns"}),m.map(s=>e.jsx("option",{value:s.id,children:s.campaign},s.id))]})]}),e.jsx("div",{className:"grid gap-4",children:m.filter(s=>a==="all"||s.id===a).map(s=>{const t=y(s.currentValue,s.predictedValue);return e.jsxs("div",{className:"p-4 rounded-xl border bg-card hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-semibold",children:s.campaign}),e.jsx("span",{className:"px-2 py-0.5 rounded bg-muted text-xs",children:s.platform})]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.metric," prediction for next ",s.horizon]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{score:s.confidence,size:"sm"}),e.jsxs("span",{className:r("text-sm font-medium",u(s.confidence)),children:[s.confidence,"% confidence"]})]})]}),e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Current"}),e.jsx("div",{className:"text-2xl font-bold",children:x(s.currentValue,s.metric)})]}),e.jsx("div",{className:"flex items-center gap-2",children:s.trend==="up"?e.jsx(F,{className:"w-6 h-6 text-green-500"}):s.trend==="down"?e.jsx(M,{className:"w-6 h-6 text-red-500"}):e.jsx("div",{className:"w-6 h-0.5 bg-muted-foreground"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Predicted"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl font-bold",children:x(s.predictedValue,s.metric)}),e.jsxs("span",{className:r("text-sm font-medium",t.isPositive?"text-green-500":"text-red-500"),children:[t.isPositive?"+":"-",t.value,"%"]})]})]}),e.jsxs("div",{className:"ml-auto text-sm text-muted-foreground",children:[e.jsx(V,{className:"w-4 h-4 inline mr-1"}),"Updated ",Math.floor((Date.now()-s.updatedAt.getTime())/6e4),"m ago"]})]})]},s.id)})})]}),d==="optimization"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Budget Optimization"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"AI-recommended budget adjustments to maximize performance"})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Potential Revenue Gain:"}),e.jsx("span",{className:"ml-2 text-green-500 font-semibold",children:"+$24,500"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Avg Confidence:"}),e.jsx("span",{className:"ml-2 font-semibold",children:"87%"})]})]})]}),e.jsx("div",{className:"grid gap-4",children:v.map(s=>e.jsxs("div",{className:r("p-4 rounded-xl border bg-card",s.priority==="high"&&"border-green-500/30"),children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-semibold",children:s.title}),e.jsxs("span",{className:r("px-2 py-0.5 rounded text-xs font-medium",s.priority==="high"&&"bg-green-500/10 text-green-500",s.priority==="medium"&&"bg-amber-500/10 text-amber-500",s.priority==="low"&&"bg-muted text-muted-foreground"),children:[s.priority," priority"]})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.description})]}),e.jsxs("span",{className:r("text-sm font-medium",u(s.confidence)),children:[s.confidence,"% confidence"]})]}),e.jsxs("div",{className:"flex items-center gap-8 mb-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Current Budget"}),e.jsxs("div",{className:"text-xl font-bold",children:["$",s.currentBudget.toLocaleString()]})]}),e.jsx("div",{className:"text-xl text-muted-foreground",children:"â†’"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Recommended"}),e.jsxs("div",{className:r("text-xl font-bold",s.recommendedBudget>s.currentBudget?"text-green-500":"text-amber-500"),children:["$",s.recommendedBudget.toLocaleString()]})]}),e.jsxs("div",{className:"ml-auto",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Expected Impact"}),e.jsxs("div",{className:"text-xl font-bold text-green-500",children:["+",s.expectedImpact.change,s.expectedImpact.unit," ",s.expectedImpact.metric]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-primary text-primary-foreground hover:bg-primary/90 transition-colors",children:[e.jsx(z,{className:"w-4 h-4"}),"Apply"]}),e.jsx("button",{className:"px-4 py-2 rounded-lg border hover:bg-muted transition-colors",children:"Dismiss"})]})]},s.id))})]}),d==="scenarios"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Scenario Simulator"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Explore different budget scenarios and their predicted outcomes"})]}),e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-primary text-primary-foreground hover:bg-primary/90 transition-colors",children:[e.jsx(E,{className:"w-4 h-4"}),"Create Custom Scenario"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:N.map(s=>e.jsxs("div",{className:r("p-4 rounded-xl border bg-card hover:shadow-md transition-shadow cursor-pointer",s.name==="Current"&&"ring-2 ring-primary"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold",children:s.name}),e.jsxs("span",{className:r("px-2 py-0.5 rounded text-xs",s.budgetChange>0&&"bg-green-500/10 text-green-500",s.budgetChange<0&&"bg-amber-500/10 text-amber-500",s.budgetChange===0&&"bg-primary/10 text-primary"),children:[s.budgetChange>0?"+":"",s.budgetChange,"% budget"]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Predicted ROAS"}),e.jsxs("div",{className:"text-xl font-bold",children:[s.predictedRoas.toFixed(1),"x"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Predicted Revenue"}),e.jsxs("div",{className:"text-xl font-bold",children:["$",(s.predictedRevenue/1e3).toFixed(0),"K"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex-1 h-2 bg-muted rounded-full overflow-hidden",children:e.jsx("div",{className:r("h-full rounded-full",s.confidence>=80?"bg-green-500":s.confidence>=60?"bg-amber-500":"bg-red-500"),style:{width:`${s.confidence}%`}})}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[s.confidence,"%"]})]})]})]},s.id))}),e.jsxs("div",{className:"p-4 rounded-xl border bg-muted/50",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(I,{className:"w-5 h-5 text-primary"}),e.jsx("h3",{className:"font-medium",children:"Custom Budget Simulator"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Adjust the budget slider to see predicted outcomes"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-sm",children:"-50%"}),e.jsx("input",{type:"range",min:"-50",max:"100",defaultValue:"0",className:"flex-1 h-2 bg-muted rounded-full appearance-none cursor-pointer"}),e.jsx("span",{className:"text-sm",children:"+100%"})]})]})]})]})}export{de as Predictions,de as default};
//# sourceMappingURL=Predictions-XgB4ejdj.js.map
