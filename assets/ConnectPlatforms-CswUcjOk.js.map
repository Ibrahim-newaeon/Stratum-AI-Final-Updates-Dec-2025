{"version":3,"file":"ConnectPlatforms-CswUcjOk.js","sources":["../../src/views/tenant/ConnectPlatforms.tsx"],"sourcesContent":["/**\r\n * Stratum AI - Connect Platforms Page\r\n *\r\n * OAuth connection management for advertising platforms.\r\n * Supports Meta, Google, TikTok, and Snapchat ad platforms.\r\n */\r\n\r\nimport { useMemo, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport {\r\n  ArrowPathIcon,\r\n  CheckCircleIcon,\r\n  ExclamationTriangleIcon,\r\n  LinkIcon,\r\n  XCircleIcon,\r\n} from '@heroicons/react/24/outline';\r\nimport { cn } from '@/lib/utils';\r\nimport {\r\n  type Platform,\r\n  useAdAccounts,\r\n  useConnectorStatus,\r\n  useDisconnectPlatform,\r\n  useRefreshToken,\r\n  useStartConnection,\r\n} from '@/api/campaignBuilder';\r\n\r\ninterface PlatformConnection {\r\n  id: string;\r\n  name: string;\r\n  logo: string;\r\n  status: 'connected' | 'disconnected' | 'expired' | 'error';\r\n  connectedAt?: string;\r\n  expiresAt?: string;\r\n  accountCount?: number;\r\n}\r\n\r\nconst platforms: PlatformConnection[] = [\r\n  {\r\n    id: 'meta',\r\n    name: 'Meta Ads',\r\n    logo: '/platforms/meta.svg',\r\n    status: 'connected',\r\n    connectedAt: '2024-01-15',\r\n    expiresAt: '2025-01-15',\r\n    accountCount: 3,\r\n  },\r\n  {\r\n    id: 'google',\r\n    name: 'Google Ads',\r\n    logo: '/platforms/google.svg',\r\n    status: 'connected',\r\n    connectedAt: '2024-02-10',\r\n    expiresAt: '2025-02-10',\r\n    accountCount: 2,\r\n  },\r\n  {\r\n    id: 'tiktok',\r\n    name: 'TikTok Ads',\r\n    logo: '/platforms/tiktok.svg',\r\n    status: 'disconnected',\r\n  },\r\n  {\r\n    id: 'snapchat',\r\n    name: 'Snapchat Ads',\r\n    logo: '/platforms/snapchat.svg',\r\n    status: 'disconnected',\r\n  },\r\n  {\r\n    id: 'linkedin',\r\n    name: 'LinkedIn Ads',\r\n    logo: '/platforms/linkedin.svg',\r\n    status: 'disconnected',\r\n  },\r\n];\r\n\r\n// Connection health based on signal reliability\r\ntype ConnectionHealth = 'healthy' | 'degraded' | 'unhealthy';\r\nconst platformHealthMock: Record<string, { health: ConnectionHealth; emqScore: number; lastSync: string; dataVolume: string }> = {\r\n  meta: { health: 'healthy', emqScore: 92, lastSync: '2 min ago', dataVolume: '12.4k events/day' },\r\n  google: { health: 'healthy', emqScore: 88, lastSync: '5 min ago', dataVolume: '8.2k events/day' },\r\n  tiktok: { health: 'degraded', emqScore: 0, lastSync: 'Never', dataVolume: '0 events' },\r\n  snapchat: { health: 'unhealthy', emqScore: 0, lastSync: 'Never', dataVolume: '0 events' },\r\n  linkedin: { health: 'unhealthy', emqScore: 0, lastSync: 'Never', dataVolume: '0 events' },\r\n};\r\n\r\nconst healthDotColor: Record<ConnectionHealth, string> = {\r\n  healthy: 'bg-green-500',\r\n  degraded: 'bg-amber-500',\r\n  unhealthy: 'bg-gray-500',\r\n};\r\n\r\nconst statusConfig = {\r\n  connected: {\r\n    icon: CheckCircleIcon,\r\n    color: 'text-emerald-600 dark:text-emerald-400',\r\n    bgColor: 'bg-emerald-50 dark:bg-emerald-950/30',\r\n    label: 'Connected',\r\n  },\r\n  disconnected: {\r\n    icon: XCircleIcon,\r\n    color: 'text-gray-400',\r\n    bgColor: 'bg-gray-50 dark:bg-gray-900/30',\r\n    label: 'Not Connected',\r\n  },\r\n  expired: {\r\n    icon: ExclamationTriangleIcon,\r\n    color: 'text-amber-600 dark:text-amber-400',\r\n    bgColor: 'bg-amber-50 dark:bg-amber-950/30',\r\n    label: 'Token Expired',\r\n  },\r\n  error: {\r\n    icon: XCircleIcon,\r\n    color: 'text-red-600 dark:text-red-400',\r\n    bgColor: 'bg-red-50 dark:bg-red-950/30',\r\n    label: 'Connection Error',\r\n  },\r\n};\r\n\r\nexport default function ConnectPlatforms() {\r\n  const { tenantId } = useParams<{ tenantId: string }>();\r\n  const tid = parseInt(tenantId || '1', 10);\r\n  const [connecting, setConnecting] = useState<string | null>(null);\r\n\r\n  // API hooks for connector status\r\n  const { data: metaStatus } = useConnectorStatus(tid, 'meta');\r\n  const { data: googleStatus } = useConnectorStatus(tid, 'google');\r\n  const { data: tiktokStatus } = useConnectorStatus(tid, 'tiktok');\r\n  const { data: snapchatStatus } = useConnectorStatus(tid, 'snapchat');\r\n\r\n  // API hooks for ad account counts\r\n  const { data: metaAccounts } = useAdAccounts(tid, 'meta');\r\n  const { data: googleAccounts } = useAdAccounts(tid, 'google');\r\n  const { data: tiktokAccounts } = useAdAccounts(tid, 'tiktok');\r\n  const { data: snapchatAccounts } = useAdAccounts(tid, 'snapchat');\r\n\r\n  // Mutation hooks\r\n  const startConnection = useStartConnection(tid);\r\n  const refreshToken = useRefreshToken(tid);\r\n  const disconnectPlatform = useDisconnectPlatform(tid);\r\n\r\n  // Build platforms with API data or fallback to mock\r\n  const platformsWithStatus: PlatformConnection[] = useMemo(() => {\r\n    const statusMap: Record<string, typeof metaStatus> = {\r\n      meta: metaStatus,\r\n      google: googleStatus,\r\n      tiktok: tiktokStatus,\r\n      snapchat: snapchatStatus,\r\n    };\r\n    const accountsMap: Record<string, typeof metaAccounts> = {\r\n      meta: metaAccounts,\r\n      google: googleAccounts,\r\n      tiktok: tiktokAccounts,\r\n      snapchat: snapchatAccounts,\r\n    };\r\n\r\n    return platforms.map((p) => {\r\n      const apiStatus = statusMap[p.id];\r\n      const accounts = accountsMap[p.id];\r\n\r\n      if (apiStatus) {\r\n        return {\r\n          ...p,\r\n          status: apiStatus.status as PlatformConnection['status'],\r\n          connectedAt: apiStatus.connected_at?.split('T')[0],\r\n          accountCount: accounts?.length ?? 0,\r\n        };\r\n      }\r\n      return p;\r\n    });\r\n  }, [\r\n    metaStatus,\r\n    googleStatus,\r\n    tiktokStatus,\r\n    snapchatStatus,\r\n    metaAccounts,\r\n    googleAccounts,\r\n    tiktokAccounts,\r\n    snapchatAccounts,\r\n  ]);\r\n\r\n  const handleConnect = async (platformId: string) => {\r\n    setConnecting(platformId);\r\n    try {\r\n      const result = await startConnection.mutateAsync(platformId as Platform);\r\n      // Redirect to OAuth URL\r\n      if (result.oauth_url) {\r\n        window.location.href = result.oauth_url;\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to start connection:', error);\r\n      // Fallback for demo mode\r\n      alert(`OAuth flow would start for ${platformId}`);\r\n    } finally {\r\n      setConnecting(null);\r\n    }\r\n  };\r\n\r\n  const handleDisconnect = async (platformId: string) => {\r\n    if (confirm('Are you sure you want to disconnect this platform?')) {\r\n      try {\r\n        await disconnectPlatform.mutateAsync(platformId as Platform);\r\n      } catch (error) {\r\n        console.error('Failed to disconnect:', error);\r\n        alert(`Disconnected ${platformId} (demo mode)`);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleRefresh = async (platformId: string) => {\r\n    try {\r\n      await refreshToken.mutateAsync(platformId as Platform);\r\n      alert('Token refreshed successfully');\r\n    } catch (error) {\r\n      console.error('Failed to refresh token:', error);\r\n      alert(`Refreshing token for ${platformId} (demo mode)`);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div>\r\n        <h1 className=\"text-2xl font-bold\">Connect Platforms</h1>\r\n        <p className=\"text-muted-foreground\">\r\n          Connect your advertising accounts via OAuth to manage campaigns and access ad accounts\r\n        </p>\r\n        <p className=\"text-xs text-muted-foreground mt-2 flex items-center gap-1\">\r\n          <ExclamationTriangleIcon className=\"w-3 h-3\" />\r\n          <span>\r\n            This grants access to <strong>ad accounts & campaigns</strong>. For server-side\r\n            conversion tracking (CAPI), go to{' '}\r\n            <a href=\"/dashboard/capi-setup\" className=\"text-primary hover:underline\">\r\n              CAPI Setup\r\n            </a>\r\n          </span>\r\n        </p>\r\n      </div>\r\n\r\n      {/* Platform Cards */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n        {platformsWithStatus.map((platform) => {\r\n          const status = statusConfig[platform.status];\r\n          const StatusIcon = status.icon;\r\n\r\n          return (\r\n            <div\r\n              key={platform.id}\r\n              className={cn(\r\n                'rounded-xl border p-6 transition-all',\r\n                platform.status === 'connected' ? 'bg-card shadow-card' : 'bg-muted/30'\r\n              )}\r\n            >\r\n              <div className=\"flex items-start justify-between\">\r\n                <div className=\"flex items-center gap-4\">\r\n                  {/* Platform logo placeholder */}\r\n                  <div className=\"h-12 w-12 rounded-lg bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-700 flex items-center justify-center\">\r\n                    <span className=\"text-lg font-bold text-gray-600 dark:text-gray-300\">\r\n                      {platform.name.charAt(0)}\r\n                    </span>\r\n                  </div>\r\n                  <div>\r\n                    <h3 className=\"font-semibold\">{platform.name}</h3>\r\n                    <div className={cn('flex items-center gap-1 text-sm', status.color)}>\r\n                      <StatusIcon className=\"h-4 w-4\" />\r\n                      <span>{status.label}</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                {/* Health indicator */}\r\n                {platform.status === 'connected' && platformHealthMock[platform.id] && (\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <span className={cn('h-2.5 w-2.5 rounded-full', healthDotColor[platformHealthMock[platform.id].health])} />\r\n                    <span className=\"text-xs text-muted-foreground capitalize\">{platformHealthMock[platform.id].health}</span>\r\n                    {platformHealthMock[platform.id].emqScore > 0 && (\r\n                      <span className=\"text-xs font-medium px-1.5 py-0.5 rounded bg-primary/10 text-primary\">\r\n                        EMQ {platformHealthMock[platform.id].emqScore}%\r\n                      </span>\r\n                    )}\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              {/* Connection details */}\r\n              {platform.status === 'connected' && (\r\n                <div className=\"mt-4 pt-4 border-t space-y-2\">\r\n                  <div className=\"flex justify-between text-sm\">\r\n                    <span className=\"text-muted-foreground\">Connected Accounts</span>\r\n                    <span className=\"font-medium\">{platform.accountCount}</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between text-sm\">\r\n                    <span className=\"text-muted-foreground\">Connected On</span>\r\n                    <span className=\"font-medium\">{platform.connectedAt}</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between text-sm\">\r\n                    <span className=\"text-muted-foreground\">Token Expires</span>\r\n                    <span className=\"font-medium\">{platform.expiresAt}</span>\r\n                  </div>\r\n                  {platformHealthMock[platform.id] && (\r\n                    <>\r\n                      <div className=\"flex justify-between text-sm\">\r\n                        <span className=\"text-muted-foreground\">Last Sync</span>\r\n                        <span className=\"font-medium\">{platformHealthMock[platform.id].lastSync}</span>\r\n                      </div>\r\n                      <div className=\"flex justify-between text-sm\">\r\n                        <span className=\"text-muted-foreground\">Data Volume</span>\r\n                        <span className=\"font-medium\">{platformHealthMock[platform.id].dataVolume}</span>\r\n                      </div>\r\n                    </>\r\n                  )}\r\n                </div>\r\n              )}\r\n\r\n              {/* Actions */}\r\n              <div className=\"mt-4 flex gap-2\">\r\n                {platform.status === 'connected' ? (\r\n                  <>\r\n                    <button\r\n                      onClick={() => handleRefresh(platform.id)}\r\n                      className=\"flex items-center gap-2 px-3 py-2 text-sm rounded-lg border hover:bg-accent transition-colors\"\r\n                    >\r\n                      <ArrowPathIcon className=\"h-4 w-4\" />\r\n                      Refresh Token\r\n                    </button>\r\n                    <button\r\n                      onClick={() => handleDisconnect(platform.id)}\r\n                      className=\"flex items-center gap-2 px-3 py-2 text-sm rounded-lg text-red-600 hover:bg-red-50 dark:hover:bg-red-950/30 transition-colors\"\r\n                    >\r\n                      Disconnect\r\n                    </button>\r\n                  </>\r\n                ) : (\r\n                  <button\r\n                    onClick={() => handleConnect(platform.id)}\r\n                    disabled={connecting === platform.id}\r\n                    className=\"flex items-center gap-2 px-4 py-2 text-sm rounded-lg bg-primary text-primary-foreground hover:opacity-90 transition-opacity disabled:opacity-50\"\r\n                  >\r\n                    {connecting === platform.id ? (\r\n                      <ArrowPathIcon className=\"h-4 w-4 animate-spin\" />\r\n                    ) : (\r\n                      <LinkIcon className=\"h-4 w-4\" />\r\n                    )}\r\n                    Connect {platform.name}\r\n                  </button>\r\n                )}\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n\r\n      {/* OAuth Information */}\r\n      <div className=\"rounded-xl border bg-muted/30 p-6\">\r\n        <h3 className=\"font-semibold mb-2\">About Platform Connections</h3>\r\n        <ul className=\"space-y-2 text-sm text-muted-foreground\">\r\n          <li>- OAuth tokens are securely stored and automatically refreshed</li>\r\n          <li>- Connections grant access to view and manage ad accounts</li>\r\n          <li>- You can disconnect at any time from platform settings</li>\r\n          <li>- Campaign Builder requires at least one connected platform</li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["platforms","platformHealthMock","healthDotColor","statusConfig","CheckCircleIcon","XCircleIcon","ExclamationTriangleIcon","ConnectPlatforms","tenantId","useParams","tid","connecting","setConnecting","useState","metaStatus","useConnectorStatus","googleStatus","tiktokStatus","snapchatStatus","metaAccounts","useAdAccounts","googleAccounts","tiktokAccounts","snapchatAccounts","startConnection","useStartConnection","refreshToken","useRefreshToken","disconnectPlatform","useDisconnectPlatform","platformsWithStatus","useMemo","statusMap","accountsMap","p","apiStatus","accounts","_a","handleConnect","platformId","result","error","handleDisconnect","handleRefresh","jsxs","jsx","platform","status","StatusIcon","cn","Fragment","ArrowPathIcon","LinkIcon"],"mappings":"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"}