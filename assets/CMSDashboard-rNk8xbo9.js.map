{"version":3,"file":"CMSDashboard-rNk8xbo9.js","sources":["../../src/views/cms/CMSDashboard.tsx"],"sourcesContent":["/**\r\n * CMS Dashboard\r\n * Main overview page for the Content Management System\r\n */\r\n\r\nimport { Link } from 'react-router-dom';\r\nimport {\r\n  DocumentTextIcon,\r\n  EnvelopeIcon,\r\n  EyeIcon,\r\n  PencilSquareIcon,\r\n  PlusIcon,\r\n  TagIcon,\r\n  UserCircleIcon,\r\n} from '@heroicons/react/24/outline';\r\nimport { useAdminAuthors, useAdminContacts, useAdminCategories, useAdminPosts } from '@/api/cms';\r\n\r\ninterface StatCard {\r\n  name: string;\r\n  value: number;\r\n  icon: React.ComponentType<React.SVGProps<SVGSVGElement>>;\r\n  href: string;\r\n  color: string;\r\n  change?: number;\r\n}\r\n\r\nexport default function CMSDashboard() {\r\n  const { data: postsData, isLoading: postsLoading } = useAdminPosts();\r\n  const { data: categoriesData, isLoading: categoriesLoading } = useAdminCategories();\r\n  const { data: authorsData, isLoading: authorsLoading } = useAdminAuthors();\r\n  const { data: contactsData, isLoading: contactsLoading } = useAdminContacts();\r\n\r\n  const isLoading = postsLoading || categoriesLoading || authorsLoading || contactsLoading;\r\n\r\n  const postsList = postsData?.posts || [];\r\n  const categoriesList = categoriesData?.categories || [];\r\n  const authorsList = authorsData?.authors || [];\r\n  const contactsList = contactsData?.contacts || [];\r\n\r\n  // Count published vs draft posts\r\n  const publishedPosts = postsList.filter((p) => p.status === 'published').length;\r\n  const draftPosts = postsList.filter((p) => p.status === 'draft').length;\r\n\r\n  // Count unread contact submissions\r\n  const unreadContacts = contactsList.filter((c) => !c.is_read).length;\r\n\r\n  const stats: StatCard[] = [\r\n    {\r\n      name: 'Total Posts',\r\n      value: postsData?.total || postsList.length,\r\n      icon: DocumentTextIcon,\r\n      href: '/cms/posts',\r\n      color: 'from-purple-500 to-purple-600',\r\n    },\r\n    {\r\n      name: 'Categories',\r\n      value: categoriesData?.total || categoriesList.length,\r\n      icon: TagIcon,\r\n      href: '/cms/categories',\r\n      color: 'from-cyan-500 to-cyan-600',\r\n    },\r\n    {\r\n      name: 'Authors',\r\n      value: authorsData?.total || authorsList.length,\r\n      icon: UserCircleIcon,\r\n      href: '/cms/authors',\r\n      color: 'from-orange-500 to-orange-600',\r\n    },\r\n    {\r\n      name: 'Contact Messages',\r\n      value: contactsData?.total || contactsList.length,\r\n      icon: EnvelopeIcon,\r\n      href: '/cms/contacts',\r\n      color: 'from-green-500 to-green-600',\r\n    },\r\n  ];\r\n\r\n  const quickActions = [\r\n    { name: 'New Post', href: '/cms/posts/new', icon: PlusIcon },\r\n    { name: 'New Category', href: '/cms/categories', icon: TagIcon },\r\n    { name: 'View Blog', href: '/blog', icon: EyeIcon, external: true },\r\n    { name: 'Edit Features', href: '/cms/landing/features', icon: PencilSquareIcon },\r\n  ];\r\n\r\n  // Get recent posts for activity feed\r\n  const recentPosts = postsList.slice(0, 5);\r\n\r\n  return (\r\n    <div className=\"space-y-8\">\r\n      {/* Header */}\r\n      <div>\r\n        <h1 className=\"text-3xl font-bold text-white\">CMS Dashboard</h1>\r\n        <p className=\"text-white/60 mt-2\">\r\n          Manage your website content, blog posts, and landing page sections.\r\n        </p>\r\n      </div>\r\n\r\n      {/* Stats Grid */}\r\n      <div\r\n        className={`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 ${isLoading ? 'opacity-50' : ''}`}\r\n      >\r\n        {stats.map((stat) => (\r\n          <Link\r\n            key={stat.name}\r\n            to={stat.href}\r\n            className=\"group relative overflow-hidden rounded-2xl bg-white/5 border border-white/10 p-6 hover:border-white/20 transition-all\"\r\n          >\r\n            {/* Gradient accent */}\r\n            <div className={`absolute top-0 left-0 right-0 h-1 bg-gradient-to-r ${stat.color}`} />\r\n\r\n            <div className=\"flex items-start justify-between\">\r\n              <div>\r\n                <p className=\"text-sm font-medium text-white/60\">{stat.name}</p>\r\n                <p className=\"text-3xl font-bold text-white mt-2\">{stat.value}</p>\r\n              </div>\r\n              <div className={`p-3 rounded-xl bg-gradient-to-br ${stat.color} bg-opacity-20`}>\r\n                <stat.icon className=\"w-6 h-6 text-white\" />\r\n              </div>\r\n            </div>\r\n\r\n            {/* Hover indicator */}\r\n            <div className=\"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity\" />\r\n          </Link>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Content Status */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n        {/* Post Status */}\r\n        <div className=\"rounded-2xl bg-white/5 border border-white/10 p-6\">\r\n          <h2 className=\"text-lg font-semibold text-white mb-4\">Content Status</h2>\r\n          <div className=\"space-y-4\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div className=\"flex items-center gap-3\">\r\n                <div className=\"w-3 h-3 rounded-full bg-green-500\" />\r\n                <span className=\"text-white/80\">Published Posts</span>\r\n              </div>\r\n              <span className=\"text-white font-medium\">{publishedPosts}</span>\r\n            </div>\r\n            <div className=\"flex items-center justify-between\">\r\n              <div className=\"flex items-center gap-3\">\r\n                <div className=\"w-3 h-3 rounded-full bg-yellow-500\" />\r\n                <span className=\"text-white/80\">Draft Posts</span>\r\n              </div>\r\n              <span className=\"text-white font-medium\">{draftPosts}</span>\r\n            </div>\r\n            <div className=\"flex items-center justify-between\">\r\n              <div className=\"flex items-center gap-3\">\r\n                <div className=\"w-3 h-3 rounded-full bg-orange-500\" />\r\n                <span className=\"text-white/80\">Unread Messages</span>\r\n              </div>\r\n              <span className=\"text-white font-medium\">{unreadContacts}</span>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Progress bar */}\r\n          <div className=\"mt-6\">\r\n            <div className=\"flex justify-between text-sm mb-2\">\r\n              <span className=\"text-white/60\">Published vs Draft</span>\r\n              <span className=\"text-white/60\">\r\n                {postsList.length ? Math.round((publishedPosts / postsList.length) * 100) : 0}% published\r\n              </span>\r\n            </div>\r\n            <div className=\"h-2 bg-white/10 rounded-full overflow-hidden\">\r\n              <div\r\n                className=\"h-full bg-gradient-to-r from-green-500 to-green-600 transition-all\"\r\n                style={{\r\n                  width: postsList.length ? `${(publishedPosts / postsList.length) * 100}%` : '0%',\r\n                }}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Quick Actions */}\r\n        <div className=\"rounded-2xl bg-white/5 border border-white/10 p-6\">\r\n          <h2 className=\"text-lg font-semibold text-white mb-4\">Quick Actions</h2>\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            {quickActions.map((action) => (\r\n              <Link\r\n                key={action.name}\r\n                to={action.href}\r\n                target={action.external ? '_blank' : undefined}\r\n                className=\"flex items-center gap-3 p-4 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 hover:border-white/20 transition-all\"\r\n              >\r\n                <action.icon className=\"w-5 h-5 text-purple-400\" />\r\n                <span className=\"text-white font-medium\">{action.name}</span>\r\n              </Link>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Recent Activity */}\r\n      <div className=\"rounded-2xl bg-white/5 border border-white/10 p-6\">\r\n        <div className=\"flex items-center justify-between mb-6\">\r\n          <h2 className=\"text-lg font-semibold text-white\">Recent Posts</h2>\r\n          <Link\r\n            to=\"/cms/posts\"\r\n            className=\"text-sm text-purple-400 hover:text-purple-300 transition-colors\"\r\n          >\r\n            View all\r\n          </Link>\r\n        </div>\r\n\r\n        {recentPosts.length > 0 ? (\r\n          <div className=\"space-y-4\">\r\n            {recentPosts.map((post) => (\r\n              <div\r\n                key={post.id}\r\n                className=\"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10\"\r\n              >\r\n                <div className=\"flex items-center gap-4 min-w-0\">\r\n                  <div className=\"w-10 h-10 rounded-lg bg-gradient-to-br from-purple-500/20 to-cyan-500/20 flex items-center justify-center flex-shrink-0\">\r\n                    <DocumentTextIcon className=\"w-5 h-5 text-purple-400\" />\r\n                  </div>\r\n                  <div className=\"min-w-0\">\r\n                    <p className=\"text-white font-medium truncate\">{post.title}</p>\r\n                    <p className=\"text-sm text-white/50\">\r\n                      {post.author?.name || 'Unknown'} &middot;{' '}\r\n                      {post.published_at ? new Date(post.published_at).toLocaleDateString() : 'Draft'}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex items-center gap-3\">\r\n                  <span\r\n                    className={`px-2.5 py-1 rounded-full text-xs font-medium ${\r\n                      post.status === 'published'\r\n                        ? 'bg-green-500/20 text-green-400'\r\n                        : 'bg-yellow-500/20 text-yellow-400'\r\n                    }`}\r\n                  >\r\n                    {post.status}\r\n                  </span>\r\n                  <Link\r\n                    to={`/cms/posts/${post.id}`}\r\n                    className=\"text-white/40 hover:text-white transition-colors\"\r\n                  >\r\n                    <PencilSquareIcon className=\"w-5 h-5\" />\r\n                  </Link>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        ) : (\r\n          <div className=\"text-center py-8\">\r\n            <DocumentTextIcon className=\"w-12 h-12 text-white/20 mx-auto mb-4\" />\r\n            <p className=\"text-white/60\">No posts yet</p>\r\n            <Link\r\n              to=\"/cms/posts/new\"\r\n              className=\"inline-flex items-center gap-2 mt-4 px-4 py-2 rounded-lg bg-purple-500 text-white hover:bg-purple-600 transition-colors\"\r\n            >\r\n              <PlusIcon className=\"w-4 h-4\" />\r\n              Create your first post\r\n            </Link>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["CMSDashboard","postsData","postsLoading","useAdminPosts","categoriesData","categoriesLoading","useAdminCategories","authorsData","authorsLoading","useAdminAuthors","contactsData","contactsLoading","useAdminContacts","isLoading","postsList","categoriesList","authorsList","contactsList","publishedPosts","p","draftPosts","unreadContacts","c","stats","DocumentTextIcon","TagIcon","UserCircleIcon","EnvelopeIcon","quickActions","PlusIcon","EyeIcon","PencilSquareIcon","recentPosts","jsxs","jsx","stat","Link","action","post","_a"],"mappings":"0hBA0BA,SAAwBA,GAAe,CACrC,KAAM,CAAE,KAAMC,EAAW,UAAWC,CAAA,EAAiBC,EAAA,EAC/C,CAAE,KAAMC,EAAgB,UAAWC,CAAA,EAAsBC,EAAA,EACzD,CAAE,KAAMC,EAAa,UAAWC,CAAA,EAAmBC,EAAA,EACnD,CAAE,KAAMC,EAAc,UAAWC,CAAA,EAAoBC,EAAA,EAErDC,EAAYX,GAAgBG,GAAqBG,GAAkBG,EAEnEG,GAAYb,GAAA,YAAAA,EAAW,QAAS,CAAA,EAChCc,GAAiBX,GAAA,YAAAA,EAAgB,aAAc,CAAA,EAC/CY,GAAcT,GAAA,YAAAA,EAAa,UAAW,CAAA,EACtCU,GAAeP,GAAA,YAAAA,EAAc,WAAY,CAAA,EAGzCQ,EAAiBJ,EAAU,OAAQK,GAAMA,EAAE,SAAW,WAAW,EAAE,OACnEC,EAAaN,EAAU,OAAQK,GAAMA,EAAE,SAAW,OAAO,EAAE,OAG3DE,EAAiBJ,EAAa,OAAQK,GAAM,CAACA,EAAE,OAAO,EAAE,OAExDC,EAAoB,CACxB,CACE,KAAM,cACN,OAAOtB,GAAA,YAAAA,EAAW,QAASa,EAAU,OACrC,KAAMU,EACN,KAAM,aACN,MAAO,+BAAA,EAET,CACE,KAAM,aACN,OAAOpB,GAAA,YAAAA,EAAgB,QAASW,EAAe,OAC/C,KAAMU,EACN,KAAM,kBACN,MAAO,2BAAA,EAET,CACE,KAAM,UACN,OAAOlB,GAAA,YAAAA,EAAa,QAASS,EAAY,OACzC,KAAMU,EACN,KAAM,eACN,MAAO,+BAAA,EAET,CACE,KAAM,mBACN,OAAOhB,GAAA,YAAAA,EAAc,QAASO,EAAa,OAC3C,KAAMU,EACN,KAAM,gBACN,MAAO,6BAAA,CACT,EAGIC,EAAe,CACnB,CAAE,KAAM,WAAY,KAAM,iBAAkB,KAAMC,CAAA,EAClD,CAAE,KAAM,eAAgB,KAAM,kBAAmB,KAAMJ,CAAA,EACvD,CAAE,KAAM,YAAa,KAAM,QAAS,KAAMK,EAAS,SAAU,EAAA,EAC7D,CAAE,KAAM,gBAAiB,KAAM,wBAAyB,KAAMC,CAAA,CAAiB,EAI3EC,EAAclB,EAAU,MAAM,EAAG,CAAC,EAExC,OACEmB,EAAAA,KAAC,MAAA,CAAI,UAAU,YAEb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,gCAAgC,SAAA,gBAAa,EAC3DA,EAAAA,IAAC,IAAA,CAAE,UAAU,qBAAqB,SAAA,qEAAA,CAElC,CAAA,EACF,EAGAA,EAAAA,IAAC,MAAA,CACC,UAAW,wDAAwDrB,EAAY,aAAe,EAAE,GAE/F,SAAAU,EAAM,IAAKY,GACVF,EAAAA,KAACG,EAAA,CAEC,GAAID,EAAK,KACT,UAAU,wHAGV,SAAA,CAAAD,MAAC,MAAA,CAAI,UAAW,sDAAsDC,EAAK,KAAK,GAAI,EAEpFF,EAAAA,KAAC,MAAA,CAAI,UAAU,mCACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAAC,IAAA,CAAE,UAAU,oCAAqC,SAAAC,EAAK,KAAK,EAC5DD,EAAAA,IAAC,IAAA,CAAE,UAAU,qCAAsC,WAAK,KAAA,CAAM,CAAA,EAChE,EACAA,EAAAA,IAAC,MAAA,CAAI,UAAW,oCAAoCC,EAAK,KAAK,iBAC5D,SAAAD,EAAAA,IAACC,EAAK,KAAL,CAAU,UAAU,qBAAqB,CAAA,CAC5C,CAAA,EACF,EAGAD,EAAAA,IAAC,MAAA,CAAI,UAAU,2JAAA,CAA4J,CAAA,CAAA,EAlBtKC,EAAK,IAAA,CAoBb,CAAA,CAAA,EAIHF,EAAAA,KAAC,MAAA,CAAI,UAAU,wCAEb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,oDACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,wCAAwC,SAAA,iBAAc,EACpED,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAI,UAAU,mCAAA,CAAoC,EACnDA,EAAAA,IAAC,OAAA,CAAK,UAAU,gBAAgB,SAAA,iBAAA,CAAe,CAAA,EACjD,EACAA,EAAAA,IAAC,OAAA,CAAK,UAAU,yBAA0B,SAAAhB,CAAA,CAAe,CAAA,EAC3D,EACAe,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAI,UAAU,oCAAA,CAAqC,EACpDA,EAAAA,IAAC,OAAA,CAAK,UAAU,gBAAgB,SAAA,aAAA,CAAW,CAAA,EAC7C,EACAA,EAAAA,IAAC,OAAA,CAAK,UAAU,yBAA0B,SAAAd,CAAA,CAAW,CAAA,EACvD,EACAa,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAI,UAAU,oCAAA,CAAqC,EACpDA,EAAAA,IAAC,OAAA,CAAK,UAAU,gBAAgB,SAAA,iBAAA,CAAe,CAAA,EACjD,EACAA,EAAAA,IAAC,OAAA,CAAK,UAAU,yBAA0B,SAAAb,CAAA,CAAe,CAAA,CAAA,CAC3D,CAAA,EACF,EAGAY,EAAAA,KAAC,MAAA,CAAI,UAAU,OACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAC,EAAAA,IAAC,OAAA,CAAK,UAAU,gBAAgB,SAAA,qBAAkB,EAClDD,EAAAA,KAAC,OAAA,CAAK,UAAU,gBACb,SAAA,CAAAnB,EAAU,OAAS,KAAK,MAAOI,EAAiBJ,EAAU,OAAU,GAAG,EAAI,EAAE,aAAA,CAAA,CAChF,CAAA,EACF,EACAoB,EAAAA,IAAC,MAAA,CAAI,UAAU,+CACb,SAAAA,EAAAA,IAAC,MAAA,CACC,UAAU,qEACV,MAAO,CACL,MAAOpB,EAAU,OAAS,GAAII,EAAiBJ,EAAU,OAAU,GAAG,IAAM,IAAA,CAC9E,CAAA,CACF,CACF,CAAA,CAAA,CACF,CAAA,EACF,EAGAmB,EAAAA,KAAC,MAAA,CAAI,UAAU,oDACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,wCAAwC,SAAA,gBAAa,QAClE,MAAA,CAAI,UAAU,yBACZ,SAAAN,EAAa,IAAKS,GACjBJ,EAAAA,KAACG,EAAA,CAEC,GAAIC,EAAO,KACX,OAAQA,EAAO,SAAW,SAAW,OACrC,UAAU,kIAEV,SAAA,CAAAH,EAAAA,IAACG,EAAO,KAAP,CAAY,UAAU,yBAAA,CAA0B,EACjDH,EAAAA,IAAC,OAAA,CAAK,UAAU,yBAA0B,WAAO,IAAA,CAAK,CAAA,CAAA,EANjDG,EAAO,IAAA,CAQf,CAAA,CACH,CAAA,CAAA,CACF,CAAA,EACF,EAGAJ,EAAAA,KAAC,MAAA,CAAI,UAAU,oDACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,mCAAmC,SAAA,eAAY,EAC7DA,EAAAA,IAACE,EAAA,CACC,GAAG,aACH,UAAU,kEACX,SAAA,UAAA,CAAA,CAED,EACF,EAECJ,EAAY,OAAS,EACpBE,EAAAA,IAAC,MAAA,CAAI,UAAU,YACZ,SAAAF,EAAY,IAAKM,GAAA,OAChBL,OAAAA,EAAAA,KAAC,MAAA,CAEC,UAAU,qFAEV,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,kCACb,SAAA,CAAAC,EAAAA,IAAC,OAAI,UAAU,0HACb,eAACV,EAAA,CAAiB,UAAU,0BAA0B,CAAA,CACxD,EACAS,EAAAA,KAAC,MAAA,CAAI,UAAU,UACb,SAAA,CAAAC,EAAAA,IAAC,IAAA,CAAE,UAAU,kCAAmC,SAAAI,EAAK,MAAM,EAC3DL,EAAAA,KAAC,IAAA,CAAE,UAAU,wBACV,SAAA,GAAAM,EAAAD,EAAK,SAAL,YAAAC,EAAa,OAAQ,UAAU,KAAU,IACzCD,EAAK,aAAe,IAAI,KAAKA,EAAK,YAAY,EAAE,qBAAuB,OAAA,CAAA,CAC1E,CAAA,CAAA,CACF,CAAA,EACF,EACAL,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAC,EAAAA,IAAC,OAAA,CACC,UAAW,gDACTI,EAAK,SAAW,YACZ,iCACA,kCACN,GAEC,SAAAA,EAAK,MAAA,CAAA,EAERJ,EAAAA,IAACE,EAAA,CACC,GAAI,cAAcE,EAAK,EAAE,GACzB,UAAU,mDAEV,SAAAJ,EAAAA,IAACH,EAAA,CAAiB,UAAU,SAAA,CAAU,CAAA,CAAA,CACxC,CAAA,CACF,CAAA,CAAA,EA/BKO,EAAK,EAAA,EAiCb,CAAA,CACH,EAEAL,OAAC,MAAA,CAAI,UAAU,mBACb,SAAA,CAAAC,EAAAA,IAACV,EAAA,CAAiB,UAAU,sCAAA,CAAuC,EACnEU,EAAAA,IAAC,IAAA,CAAE,UAAU,gBAAgB,SAAA,eAAY,EACzCD,EAAAA,KAACG,EAAA,CACC,GAAG,iBACH,UAAU,0HAEV,SAAA,CAAAF,EAAAA,IAACL,EAAA,CAAS,UAAU,SAAA,CAAU,EAAE,wBAAA,CAAA,CAAA,CAElC,CAAA,CACF,CAAA,CAAA,CAEJ,CAAA,EACF,CAEJ"}