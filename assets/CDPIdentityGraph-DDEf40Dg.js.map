{"version":3,"file":"CDPIdentityGraph-DDEf40Dg.js","sources":["../../node_modules/@heroicons/react/24/outline/esm/CheckBadgeIcon.js","../../src/views/cdp/CDPIdentityGraph.tsx"],"sourcesContent":["import * as React from \"react\";\nfunction CheckBadgeIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.746 3.746 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(CheckBadgeIcon);\nexport default ForwardRef;","/**\r\n * CDP Identity Graph - Identity resolution visualization\r\n */\r\n\r\nimport { useEffect, useMemo, useRef, useState } from 'react';\r\nimport { useSearchParams } from 'react-router-dom';\r\nimport {\r\n  ArrowPathIcon,\r\n  CheckBadgeIcon,\r\n  DevicePhoneMobileIcon,\r\n  EnvelopeIcon,\r\n  InformationCircleIcon,\r\n  LinkIcon,\r\n  MagnifyingGlassIcon,\r\n  PhoneIcon,\r\n  ShareIcon,\r\n  UserCircleIcon,\r\n  XMarkIcon,\r\n} from '@heroicons/react/24/outline';\r\nimport { cn } from '@/lib/utils';\r\nimport {\r\n  type IdentifierType,\r\n  type IdentityGraphEdge,\r\n  type IdentityGraphNode,\r\n  useCDPProfile,\r\n  useIdentityGraph,\r\n  useProfileMergeHistory,\r\n} from '@/api/cdp';\r\n\r\n// Node type configuration\r\nconst nodeConfig: Record<\r\n  IdentifierType,\r\n  { icon: React.ElementType; color: string; label: string }\r\n> = {\r\n  email: { icon: EnvelopeIcon, color: 'bg-blue-500', label: 'Email' },\r\n  phone: { icon: PhoneIcon, color: 'bg-green-500', label: 'Phone' },\r\n  device_id: { icon: DevicePhoneMobileIcon, color: 'bg-purple-500', label: 'Device' },\r\n  anonymous_id: { icon: UserCircleIcon, color: 'bg-gray-500', label: 'Anonymous' },\r\n  external_id: { icon: LinkIcon, color: 'bg-orange-500', label: 'External' },\r\n};\r\n\r\n// Graph Node Component\r\nfunction GraphNode({\r\n  node,\r\n  x,\r\n  y,\r\n  isSelected,\r\n  onClick,\r\n}: {\r\n  node: IdentityGraphNode;\r\n  x: number;\r\n  y: number;\r\n  isSelected: boolean;\r\n  onClick: () => void;\r\n}) {\r\n  const config = nodeConfig[node.type] || nodeConfig.anonymous_id;\r\n  const Icon = config.icon;\r\n\r\n  return (\r\n    <g transform={`translate(${x}, ${y})`} onClick={onClick} className=\"cursor-pointer\">\r\n      {/* Selection ring */}\r\n      {isSelected && (\r\n        <circle\r\n          r={32}\r\n          fill=\"none\"\r\n          stroke=\"currentColor\"\r\n          strokeWidth={2}\r\n          className=\"text-primary animate-pulse\"\r\n        />\r\n      )}\r\n\r\n      {/* Node circle */}\r\n      <circle r={24} className={cn(config.color, 'transition-transform hover:scale-110')} />\r\n\r\n      {/* Icon */}\r\n      <foreignObject x={-12} y={-12} width={24} height={24}>\r\n        <Icon className=\"h-6 w-6 text-white\" />\r\n      </foreignObject>\r\n\r\n      {/* Primary badge */}\r\n      {node.is_primary && (\r\n        <g transform=\"translate(16, -16)\">\r\n          <circle r={8} className=\"fill-yellow-400\" />\r\n          <foreignObject x={-6} y={-6} width={12} height={12}>\r\n            <CheckBadgeIcon className=\"h-3 w-3 text-yellow-900\" />\r\n          </foreignObject>\r\n        </g>\r\n      )}\r\n\r\n      {/* Label */}\r\n      <text y={40} textAnchor=\"middle\" className=\"text-xs fill-current text-muted-foreground\">\r\n        {config.label}\r\n      </text>\r\n    </g>\r\n  );\r\n}\r\n\r\n// Graph Edge Component\r\nfunction GraphEdge({\r\n  edge,\r\n  x1,\r\n  y1,\r\n  x2,\r\n  y2,\r\n}: {\r\n  edge: IdentityGraphEdge;\r\n  x1: number;\r\n  y1: number;\r\n  x2: number;\r\n  y2: number;\r\n}) {\r\n  const confidence = edge.confidence * 100;\r\n\r\n  return (\r\n    <g>\r\n      <line\r\n        x1={x1}\r\n        y1={y1}\r\n        x2={x2}\r\n        y2={y2}\r\n        stroke=\"currentColor\"\r\n        strokeWidth={Math.max(1, confidence / 25)}\r\n        className=\"text-muted-foreground/50\"\r\n        strokeDasharray={confidence < 50 ? '4 4' : undefined}\r\n      />\r\n      {/* Edge label */}\r\n      <text\r\n        x={(x1 + x2) / 2}\r\n        y={(y1 + y2) / 2 - 8}\r\n        textAnchor=\"middle\"\r\n        className=\"text-[10px] fill-current text-muted-foreground\"\r\n      >\r\n        {edge.type.replace('_', ' ')}\r\n      </text>\r\n    </g>\r\n  );\r\n}\r\n\r\n// Simple force-directed layout\r\nfunction useGraphLayout(\r\n  nodes: IdentityGraphNode[],\r\n  edges: IdentityGraphEdge[],\r\n  width: number,\r\n  height: number\r\n) {\r\n  return useMemo(() => {\r\n    if (nodes.length === 0) return { nodePositions: new Map<string, { x: number; y: number }>() };\r\n\r\n    const positions = new Map<string, { x: number; y: number }>();\r\n    const centerX = width / 2;\r\n    const centerY = height / 2;\r\n    const radius = Math.min(width, height) / 3;\r\n\r\n    // Arrange nodes in a circle\r\n    nodes.forEach((node, i) => {\r\n      const angle = (2 * Math.PI * i) / nodes.length - Math.PI / 2;\r\n      const x = centerX + radius * Math.cos(angle);\r\n      const y = centerY + radius * Math.sin(angle);\r\n      positions.set(node.id, { x, y });\r\n    });\r\n\r\n    return { nodePositions: positions };\r\n  }, [nodes, edges, width, height]);\r\n}\r\n\r\n// Node Detail Panel\r\nfunction NodeDetailPanel({ node, onClose }: { node: IdentityGraphNode; onClose: () => void }) {\r\n  const config = nodeConfig[node.type] || nodeConfig.anonymous_id;\r\n\r\n  return (\r\n    <div className=\"absolute top-4 right-4 w-72 bg-card rounded-xl border shadow-lg p-4\">\r\n      <div className=\"flex items-start justify-between mb-4\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <div\r\n            className={cn('h-10 w-10 rounded-lg flex items-center justify-center', config.color)}\r\n          >\r\n            <config.icon className=\"h-5 w-5 text-white\" />\r\n          </div>\r\n          <div>\r\n            <p className=\"font-semibold\">{config.label}</p>\r\n            <p className=\"text-xs text-muted-foreground\">\r\n              {node.is_primary ? 'Primary' : 'Secondary'}\r\n            </p>\r\n          </div>\r\n        </div>\r\n        <button onClick={onClose} className=\"p-1 hover:bg-muted rounded\">\r\n          <XMarkIcon className=\"h-4 w-4\" />\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"space-y-3 text-sm\">\r\n        <div>\r\n          <p className=\"text-muted-foreground\">Identifier Hash</p>\r\n          <p className=\"font-mono text-xs break-all\">{node.hash}</p>\r\n        </div>\r\n        <div>\r\n          <p className=\"text-muted-foreground\">Priority</p>\r\n          <p className=\"font-medium\">{node.priority}</p>\r\n        </div>\r\n        <div>\r\n          <p className=\"text-muted-foreground\">Status</p>\r\n          <p className=\"font-medium\">\r\n            {node.is_primary ? 'Primary Identifier' : 'Linked Identifier'}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Merge History Component\r\nfunction MergeHistory({ profileId }: { profileId: string }) {\r\n  const { data, isLoading } = useProfileMergeHistory(profileId);\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"space-y-2\">\r\n        {[1, 2].map((i) => (\r\n          <div key={i} className=\"h-16 bg-muted animate-pulse rounded\" />\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!data?.merges || data.merges.length === 0) {\r\n    return (\r\n      <p className=\"text-sm text-muted-foreground py-4 text-center\">\r\n        No merge history for this profile\r\n      </p>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-2\">\r\n      {data.merges.map((merge) => (\r\n        <div key={merge.id} className=\"p-3 bg-muted/50 rounded-lg\">\r\n          <div className=\"flex items-center justify-between mb-1\">\r\n            <span className=\"text-sm font-medium capitalize\">\r\n              {merge.merge_reason.replace('_', ' ')}\r\n            </span>\r\n            <span className=\"text-xs text-muted-foreground\">\r\n              {new Date(merge.created_at).toLocaleDateString()}\r\n            </span>\r\n          </div>\r\n          <p className=\"text-xs text-muted-foreground\">\r\n            Merged {merge.merged_event_count} events, {merge.merged_identifier_count} identifiers\r\n          </p>\r\n          {merge.is_rolled_back && (\r\n            <span className=\"mt-1 inline-block px-2 py-0.5 bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400 rounded text-xs\">\r\n              Rolled back\r\n            </span>\r\n          )}\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function CDPIdentityGraph() {\r\n  const [searchParams] = useSearchParams();\r\n  const initialProfileId = searchParams.get('profile') || '';\r\n\r\n  const [profileId, setProfileId] = useState(initialProfileId);\r\n  const [searchInput, setSearchInput] = useState(initialProfileId);\r\n  const [selectedNode, setSelectedNode] = useState<IdentityGraphNode | null>(null);\r\n  const [showMergeHistory, setShowMergeHistory] = useState(false);\r\n\r\n  const svgRef = useRef<SVGSVGElement>(null);\r\n  const [dimensions, setDimensions] = useState({ width: 600, height: 400 });\r\n\r\n  const {\r\n    data: graphData,\r\n    isLoading: graphLoading,\r\n    refetch,\r\n  } = useIdentityGraph(profileId, {\r\n    enabled: !!profileId,\r\n  });\r\n  const { data: profile } = useCDPProfile(profileId, { enabled: !!profileId });\r\n\r\n  // Update dimensions on resize\r\n  useEffect(() => {\r\n    const updateDimensions = () => {\r\n      if (svgRef.current?.parentElement) {\r\n        const { width, height } = svgRef.current.parentElement.getBoundingClientRect();\r\n        setDimensions({ width, height: Math.max(400, height) });\r\n      }\r\n    };\r\n\r\n    updateDimensions();\r\n    window.addEventListener('resize', updateDimensions);\r\n    return () => window.removeEventListener('resize', updateDimensions);\r\n  }, []);\r\n\r\n  const { nodePositions } = useGraphLayout(\r\n    graphData?.nodes || [],\r\n    graphData?.edges || [],\r\n    dimensions.width,\r\n    dimensions.height\r\n  );\r\n\r\n  const handleSearch = () => {\r\n    setProfileId(searchInput.trim());\r\n    setSelectedNode(null);\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex flex-col sm:flex-row sm:items-center justify-between gap-4\">\r\n        <div>\r\n          <h1 className=\"text-2xl font-bold\">Identity Graph</h1>\r\n          <p className=\"text-muted-foreground mt-1\">\r\n            Visualize identity relationships and profile connections\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Search */}\r\n      <div className=\"flex gap-3\">\r\n        <div className=\"relative flex-1 max-w-md\">\r\n          <MagnifyingGlassIcon className=\"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground\" />\r\n          <input\r\n            type=\"text\"\r\n            value={searchInput}\r\n            onChange={(e) => setSearchInput(e.target.value)}\r\n            onKeyDown={(e) => e.key === 'Enter' && handleSearch()}\r\n            placeholder=\"Enter profile ID...\"\r\n            className=\"w-full pl-10 pr-4 py-2 border rounded-lg bg-background focus:ring-2 focus:ring-primary focus:outline-none font-mono text-sm\"\r\n          />\r\n        </div>\r\n        <button\r\n          onClick={handleSearch}\r\n          className=\"px-4 py-2 bg-primary text-primary-foreground rounded-lg font-medium hover:bg-primary/90 transition-colors\"\r\n        >\r\n          Load Graph\r\n        </button>\r\n        {profileId && (\r\n          <button\r\n            onClick={() => refetch()}\r\n            className=\"p-2 border rounded-lg hover:bg-muted transition-colors\"\r\n            title=\"Refresh\"\r\n          >\r\n            <ArrowPathIcon className=\"h-5 w-5\" />\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      {/* Profile Summary */}\r\n      {profile && (\r\n        <div className=\"bg-card rounded-xl border p-4\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center gap-4\">\r\n              <div className=\"h-12 w-12 rounded-full bg-gradient-stratum flex items-center justify-center\">\r\n                <UserCircleIcon className=\"h-6 w-6 text-white\" />\r\n              </div>\r\n              <div>\r\n                <p className=\"font-semibold font-mono\">{profile.id.slice(0, 16)}...</p>\r\n                <p className=\"text-sm text-muted-foreground capitalize\">\r\n                  {profile.lifecycle_stage} | {profile.total_events} events | $\r\n                  {profile.total_revenue.toLocaleString()} revenue\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <button\r\n                onClick={() => setShowMergeHistory(!showMergeHistory)}\r\n                className={cn(\r\n                  'px-3 py-1.5 text-sm border rounded-lg transition-colors',\r\n                  showMergeHistory ? 'bg-primary/10 border-primary' : 'hover:bg-muted'\r\n                )}\r\n              >\r\n                Merge History\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Main Content */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n        {/* Graph Visualization */}\r\n        <div\r\n          className=\"lg:col-span-2 bg-card rounded-xl border relative\"\r\n          style={{ minHeight: 500 }}\r\n        >\r\n          {!profileId ? (\r\n            <div className=\"absolute inset-0 flex flex-col items-center justify-center text-muted-foreground\">\r\n              <ShareIcon className=\"h-16 w-16 mb-4 opacity-50\" />\r\n              <p className=\"text-lg font-medium\">Enter a Profile ID</p>\r\n              <p className=\"text-sm\">to visualize identity connections</p>\r\n            </div>\r\n          ) : graphLoading ? (\r\n            <div className=\"absolute inset-0 flex items-center justify-center\">\r\n              <div className=\"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full\" />\r\n            </div>\r\n          ) : graphData?.nodes && graphData.nodes.length > 0 ? (\r\n            <>\r\n              <svg ref={svgRef} width=\"100%\" height=\"100%\" className=\"min-h-[500px]\">\r\n                {/* Edges */}\r\n                {graphData.edges.map((edge, i) => {\r\n                  const sourcePos = nodePositions.get(edge.source);\r\n                  const targetPos = nodePositions.get(edge.target);\r\n                  if (!sourcePos || !targetPos) return null;\r\n                  return (\r\n                    <GraphEdge\r\n                      key={i}\r\n                      edge={edge}\r\n                      x1={sourcePos.x}\r\n                      y1={sourcePos.y}\r\n                      x2={targetPos.x}\r\n                      y2={targetPos.y}\r\n                    />\r\n                  );\r\n                })}\r\n\r\n                {/* Nodes */}\r\n                {graphData.nodes.map((node) => {\r\n                  const pos = nodePositions.get(node.id);\r\n                  if (!pos) return null;\r\n                  return (\r\n                    <GraphNode\r\n                      key={node.id}\r\n                      node={node}\r\n                      x={pos.x}\r\n                      y={pos.y}\r\n                      isSelected={selectedNode?.id === node.id}\r\n                      onClick={() => setSelectedNode(node)}\r\n                    />\r\n                  );\r\n                })}\r\n              </svg>\r\n\r\n              {/* Node Detail Panel */}\r\n              {selectedNode && (\r\n                <NodeDetailPanel node={selectedNode} onClose={() => setSelectedNode(null)} />\r\n              )}\r\n            </>\r\n          ) : (\r\n            <div className=\"absolute inset-0 flex flex-col items-center justify-center text-muted-foreground\">\r\n              <InformationCircleIcon className=\"h-16 w-16 mb-4 opacity-50\" />\r\n              <p className=\"text-lg font-medium\">No Identity Graph Data</p>\r\n              <p className=\"text-sm\">This profile has no linked identifiers</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Side Panel */}\r\n        <div className=\"space-y-4\">\r\n          {/* Graph Stats */}\r\n          {graphData && (\r\n            <div className=\"bg-card rounded-xl border p-4\">\r\n              <h3 className=\"font-semibold mb-3\">Graph Statistics</h3>\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div>\r\n                  <p className=\"text-sm text-muted-foreground\">Identifiers</p>\r\n                  <p className=\"text-xl font-bold\">{graphData.total_identifiers}</p>\r\n                </div>\r\n                <div>\r\n                  <p className=\"text-sm text-muted-foreground\">Connections</p>\r\n                  <p className=\"text-xl font-bold\">{graphData.total_links}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Legend */}\r\n          <div className=\"bg-card rounded-xl border p-4\">\r\n            <h3 className=\"font-semibold mb-3\">Legend</h3>\r\n            <div className=\"space-y-2\">\r\n              {Object.entries(nodeConfig).map(([type, config]) => (\r\n                <div key={type} className=\"flex items-center gap-3\">\r\n                  <div\r\n                    className={cn(\r\n                      'h-6 w-6 rounded-full flex items-center justify-center',\r\n                      config.color\r\n                    )}\r\n                  >\r\n                    <config.icon className=\"h-3 w-3 text-white\" />\r\n                  </div>\r\n                  <span className=\"text-sm\">{config.label}</span>\r\n                </div>\r\n              ))}\r\n            </div>\r\n            <div className=\"mt-4 pt-4 border-t space-y-2 text-sm\">\r\n              <div className=\"flex items-center gap-2\">\r\n                <div className=\"h-4 w-8 border-2 border-muted-foreground/50\" />\r\n                <span className=\"text-muted-foreground\">High confidence</span>\r\n              </div>\r\n              <div className=\"flex items-center gap-2\">\r\n                <div className=\"h-4 w-8 border-2 border-muted-foreground/50 border-dashed\" />\r\n                <span className=\"text-muted-foreground\">Low confidence</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Merge History */}\r\n          {showMergeHistory && profileId && (\r\n            <div className=\"bg-card rounded-xl border p-4\">\r\n              <h3 className=\"font-semibold mb-3\">Merge History</h3>\r\n              <MergeHistory profileId={profileId} />\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["CheckBadgeIcon","title","titleId","props","svgRef","React.createElement","ForwardRef","React.forwardRef","nodeConfig","EnvelopeIcon","PhoneIcon","DevicePhoneMobileIcon","UserCircleIcon","LinkIcon","GraphNode","node","x","y","isSelected","onClick","config","Icon","jsxs","jsx","cn","GraphEdge","edge","x1","y1","x2","y2","confidence","useGraphLayout","nodes","edges","width","height","useMemo","positions","centerX","centerY","radius","i","angle","NodeDetailPanel","onClose","XMarkIcon","MergeHistory","profileId","data","isLoading","useProfileMergeHistory","merge","CDPIdentityGraph","searchParams","useSearchParams","initialProfileId","setProfileId","useState","searchInput","setSearchInput","selectedNode","setSelectedNode","showMergeHistory","setShowMergeHistory","useRef","dimensions","setDimensions","graphData","graphLoading","refetch","useIdentityGraph","profile","useCDPProfile","useEffect","updateDimensions","_a","nodePositions","handleSearch","MagnifyingGlassIcon","e","ArrowPathIcon","Fragment","sourcePos","targetPos","pos","InformationCircleIcon","ShareIcon","type"],"mappings":"6pBACA,SAASA,EAAe,CACtB,MAAAC,EACA,QAAAC,EACA,GAAGC,CACL,EAAGC,EAAQ,CACT,OAAoBC,gBAAoB,MAAO,OAAO,OAAO,CAC3D,MAAO,6BACP,KAAM,OACN,QAAS,YACT,YAAa,IACb,OAAQ,eACR,cAAe,OACf,YAAa,OACb,IAAKD,EACL,kBAAmBF,CACvB,EAAKC,CAAK,EAAGF,EAAqBI,EAAAA,cAAoB,QAAS,CAC3D,GAAIH,CACR,EAAKD,CAAK,EAAI,KAAmBI,EAAAA,cAAoB,OAAQ,CACzD,cAAe,QACf,eAAgB,QAChB,EAAG,meACP,CAAG,CAAC,CACJ,CACA,MAAMC,EAA2BC,EAAAA,WAAiBP,CAAc,ECM1DQ,EAGF,CACF,MAAO,CAAE,KAAMC,EAAc,MAAO,cAAe,MAAO,OAAA,EAC1D,MAAO,CAAE,KAAMC,EAAW,MAAO,eAAgB,MAAO,OAAA,EACxD,UAAW,CAAE,KAAMC,EAAuB,MAAO,gBAAiB,MAAO,QAAA,EACzE,aAAc,CAAE,KAAMC,EAAgB,MAAO,cAAe,MAAO,WAAA,EACnE,YAAa,CAAE,KAAMC,EAAU,MAAO,gBAAiB,MAAO,UAAA,CAChE,EAGA,SAASC,EAAU,CACjB,KAAAC,EACA,EAAAC,EACA,EAAAC,EACA,WAAAC,EACA,QAAAC,CACF,EAMG,CACD,MAAMC,EAASZ,EAAWO,EAAK,IAAI,GAAKP,EAAW,aAC7Ca,EAAOD,EAAO,KAEpB,OACEE,EAAAA,KAAC,IAAA,CAAE,UAAW,aAAaN,CAAC,KAAKC,CAAC,IAAK,QAAAE,EAAkB,UAAU,iBAEhE,SAAA,CAAAD,GACCK,EAAAA,IAAC,SAAA,CACC,EAAG,GACH,KAAK,OACL,OAAO,eACP,YAAa,EACb,UAAU,4BAAA,CAAA,EAKdA,EAAAA,IAAC,UAAO,EAAG,GAAI,UAAWC,EAAGJ,EAAO,MAAO,sCAAsC,EAAG,EAGpFG,EAAAA,IAAC,gBAAA,CAAc,EAAG,IAAK,EAAG,IAAK,MAAO,GAAI,OAAQ,GAChD,SAAAA,MAACF,EAAA,CAAK,UAAU,qBAAqB,EACvC,EAGCN,EAAK,YACJO,OAAC,IAAA,CAAE,UAAU,qBACX,SAAA,CAAAC,EAAAA,IAAC,SAAA,CAAO,EAAG,EAAG,UAAU,kBAAkB,EAC1CA,EAAAA,IAAC,gBAAA,CAAc,EAAG,GAAI,EAAG,GAAI,MAAO,GAAI,OAAQ,GAC9C,SAAAA,EAAAA,IAACvB,EAAA,CAAe,UAAU,0BAA0B,CAAA,CACtD,CAAA,EACF,EAIFuB,EAAAA,IAAC,QAAK,EAAG,GAAI,WAAW,SAAS,UAAU,6CACxC,SAAAH,EAAO,KAAA,CACV,CAAA,EACF,CAEJ,CAGA,SAASK,EAAU,CACjB,KAAAC,EACA,GAAAC,EACA,GAAAC,EACA,GAAAC,EACA,GAAAC,CACF,EAMG,CACD,MAAMC,EAAaL,EAAK,WAAa,IAErC,cACG,IAAA,CACC,SAAA,CAAAH,EAAAA,IAAC,OAAA,CACC,GAAAI,EACA,GAAAC,EACA,GAAAC,EACA,GAAAC,EACA,OAAO,eACP,YAAa,KAAK,IAAI,EAAGC,EAAa,EAAE,EACxC,UAAU,2BACV,gBAAiBA,EAAa,GAAK,MAAQ,MAAA,CAAA,EAG7CR,EAAAA,IAAC,OAAA,CACC,GAAII,EAAKE,GAAM,EACf,GAAID,EAAKE,GAAM,EAAI,EACnB,WAAW,SACX,UAAU,iDAET,SAAAJ,EAAK,KAAK,QAAQ,IAAK,GAAG,CAAA,CAAA,CAC7B,EACF,CAEJ,CAGA,SAASM,EACPC,EACAC,EACAC,EACAC,EACA,CACA,OAAOC,EAAAA,QAAQ,IAAM,CACnB,GAAIJ,EAAM,SAAW,EAAG,MAAO,CAAE,cAAe,IAAI,GAAsC,EAE1F,MAAMK,MAAgB,IAChBC,EAAUJ,EAAQ,EAClBK,EAAUJ,EAAS,EACnBK,EAAS,KAAK,IAAIN,EAAOC,CAAM,EAAI,EAGzC,OAAAH,EAAM,QAAQ,CAAClB,EAAM2B,IAAM,CACzB,MAAMC,EAAS,EAAI,KAAK,GAAKD,EAAKT,EAAM,OAAS,KAAK,GAAK,EACrDjB,EAAIuB,EAAUE,EAAS,KAAK,IAAIE,CAAK,EACrC1B,EAAIuB,EAAUC,EAAS,KAAK,IAAIE,CAAK,EAC3CL,EAAU,IAAIvB,EAAK,GAAI,CAAE,EAAAC,EAAG,EAAAC,EAAG,CACjC,CAAC,EAEM,CAAE,cAAeqB,CAAA,CAC1B,EAAG,CAACL,EAAOC,EAAOC,EAAOC,CAAM,CAAC,CAClC,CAGA,SAASQ,EAAgB,CAAE,KAAA7B,EAAM,QAAA8B,GAA6D,CAC5F,MAAMzB,EAASZ,EAAWO,EAAK,IAAI,GAAKP,EAAW,aAEnD,OACEc,EAAAA,KAAC,MAAA,CAAI,UAAU,sEACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,wCACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAC,EAAAA,IAAC,MAAA,CACC,UAAWC,EAAG,wDAAyDJ,EAAO,KAAK,EAEnF,SAAAG,EAAAA,IAACH,EAAO,KAAP,CAAY,UAAU,oBAAA,CAAqB,CAAA,CAAA,SAE7C,MAAA,CACC,SAAA,CAAAG,EAAAA,IAAC,IAAA,CAAE,UAAU,gBAAiB,SAAAH,EAAO,MAAM,QAC1C,IAAA,CAAE,UAAU,gCACV,SAAAL,EAAK,WAAa,UAAY,WAAA,CACjC,CAAA,CAAA,CACF,CAAA,EACF,EACAQ,EAAAA,IAAC,SAAA,CAAO,QAASsB,EAAS,UAAU,6BAClC,SAAAtB,EAAAA,IAACuB,EAAA,CAAU,UAAU,SAAA,CAAU,CAAA,CACjC,CAAA,EACF,EAEAxB,EAAAA,KAAC,MAAA,CAAI,UAAU,oBACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAAC,IAAA,CAAE,UAAU,wBAAwB,SAAA,kBAAe,EACpDA,EAAAA,IAAC,IAAA,CAAE,UAAU,8BAA+B,WAAK,IAAA,CAAK,CAAA,EACxD,SACC,MAAA,CACC,SAAA,CAAAA,EAAAA,IAAC,IAAA,CAAE,UAAU,wBAAwB,SAAA,WAAQ,EAC7CA,EAAAA,IAAC,IAAA,CAAE,UAAU,cAAe,WAAK,QAAA,CAAS,CAAA,EAC5C,SACC,MAAA,CACC,SAAA,CAAAA,EAAAA,IAAC,IAAA,CAAE,UAAU,wBAAwB,SAAA,SAAM,QAC1C,IAAA,CAAE,UAAU,cACV,SAAAR,EAAK,WAAa,qBAAuB,mBAAA,CAC5C,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,EACF,CAEJ,CAGA,SAASgC,EAAa,CAAE,UAAAC,GAAoC,CAC1D,KAAM,CAAE,KAAAC,EAAM,UAAAC,GAAcC,EAAuBH,CAAS,EAE5D,OAAIE,QAEC,MAAA,CAAI,UAAU,YACZ,SAAA,CAAC,EAAG,CAAC,EAAE,IAAKR,GACXnB,EAAAA,IAAC,MAAA,CAAY,UAAU,qCAAA,EAAbmB,CAAmD,CAC9D,EACH,EAIA,EAACO,GAAA,MAAAA,EAAM,SAAUA,EAAK,OAAO,SAAW,EAExC1B,EAAAA,IAAC,IAAA,CAAE,UAAU,iDAAiD,SAAA,oCAE9D,EAKFA,EAAAA,IAAC,MAAA,CAAI,UAAU,YACZ,SAAA0B,EAAK,OAAO,IAAKG,GAChB9B,OAAC,MAAA,CAAmB,UAAU,6BAC5B,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAC,EAAAA,IAAC,OAAA,CAAK,UAAU,iCACb,SAAA6B,EAAM,aAAa,QAAQ,IAAK,GAAG,CAAA,CACtC,EACA7B,EAAAA,IAAC,OAAA,CAAK,UAAU,gCACb,SAAA,IAAI,KAAK6B,EAAM,UAAU,EAAE,mBAAA,CAAmB,CACjD,CAAA,EACF,EACA9B,EAAAA,KAAC,IAAA,CAAE,UAAU,gCAAgC,SAAA,CAAA,UACnC8B,EAAM,mBAAmB,YAAUA,EAAM,wBAAwB,cAAA,EAC3E,EACCA,EAAM,gBACL7B,EAAAA,IAAC,OAAA,CAAK,UAAU,yHAAyH,SAAA,aAAA,CAEzI,CAAA,CAAA,EAfM6B,EAAM,EAiBhB,CACD,EACH,CAEJ,CAEA,SAAwBC,IAAmB,CACzC,KAAM,CAACC,CAAY,EAAIC,EAAA,EACjBC,EAAmBF,EAAa,IAAI,SAAS,GAAK,GAElD,CAACN,EAAWS,CAAY,EAAIC,EAAAA,SAASF,CAAgB,EACrD,CAACG,EAAaC,CAAc,EAAIF,EAAAA,SAASF,CAAgB,EACzD,CAACK,EAAcC,CAAe,EAAIJ,EAAAA,SAAmC,IAAI,EACzE,CAACK,EAAkBC,CAAmB,EAAIN,EAAAA,SAAS,EAAK,EAExDtD,EAAS6D,EAAAA,OAAsB,IAAI,EACnC,CAACC,EAAYC,CAAa,EAAIT,EAAAA,SAAS,CAAE,MAAO,IAAK,OAAQ,IAAK,EAElE,CACJ,KAAMU,EACN,UAAWC,EACX,QAAAC,CAAA,EACEC,EAAiBvB,EAAW,CAC9B,QAAS,CAAC,CAACA,CAAA,CACZ,EACK,CAAE,KAAMwB,CAAA,EAAYC,EAAczB,EAAW,CAAE,QAAS,CAAC,CAACA,EAAW,EAG3E0B,EAAAA,UAAU,IAAM,CACd,MAAMC,EAAmB,IAAM,OAC7B,IAAIC,EAAAxE,EAAO,UAAP,MAAAwE,EAAgB,cAAe,CACjC,KAAM,CAAE,MAAAzC,EAAO,OAAAC,CAAA,EAAWhC,EAAO,QAAQ,cAAc,sBAAA,EACvD+D,EAAc,CAAE,MAAAhC,EAAO,OAAQ,KAAK,IAAI,IAAKC,CAAM,EAAG,CACxD,CACF,EAEA,OAAAuC,EAAA,EACA,OAAO,iBAAiB,SAAUA,CAAgB,EAC3C,IAAM,OAAO,oBAAoB,SAAUA,CAAgB,CACpE,EAAG,CAAA,CAAE,EAEL,KAAM,CAAE,cAAAE,GAAkB7C,GACxBoC,GAAA,YAAAA,EAAW,QAAS,CAAA,GACpBA,GAAA,YAAAA,EAAW,QAAS,CAAA,EACpBF,EAAW,MACXA,EAAW,MAAA,EAGPY,EAAe,IAAM,CACzBrB,EAAaE,EAAY,MAAM,EAC/BG,EAAgB,IAAI,CACtB,EAEA,OACExC,EAAAA,KAAC,MAAA,CAAI,UAAU,YAEb,SAAA,CAAAC,MAAC,MAAA,CAAI,UAAU,kEACb,SAAAD,EAAAA,KAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,qBAAqB,SAAA,iBAAc,EACjDA,EAAAA,IAAC,IAAA,CAAE,UAAU,6BAA6B,SAAA,0DAAA,CAE1C,CAAA,CAAA,CACF,CAAA,CACF,EAGAD,EAAAA,KAAC,MAAA,CAAI,UAAU,aACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,2BACb,SAAA,CAAAC,EAAAA,IAACwD,EAAA,CAAoB,UAAU,wEAAA,CAAyE,EACxGxD,EAAAA,IAAC,QAAA,CACC,KAAK,OACL,MAAOoC,EACP,SAAWqB,GAAMpB,EAAeoB,EAAE,OAAO,KAAK,EAC9C,UAAYA,GAAMA,EAAE,MAAQ,SAAWF,EAAA,EACvC,YAAY,sBACZ,UAAU,6HAAA,CAAA,CACZ,EACF,EACAvD,EAAAA,IAAC,SAAA,CACC,QAASuD,EACT,UAAU,4GACX,SAAA,YAAA,CAAA,EAGA9B,GACCzB,EAAAA,IAAC,SAAA,CACC,QAAS,IAAM+C,EAAA,EACf,UAAU,yDACV,MAAM,UAEN,SAAA/C,EAAAA,IAAC0D,EAAA,CAAc,UAAU,SAAA,CAAU,CAAA,CAAA,CACrC,EAEJ,EAGCT,SACE,MAAA,CAAI,UAAU,gCACb,SAAAlD,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAC,EAAAA,IAAC,OAAI,UAAU,8EACb,eAACX,EAAA,CAAe,UAAU,qBAAqB,CAAA,CACjD,SACC,MAAA,CACC,SAAA,CAAAU,EAAAA,KAAC,IAAA,CAAE,UAAU,0BAA2B,SAAA,CAAAkD,EAAQ,GAAG,MAAM,EAAG,EAAE,EAAE,KAAA,EAAG,EACnElD,EAAAA,KAAC,IAAA,CAAE,UAAU,2CACV,SAAA,CAAAkD,EAAQ,gBAAgB,MAAIA,EAAQ,aAAa,cACjDA,EAAQ,cAAc,eAAA,EAAiB,UAAA,CAAA,CAC1C,CAAA,CAAA,CACF,CAAA,EACF,EACAjD,EAAAA,IAAC,MAAA,CAAI,UAAU,0BACb,SAAAA,EAAAA,IAAC,SAAA,CACC,QAAS,IAAMyC,EAAoB,CAACD,CAAgB,EACpD,UAAWvC,EACT,0DACAuC,EAAmB,+BAAiC,gBAAA,EAEvD,SAAA,eAAA,CAAA,CAED,CACF,CAAA,CAAA,CACF,CAAA,CACF,EAIFzC,EAAAA,KAAC,MAAA,CAAI,UAAU,wCAEb,SAAA,CAAAC,EAAAA,IAAC,MAAA,CACC,UAAU,mDACV,MAAO,CAAE,UAAW,GAAA,EAEnB,SAACyB,EAMEqB,EACF9C,EAAAA,IAAC,OAAI,UAAU,oDACb,eAAC,MAAA,CAAI,UAAU,gFAAA,CAAiF,EAClG,EACE6C,GAAA,MAAAA,EAAW,OAASA,EAAU,MAAM,OAAS,EAC/C9C,EAAAA,KAAA4D,EAAAA,SAAA,CACE,SAAA,CAAA5D,EAAAA,KAAC,MAAA,CAAI,IAAKlB,EAAQ,MAAM,OAAO,OAAO,OAAO,UAAU,gBAEpD,SAAA,CAAAgE,EAAU,MAAM,IAAI,CAAC1C,EAAMgB,IAAM,CAChC,MAAMyC,EAAYN,EAAc,IAAInD,EAAK,MAAM,EACzC0D,EAAYP,EAAc,IAAInD,EAAK,MAAM,EAC/C,MAAI,CAACyD,GAAa,CAACC,EAAkB,KAEnC7D,EAAAA,IAACE,EAAA,CAEC,KAAAC,EACA,GAAIyD,EAAU,EACd,GAAIA,EAAU,EACd,GAAIC,EAAU,EACd,GAAIA,EAAU,CAAA,EALT1C,CAAA,CAQX,CAAC,EAGA0B,EAAU,MAAM,IAAKrD,GAAS,CAC7B,MAAMsE,EAAMR,EAAc,IAAI9D,EAAK,EAAE,EACrC,OAAKsE,EAEH9D,EAAAA,IAACT,EAAA,CAEC,KAAAC,EACA,EAAGsE,EAAI,EACP,EAAGA,EAAI,EACP,YAAYxB,GAAA,YAAAA,EAAc,MAAO9C,EAAK,GACtC,QAAS,IAAM+C,EAAgB/C,CAAI,CAAA,EAL9BA,EAAK,EAAA,EAHG,IAWnB,CAAC,CAAA,EACH,EAGC8C,SACEjB,EAAA,CAAgB,KAAMiB,EAAc,QAAS,IAAMC,EAAgB,IAAI,CAAA,CAAG,CAAA,CAAA,CAE/E,EAEAxC,EAAAA,KAAC,MAAA,CAAI,UAAU,mFACb,SAAA,CAAAC,EAAAA,IAAC+D,EAAA,CAAsB,UAAU,2BAAA,CAA4B,EAC7D/D,EAAAA,IAAC,IAAA,CAAE,UAAU,sBAAsB,SAAA,yBAAsB,EACzDA,EAAAA,IAAC,IAAA,CAAE,UAAU,UAAU,SAAA,wCAAA,CAAsC,CAAA,CAAA,CAC/D,EAxDAD,EAAAA,KAAC,MAAA,CAAI,UAAU,mFACb,SAAA,CAAAC,EAAAA,IAACgE,EAAA,CAAU,UAAU,2BAAA,CAA4B,EACjDhE,EAAAA,IAAC,IAAA,CAAE,UAAU,sBAAsB,SAAA,qBAAkB,EACrDA,EAAAA,IAAC,IAAA,CAAE,UAAU,UAAU,SAAA,mCAAA,CAAiC,CAAA,CAAA,CAC1D,CAoDA,CAAA,EAKJD,EAAAA,KAAC,MAAA,CAAI,UAAU,YAEZ,SAAA,CAAA8C,GACC9C,EAAAA,KAAC,MAAA,CAAI,UAAU,gCACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,qBAAqB,SAAA,mBAAgB,EACnDD,EAAAA,KAAC,MAAA,CAAI,UAAU,yBACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAAC,IAAA,CAAE,UAAU,gCAAgC,SAAA,cAAW,EACxDA,EAAAA,IAAC,IAAA,CAAE,UAAU,oBAAqB,WAAU,iBAAA,CAAkB,CAAA,EAChE,SACC,MAAA,CACC,SAAA,CAAAA,EAAAA,IAAC,IAAA,CAAE,UAAU,gCAAgC,SAAA,cAAW,EACxDA,EAAAA,IAAC,IAAA,CAAE,UAAU,oBAAqB,WAAU,WAAA,CAAY,CAAA,CAAA,CAC1D,CAAA,CAAA,CACF,CAAA,EACF,EAIFD,EAAAA,KAAC,MAAA,CAAI,UAAU,gCACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,qBAAqB,SAAA,SAAM,QACxC,MAAA,CAAI,UAAU,YACZ,SAAA,OAAO,QAAQf,CAAU,EAAE,IAAI,CAAC,CAACgF,EAAMpE,CAAM,IAC5CE,EAAAA,KAAC,MAAA,CAAe,UAAU,0BACxB,SAAA,CAAAC,EAAAA,IAAC,MAAA,CACC,UAAWC,EACT,wDACAJ,EAAO,KAAA,EAGT,SAAAG,EAAAA,IAACH,EAAO,KAAP,CAAY,UAAU,oBAAA,CAAqB,CAAA,CAAA,EAE9CG,EAAAA,IAAC,OAAA,CAAK,UAAU,UAAW,WAAO,KAAA,CAAM,CAAA,GAThCiE,CAUV,CACD,EACH,EACAlE,EAAAA,KAAC,MAAA,CAAI,UAAU,uCACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAI,UAAU,6CAAA,CAA8C,EAC7DA,EAAAA,IAAC,OAAA,CAAK,UAAU,wBAAwB,SAAA,iBAAA,CAAe,CAAA,EACzD,EACAD,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAI,UAAU,2DAAA,CAA4D,EAC3EA,EAAAA,IAAC,OAAA,CAAK,UAAU,wBAAwB,SAAA,gBAAA,CAAc,CAAA,CAAA,CACxD,CAAA,CAAA,CACF,CAAA,EACF,EAGCwC,GAAoBf,GACnB1B,OAAC,MAAA,CAAI,UAAU,gCACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,qBAAqB,SAAA,gBAAa,EAChDA,MAACwB,GAAa,UAAAC,CAAA,CAAsB,CAAA,CAAA,CACtC,CAAA,CAAA,CAEJ,CAAA,CAAA,CACF,CAAA,EACF,CAEJ","x_google_ignoreList":[0]}