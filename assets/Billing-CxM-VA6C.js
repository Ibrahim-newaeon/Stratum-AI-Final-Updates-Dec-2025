import{j as e}from"./vendor-ui-B0DL0VNC.js";import{r as i}from"./vendor-react-Dz7uKsMg.js";import{j as ee,af as te,c as u,a8 as se,a6 as ae,ag as ne,h as k,f as A,F as I,a9 as re}from"./index-BQex3859.js";import{b as ie,e as le,f as de,g as ce,h as oe}from"./hooks-B2vGXtE6.js";import{F as me}from"./ArrowDownTrayIcon-BpDtmKr2.js";import{F as xe}from"./EnvelopeIcon-CWLK6IWu.js";import{F as ue}from"./PencilSquareIcon-8mqFv-8U.js";import{F as he}from"./XCircleIcon-Dk49lKz_.js";import"./vendor-charts-Cj11RBfc.js";import"./vendor-utils-L2YjCnAZ.js";import"./vendor-query-BPt-n81V.js";import"./vendor-motion-CR45sdSp.js";import"./featureFlagsStore-DvEl_DiZ.js";function pe({title:m,titleId:N,...l},a){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":N},l),m?i.createElement("title",{id:N},m):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))}const fe=i.forwardRef(pe);function ke(){var T,O,V,_;const[m,N]=i.useState("overview"),{toast:l}=ee(),[a,S]=i.useState(null),[s,w]=i.useState(null),[x,g]=i.useState(null),[z,R]=i.useState(!1),[G,y]=i.useState(!1),[W,v]=i.useState(!1),{data:n}=ie(),{data:P}=le(),{data:C}=de(),{data:c}=ce(),f=oe(),h={mrr:45890,mrrGrowth:8.5,arr:550680,activeSubscriptions:89,churnRate:2.3,pastDue:4},p={mrr:(n==null?void 0:n.mrr)??h.mrr,mrrGrowth:(n==null?void 0:n.mrrGrowth)??h.mrrGrowth,arr:(n==null?void 0:n.arr)??h.arr,activeSubscriptions:((T=c==null?void 0:c.items)==null?void 0:T.filter(t=>t.status==="active").length)??h.activeSubscriptions,churnRate:(n==null?void 0:n.churnRate)??h.churnRate,pastDue:((O=c==null?void 0:c.items)==null?void 0:O.filter(t=>t.status==="past_due").length)??h.pastDue},H=[{id:"s1",tenantId:"t1",tenantName:"Acme Corporation",plan:"enterprise",status:"active",mrr:1999,startDate:new Date("2024-01-15"),nextBilling:new Date(Date.now()+15*24*60*60*1e3),paymentMethod:"Visa ****4242",failedPayments:0},{id:"s2",tenantId:"t2",tenantName:"TechStart Inc",plan:"pro",status:"active",mrr:499,startDate:new Date("2024-03-01"),nextBilling:new Date(Date.now()+5*24*60*60*1e3),paymentMethod:"Mastercard ****5555",failedPayments:0},{id:"s3",tenantId:"t3",tenantName:"Fashion Forward",plan:"pro",status:"past_due",mrr:499,startDate:new Date("2024-02-15"),nextBilling:new Date(Date.now()-5*24*60*60*1e3),paymentMethod:"Visa ****1234",failedPayments:2},{id:"s4",tenantId:"t4",tenantName:"HealthPlus",plan:"starter",status:"trialing",mrr:0,startDate:new Date(Date.now()-7*24*60*60*1e3),nextBilling:new Date(Date.now()+7*24*60*60*1e3),paymentMethod:"Not set",failedPayments:0}],Z=[{id:"inv-001",tenantName:"Acme Corporation",amount:1999,status:"paid",dueDate:new Date(Date.now()-5*24*60*60*1e3),paidAt:new Date(Date.now()-6*24*60*60*1e3)},{id:"inv-002",tenantName:"TechStart Inc",amount:499,status:"pending",dueDate:new Date(Date.now()+5*24*60*60*1e3),paidAt:null},{id:"inv-003",tenantName:"Fashion Forward",amount:499,status:"overdue",dueDate:new Date(Date.now()-10*24*60*60*1e3),paidAt:null}],q=[{id:"starter",name:"Starter",price:99,features:["2 platforms","5 campaigns","Basic analytics","Email support"],subscribers:23},{id:"pro",name:"Pro",price:499,features:["5 platforms","Unlimited campaigns","Advanced analytics","Priority support","Autopilot"],subscribers:52,highlighted:!0},{id:"enterprise",name:"Enterprise",price:1999,features:["Unlimited platforms","Unlimited campaigns","Custom analytics","Dedicated support","Full Autopilot","SLA"],subscribers:14}],$=((V=c==null?void 0:c.items)==null?void 0:V.map(t=>({id:t.id,tenantId:String(t.tenantId),tenantName:t.tenantName,plan:t.plan,status:t.status,mrr:t.mrr,startDate:new Date(t.startDate),nextBilling:new Date(t.nextBillingDate),paymentMethod:t.paymentMethod,failedPayments:t.failedPayments})))??H,L=((_=C==null?void 0:C.items)==null?void 0:_.map(t=>({id:t.id,tenantName:t.tenantName,amount:t.amount,status:t.status,dueDate:new Date(t.dueDate),paidAt:t.paidAt?new Date(t.paidAt):null})))??Z,F=(P==null?void 0:P.map(t=>({id:t.id,name:t.name,price:t.price,features:t.features,subscribers:t.subscriberCount,highlighted:t.name==="Pro"})))??q,M=async t=>{try{await f.mutateAsync(t),l({title:"Success",description:"Payment retry initiated successfully"})}catch(d){console.error("Failed to retry payment:",d),l({title:"Error",description:"Failed to retry payment. Please try again.",variant:"destructive"})}},J=()=>{try{const d=[["Invoice ID","Tenant","Amount","Status","Due Date","Paid At"],...L.map(o=>[o.id,o.tenantName,`$${o.amount}`,o.status,o.dueDate.toLocaleDateString(),o.paidAt?o.paidAt.toLocaleDateString():"N/A"])].map(o=>o.join(",")).join(`
`),b=new Blob([d],{type:"text/csv;charset=utf-8;"}),j=URL.createObjectURL(b),r=document.createElement("a");r.href=j,r.download=`billing-report-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(j),l({title:"Export Successful",description:"Billing report downloaded as CSV"})}catch{l({title:"Export Failed",description:"Unable to export billing report",variant:"destructive"})}},E=t=>{const d=`billing@${t.toLowerCase().replace(/\s+/g,"")}.com`;window.location.href=`mailto:${d}?subject=Payment%20Issue%20-%20${encodeURIComponent(t)}&body=Dear%20${encodeURIComponent(t)}%20Team,%0A%0AWe%20noticed%20there%20is%20an%20issue%20with%20your%20payment.%20Please%20contact%20us%20to%20resolve%20this.`,l({title:"Email Client Opened",description:`Opening email to contact ${t}`})},K=t=>{w(t),y(!0)},Q=t=>{S(t),R(!0)},B=t=>{try{const d=`
INVOICE
=======
Invoice ID: ${t.id}
Tenant: ${t.tenantName}
Amount: $${t.amount.toLocaleString()}
Status: ${t.status}
Due Date: ${t.dueDate.toLocaleDateString()}
${t.paidAt?`Paid At: ${t.paidAt.toLocaleDateString()}`:""}
      `.trim(),b=new Blob([d],{type:"text/plain"}),j=URL.createObjectURL(b),r=document.createElement("a");r.href=j,r.download=`invoice-${t.id}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(j),l({title:"Invoice Downloaded",description:`Invoice ${t.id} has been downloaded`})}catch{l({title:"Download Failed",description:"Unable to download invoice",variant:"destructive"})}},X=t=>{g(t),v(!0)},D=t=>{switch(t){case"active":case"paid":return"text-success bg-success/10";case"past_due":case"overdue":return"text-danger bg-danger/10";case"pending":case"trialing":return"text-warning bg-warning/10";case"canceled":case"failed":return"text-text-muted bg-surface-tertiary"}},U=t=>{switch(t){case"active":case"paid":return e.jsx(A,{className:"w-4 h-4"});case"past_due":case"overdue":case"failed":return e.jsx(k,{className:"w-4 h-4"});case"pending":case"trialing":return e.jsx(re,{className:"w-4 h-4"});case"canceled":return e.jsx(he,{className:"w-4 h-4"})}},Y=[{id:"overview",label:"Overview"},{id:"subscriptions",label:"Subscriptions"},{id:"invoices",label:"Invoices"},{id:"plans",label:"Plans"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Billing"}),e.jsx("p",{className:"text-text-muted",children:"Revenue and subscription management"})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("button",{onClick:J,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-surface-secondary border border-white/10 text-text-secondary hover:text-white transition-colors",children:[e.jsx(te,{className:"w-4 h-4"}),"Export Report"]})})]}),e.jsx("div",{className:"flex items-center gap-2 border-b border-white/10 pb-4",children:Y.map(t=>e.jsx("button",{onClick:()=>N(t.id),className:u("px-4 py-2 rounded-lg transition-colors",m===t.id?"bg-stratum-500/10 text-stratum-400":"text-text-muted hover:text-white hover:bg-white/5"),children:t.label},t.id))}),m==="overview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-stratum-500/10 to-stratum-600/5 border border-stratum-500/20",children:[e.jsxs("div",{className:"flex items-center gap-2 text-text-muted text-sm mb-2",children:[e.jsx(se,{className:"w-4 h-4"}),"Monthly Recurring Revenue"]}),e.jsxs("div",{className:"text-3xl font-bold text-white",children:["$",p.mrr.toLocaleString()]}),e.jsxs("div",{className:"flex items-center gap-1 text-success text-sm mt-2",children:[e.jsx(ae,{className:"w-4 h-4"}),"+",p.mrrGrowth,"% vs last month"]})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-surface-secondary border border-white/10",children:[e.jsx("div",{className:"text-text-muted text-sm mb-2",children:"Annual Recurring Revenue"}),e.jsxs("div",{className:"text-3xl font-bold text-white",children:["$",p.arr.toLocaleString()]})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-surface-secondary border border-white/10",children:[e.jsxs("div",{className:"flex items-center gap-2 text-text-muted text-sm mb-2",children:[e.jsx(ne,{className:"w-4 h-4"}),"Active Subscriptions"]}),e.jsx("div",{className:"text-3xl font-bold text-white",children:p.activeSubscriptions})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-surface-secondary border border-white/10",children:[e.jsx("div",{className:"text-text-muted text-sm mb-2",children:"Churn Rate"}),e.jsxs("div",{className:"text-3xl font-bold text-warning",children:[p.churnRate,"%"]}),e.jsxs("div",{className:"flex items-center gap-1 text-danger text-sm mt-2",children:[e.jsx(k,{className:"w-4 h-4"}),p.pastDue," past due"]})]})]}),e.jsxs("div",{className:"rounded-2xl bg-surface-secondary border border-white/10 p-6",children:[e.jsx("h2",{className:"font-semibold text-white mb-4",children:"Plan Distribution"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:F.map(t=>e.jsxs("div",{className:u("p-4 rounded-xl border",t.highlighted?"bg-stratum-500/10 border-stratum-500/30":"bg-surface-tertiary border-white/5"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-medium text-white",children:t.name}),e.jsxs("span",{className:"text-stratum-400",children:["$",t.price,"/mo"]})]}),e.jsx("div",{className:"text-3xl font-bold text-white",children:t.subscribers}),e.jsx("div",{className:"text-sm text-text-muted",children:"subscribers"}),e.jsxs("div",{className:"mt-2 text-sm text-text-muted",children:["$",(t.price*t.subscribers).toLocaleString()," MRR"]})]},t.id))})]}),e.jsxs("div",{className:"rounded-2xl bg-surface-secondary border border-white/10 p-6",children:[e.jsx("h2",{className:"font-semibold text-white mb-4",children:"Dunning Alerts"}),e.jsxs("div",{className:"space-y-3",children:[$.filter(t=>t.status==="past_due"||t.failedPayments>0).map(t=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-danger/5 border border-danger/20",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(k,{className:"w-5 h-5 text-danger"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-white",children:t.tenantName}),e.jsxs("div",{className:"text-sm text-text-muted",children:[t.failedPayments," failed payment(s) - ",t.paymentMethod]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>E(t.tenantName),className:"px-3 py-1 rounded-lg bg-surface-tertiary text-text-secondary hover:text-white text-sm transition-colors",children:"Contact"}),e.jsx("button",{onClick:()=>M(t.id),disabled:f.isPending,className:"px-3 py-1 rounded-lg bg-danger/10 text-danger hover:bg-danger/20 text-sm transition-colors disabled:opacity-50",children:f.isPending?"Retrying...":"Retry Payment"})]})]},t.id)),$.filter(t=>t.status==="past_due"||t.failedPayments>0).length===0&&e.jsxs("div",{className:"flex items-center gap-2 text-success p-3",children:[e.jsx(A,{className:"w-5 h-5"}),"No dunning alerts - all payments up to date"]})]})]})]}),m==="subscriptions"&&e.jsx("div",{className:"rounded-2xl bg-surface-secondary border border-white/10 overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-white/10",children:[e.jsx("th",{className:"text-left p-4 text-text-muted font-medium",children:"Tenant"}),e.jsx("th",{className:"text-left p-4 text-text-muted font-medium",children:"Plan"}),e.jsx("th",{className:"text-left p-4 text-text-muted font-medium",children:"Status"}),e.jsx("th",{className:"text-left p-4 text-text-muted font-medium",children:"MRR"}),e.jsx("th",{className:"text-left p-4 text-text-muted font-medium",children:"Next Billing"}),e.jsx("th",{className:"text-left p-4 text-text-muted font-medium",children:"Payment Method"}),e.jsx("th",{className:"text-left p-4 text-text-muted font-medium",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-white/5",children:$.map(t=>e.jsxs("tr",{className:"hover:bg-white/5 transition-colors",children:[e.jsx("td",{className:"p-4",children:e.jsx("span",{className:"font-medium text-white",children:t.tenantName})}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:"px-2 py-1 rounded bg-stratum-500/10 text-stratum-400 text-sm capitalize",children:t.plan})}),e.jsx("td",{className:"p-4",children:e.jsxs("span",{className:u("flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium w-fit",D(t.status)),children:[U(t.status),t.status.replace("_"," ")]})}),e.jsxs("td",{className:"p-4 text-white font-medium",children:["$",t.mrr.toLocaleString()]}),e.jsx("td",{className:"p-4 text-text-muted",children:t.nextBilling.toLocaleDateString()}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2 text-text-muted",children:[e.jsx(fe,{className:"w-4 h-4"}),t.paymentMethod]})}),e.jsx("td",{className:"p-4",children:e.jsx("button",{onClick:()=>K(t),className:"text-stratum-400 hover:text-stratum-300 text-sm",children:"Manage"})})]},t.id))})]})}),m==="invoices"&&e.jsx("div",{className:"rounded-2xl bg-surface-secondary border border-white/10 overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-white/10",children:[e.jsx("th",{className:"text-left p-4 text-text-muted font-medium",children:"Invoice ID"}),e.jsx("th",{className:"text-left p-4 text-text-muted font-medium",children:"Tenant"}),e.jsx("th",{className:"text-left p-4 text-text-muted font-medium",children:"Amount"}),e.jsx("th",{className:"text-left p-4 text-text-muted font-medium",children:"Status"}),e.jsx("th",{className:"text-left p-4 text-text-muted font-medium",children:"Due Date"}),e.jsx("th",{className:"text-left p-4 text-text-muted font-medium",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-white/5",children:L.map(t=>e.jsxs("tr",{className:"hover:bg-white/5 transition-colors",children:[e.jsx("td",{className:"p-4 font-mono text-stratum-400",children:t.id}),e.jsx("td",{className:"p-4 text-white",children:t.tenantName}),e.jsxs("td",{className:"p-4 text-white font-medium",children:["$",t.amount.toLocaleString()]}),e.jsx("td",{className:"p-4",children:e.jsxs("span",{className:u("flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium w-fit",D(t.status)),children:[U(t.status),t.status]})}),e.jsx("td",{className:"p-4 text-text-muted",children:t.dueDate.toLocaleDateString()}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>Q(t),className:"text-stratum-400 hover:text-stratum-300 text-sm",children:"View"}),e.jsx("button",{onClick:()=>B(t),className:"text-text-muted hover:text-white text-sm",children:"Download"})]})})]},t.id))})]})}),m==="plans"&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:F.map(t=>e.jsxs("div",{className:u("rounded-2xl border p-6",t.highlighted?"bg-gradient-to-br from-stratum-500/10 to-stratum-600/5 border-stratum-500/30":"bg-surface-secondary border-white/10"),children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:t.name}),e.jsxs("div",{className:"flex items-baseline gap-1 mb-4",children:[e.jsxs("span",{className:"text-3xl font-bold text-white",children:["$",t.price]}),e.jsx("span",{className:"text-text-muted",children:"/month"})]}),e.jsxs("div",{className:"py-4 border-t border-b border-white/10 mb-4",children:[e.jsx("div",{className:"text-lg font-semibold text-white",children:t.subscribers}),e.jsx("div",{className:"text-sm text-text-muted",children:"active subscribers"})]}),e.jsx("ul",{className:"space-y-2",children:t.features.map((d,b)=>e.jsxs("li",{className:"flex items-center gap-2 text-sm text-text-secondary",children:[e.jsx(A,{className:"w-4 h-4 text-success"}),d]},b))}),e.jsx("button",{onClick:()=>X(t),className:"w-full mt-6 py-2 rounded-lg bg-surface-tertiary text-text-secondary hover:text-white transition-colors",children:"Edit Plan"})]},t.id))}),z&&a&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-surface-secondary rounded-2xl border border-white/10 p-6 w-full max-w-md mx-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Invoice Details"}),e.jsx("button",{onClick:()=>{R(!1),S(null)},className:"text-text-muted hover:text-white",children:e.jsx(I,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-text-muted",children:"Invoice ID"}),e.jsx("span",{className:"text-white font-mono",children:a.id})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-text-muted",children:"Tenant"}),e.jsx("span",{className:"text-white",children:a.tenantName})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-text-muted",children:"Amount"}),e.jsxs("span",{className:"text-white font-semibold",children:["$",a.amount.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-text-muted",children:"Status"}),e.jsx("span",{className:u("px-2 py-1 rounded-full text-xs font-medium",D(a.status)),children:a.status})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-text-muted",children:"Due Date"}),e.jsx("span",{className:"text-white",children:a.dueDate.toLocaleDateString()})]}),a.paidAt&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-text-muted",children:"Paid At"}),e.jsx("span",{className:"text-white",children:a.paidAt.toLocaleDateString()})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsxs("button",{onClick:()=>B(a),className:"flex-1 flex items-center justify-center gap-2 py-2 rounded-lg bg-stratum-500 text-white hover:bg-stratum-600 transition-colors",children:[e.jsx(me,{className:"w-4 h-4"}),"Download"]}),e.jsx("button",{onClick:()=>{R(!1),S(null)},className:"flex-1 py-2 rounded-lg bg-surface-tertiary text-text-secondary hover:text-white transition-colors",children:"Close"})]})]})}),G&&s&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-surface-secondary rounded-2xl border border-white/10 p-6 w-full max-w-md mx-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Manage Subscription"}),e.jsx("button",{onClick:()=>{y(!1),w(null)},className:"text-text-muted hover:text-white",children:e.jsx(I,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-text-muted",children:"Tenant"}),e.jsx("span",{className:"text-white font-semibold",children:s.tenantName})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-text-muted",children:"Plan"}),e.jsx("span",{className:"px-2 py-1 rounded bg-stratum-500/10 text-stratum-400 text-sm capitalize",children:s.plan})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-text-muted",children:"Status"}),e.jsx("span",{className:u("px-2 py-1 rounded-full text-xs font-medium",D(s.status)),children:s.status.replace("_"," ")})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-text-muted",children:"MRR"}),e.jsxs("span",{className:"text-white font-semibold",children:["$",s.mrr.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-text-muted",children:"Payment Method"}),e.jsx("span",{className:"text-white",children:s.paymentMethod})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-text-muted",children:"Next Billing"}),e.jsx("span",{className:"text-white",children:s.nextBilling.toLocaleDateString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-text-muted",children:"Start Date"}),e.jsx("span",{className:"text-white",children:s.startDate.toLocaleDateString()})]}),s.failedPayments>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-text-muted",children:"Failed Payments"}),e.jsx("span",{className:"text-danger font-semibold",children:s.failedPayments})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsxs("button",{onClick:()=>E(s.tenantName),className:"flex-1 flex items-center justify-center gap-2 py-2 rounded-lg bg-surface-tertiary text-text-secondary hover:text-white transition-colors",children:[e.jsx(xe,{className:"w-4 h-4"}),"Contact"]}),s.status==="past_due"&&e.jsx("button",{onClick:()=>{M(s.id),y(!1),w(null)},disabled:f.isPending,className:"flex-1 py-2 rounded-lg bg-danger/10 text-danger hover:bg-danger/20 transition-colors disabled:opacity-50",children:f.isPending?"Retrying...":"Retry Payment"}),e.jsx("button",{onClick:()=>{y(!1),w(null)},className:"flex-1 py-2 rounded-lg bg-stratum-500 text-white hover:bg-stratum-600 transition-colors",children:"Close"})]})]})}),W&&x&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-surface-secondary rounded-2xl border border-white/10 p-6 w-full max-w-md mx-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-white",children:["Edit Plan: ",x.name]}),e.jsx("button",{onClick:()=>{v(!1),g(null)},className:"text-text-muted hover:text-white",children:e.jsx(I,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-text-muted mb-2",children:"Plan Name"}),e.jsx("input",{type:"text",defaultValue:x.name,className:"w-full px-4 py-2 rounded-lg bg-surface-tertiary border border-white/10 text-white focus:outline-none focus:ring-2 focus:ring-stratum-500/50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-text-muted mb-2",children:"Price ($/month)"}),e.jsx("input",{type:"number",defaultValue:x.price,className:"w-full px-4 py-2 rounded-lg bg-surface-tertiary border border-white/10 text-white focus:outline-none focus:ring-2 focus:ring-stratum-500/50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-text-muted mb-2",children:"Features (one per line)"}),e.jsx("textarea",{defaultValue:x.features.join(`
`),rows:4,className:"w-full px-4 py-2 rounded-lg bg-surface-tertiary border border-white/10 text-white focus:outline-none focus:ring-2 focus:ring-stratum-500/50 resize-none"})]}),e.jsx("div",{className:"pt-2 border-t border-white/10",children:e.jsxs("div",{className:"text-sm text-text-muted",children:["Current Subscribers:"," ",e.jsx("span",{className:"text-white font-semibold",children:x.subscribers})]})})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsxs("button",{onClick:()=>{l({title:"Plan Updated",description:`${x.name} plan has been updated successfully`}),v(!1),g(null)},className:"flex-1 flex items-center justify-center gap-2 py-2 rounded-lg bg-stratum-500 text-white hover:bg-stratum-600 transition-colors",children:[e.jsx(ue,{className:"w-4 h-4"}),"Save Changes"]}),e.jsx("button",{onClick:()=>{v(!1),g(null)},className:"flex-1 py-2 rounded-lg bg-surface-tertiary text-text-secondary hover:text-white transition-colors",children:"Cancel"})]})]})})]})}export{ke as default};
//# sourceMappingURL=Billing-CxM-VA6C.js.map
