import{j as e}from"./vendor-ui-B0DL0VNC.js";import{r as m}from"./vendor-react-Dz7uKsMg.js";import{a9 as F,f as T,c as g,ab as X,ac as ee,F as k,ad as B,e as te,ae as A,a5 as se,af as R,ag as P,h as de,ah as xe,ai as me,a7 as he,d as G}from"./index-BQex3859.js";import{F as ae}from"./PlusIcon-ByQcgXHI.js";import{F as Y}from"./MagnifyingGlassIcon-3MUvqIvj.js";import{F as J}from"./XCircleIcon-Dk49lKz_.js";import{m as v,A as L}from"./vendor-motion-CR45sdSp.js";import{F as pe}from"./PhoneIcon-Ct1N2tQX.js";import{F as re}from"./PencilIcon-BPYwcoex.js";import{F as le}from"./TrashIcon-DR9paOX4.js";import{F as ue}from"./DocumentArrowDownIcon-D3ixpsi6.js";import{F as ge}from"./ChatBubbleLeftIcon-DJBD7z8K.js";import{F as ne}from"./VideoCameraIcon-DyGs7dus.js";import{F as oe}from"./CalendarIcon-LISB5gLp.js";import{F as ie}from"./ExclamationCircleIcon-C8aTdMTs.js";import{F as be}from"./CheckIcon-DQQhceDd.js";import"./vendor-charts-Cj11RBfc.js";import"./vendor-utils-L2YjCnAZ.js";import"./vendor-query-BPt-n81V.js";function je({title:s,titleId:l,...t},o){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":l},t),s?m.createElement("title",{id:l},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))}const ce=m.forwardRef(je);function fe({title:s,titleId:l,...t},o){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":l},t),s?m.createElement("title",{id:l},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const ye=m.forwardRef(fe);function ve({title:s,titleId:l,...t},o){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":l},t),s?m.createElement("title",{id:l},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.34 15.84c-.688-.06-1.386-.09-2.09-.09H7.5a4.5 4.5 0 1 1 0-9h.75c.704 0 1.402-.03 2.09-.09m0 9.18c.253.962.584 1.892.985 2.783.247.55.06 1.21-.463 1.511l-.657.38c-.551.318-1.26.117-1.527-.461a20.845 20.845 0 0 1-1.44-4.282m3.102.069a18.03 18.03 0 0 1-.59-4.59c0-1.586.205-3.124.59-4.59m0 9.18a23.848 23.848 0 0 1 8.835 2.535M10.34 6.66a23.847 23.847 0 0 0 8.835-2.535m0 0A23.74 23.74 0 0 0 18.795 3m.38 1.125a23.91 23.91 0 0 1 1.014 5.395m-1.014 8.855c-.118.38-.245.754-.38 1.125m.38-1.125a23.91 23.91 0 0 0 1.014-5.395m0-3.46c.495.413.811 1.035.811 1.73 0 .695-.316 1.317-.811 1.73m0-3.46a24.347 24.347 0 0 1 0 3.46"}))}const $=m.forwardRef(ve),Ne=[{id:1,phone_number:"+1234567890",country_code:"US",display_name:"John Doe",opt_in_status:"opted_in",message_count:24,last_message_at:"2025-01-30T10:00:00Z",created_at:"2024-12-01T00:00:00Z"},{id:2,phone_number:"+1987654321",country_code:"US",display_name:"Jane Smith",opt_in_status:"opted_in",message_count:18,last_message_at:"2025-01-29T15:30:00Z",created_at:"2024-12-05T00:00:00Z"},{id:3,phone_number:"+447123456789",country_code:"GB",display_name:"Alice Johnson",opt_in_status:"pending",message_count:0,last_message_at:null,created_at:"2025-01-20T00:00:00Z"},{id:4,phone_number:"+971501234567",country_code:"AE",display_name:"Mohammed Ali",opt_in_status:"opted_in",message_count:45,last_message_at:"2025-01-30T08:00:00Z",created_at:"2024-11-15T00:00:00Z"},{id:5,phone_number:"+33612345678",country_code:"FR",display_name:"Pierre Dupont",opt_in_status:"opted_out",message_count:12,last_message_at:"2025-01-15T12:00:00Z",created_at:"2024-10-20T00:00:00Z"}],z={opted_in:{label:"Opted In",color:"text-green-400",bg:"bg-green-500/10",icon:T},pending:{label:"Pending",color:"text-yellow-400",bg:"bg-yellow-500/10",icon:F},opted_out:{label:"Opted Out",color:"text-red-400",bg:"bg-red-500/10",icon:J}};function we(){const[s,l]=m.useState(Ne),[t,o]=m.useState(""),[h,x]=m.useState("all"),[u,n]=m.useState(!1),[a,b]=m.useState(!1),[f,d]=m.useState([]),[p,y]=m.useState(1),N=10,_=s.filter(r=>{var I;const j=r.phone_number.includes(t)||(((I=r.display_name)==null?void 0:I.toLowerCase().includes(t.toLowerCase()))??!1),w=h==="all"||r.opt_in_status===h;return j&&w}),C=Math.ceil(_.length/N),S=_.slice((p-1)*N,p*N),D=()=>{f.length===S.length?d([]):d(S.map(r=>r.id))},M=r=>{d(j=>j.includes(r)?j.filter(w=>w!==r):[...j,r])},i=r=>{l(j=>j.map(w=>w.id===r?{...w,opt_in_status:"opted_in"}:w))},c=r=>{l(j=>j.map(w=>w.id===r?{...w,opt_in_status:"opted_out"}:w))};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Contact Management"}),e.jsxs("p",{className:"text-gray-400 text-sm",children:[_.length," contacts •"," ",s.filter(r=>r.opt_in_status==="opted_in").length," opted in"]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>b(!0),className:"flex items-center gap-2 px-4 py-2 bg-[#1a1a24] border border-white/10 rounded-xl hover:bg-[#22222e] transition-colors",children:[e.jsx(ce,{className:"w-4 h-4"}),"Import CSV"]}),e.jsxs("button",{onClick:()=>n(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-[#25D366] to-[#128C7E] rounded-xl hover:opacity-90 transition-opacity",children:[e.jsx(ae,{className:"w-4 h-4"}),"Add Contact"]})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Y,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by phone or name...",value:t,onChange:r=>o(r.target.value),className:"w-full pl-10 pr-4 py-3 bg-[rgba(255,_255,_255,_0.05)] border border-white/10 rounded-xl focus:border-[#25D366]/50 focus:outline-none transition-colors"})]}),e.jsx("div",{className:"flex gap-2",children:["all","opted_in","pending","opted_out"].map(r=>{var j;return e.jsx("button",{onClick:()=>x(r),className:g("px-4 py-2 rounded-xl transition-colors text-sm font-medium",h===r?"bg-[#25D366] text-white":"bg-[rgba(255,_255,_255,_0.05)] text-gray-400 hover:text-white border border-white/10"),children:r==="all"?"All":(j=z[r])==null?void 0:j.label},r)})})]}),f.length>0&&e.jsxs(v.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-4 p-4 bg-[#25D366]/10 border border-[#25D366]/20 rounded-xl",children:[e.jsxs("span",{className:"text-sm",children:[f.length," selected"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-3 py-1.5 text-sm bg-green-500/20 text-green-400 rounded-lg hover:bg-green-500/30",children:"Opt In Selected"}),e.jsx("button",{className:"px-3 py-1.5 text-sm bg-red-500/20 text-red-400 rounded-lg hover:bg-red-500/30",children:"Opt Out Selected"}),e.jsx("button",{className:"px-3 py-1.5 text-sm bg-cyan-500/20 text-cyan-400 rounded-lg hover:bg-cyan-500/30",children:"Export Selected"})]})]}),e.jsxs("div",{className:"bg-[rgba(255,_255,_255,_0.05)] rounded-2xl border border-white/5 overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-white/5",children:[e.jsx("th",{className:"p-4 text-left",children:e.jsx("input",{type:"checkbox",checked:f.length===S.length&&S.length>0,onChange:D,className:"rounded border-white/20 bg-transparent"})}),e.jsx("th",{className:"p-4 text-left text-sm font-medium text-gray-400",children:"Contact"}),e.jsx("th",{className:"p-4 text-left text-sm font-medium text-gray-400",children:"Phone"}),e.jsx("th",{className:"p-4 text-left text-sm font-medium text-gray-400",children:"Status"}),e.jsx("th",{className:"p-4 text-left text-sm font-medium text-gray-400",children:"Messages"}),e.jsx("th",{className:"p-4 text-left text-sm font-medium text-gray-400",children:"Last Contact"}),e.jsx("th",{className:"p-4 text-right text-sm font-medium text-gray-400",children:"Actions"})]})}),e.jsx("tbody",{children:S.map(r=>{var I;const j=z[r.opt_in_status],w=j.icon;return e.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/[0.02] transition-colors",children:[e.jsx("td",{className:"p-4",children:e.jsx("input",{type:"checkbox",checked:f.includes(r.id),onChange:()=>M(r.id),className:"rounded border-white/20 bg-transparent"})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-[#25D366] to-[#128C7E] flex items-center justify-center font-medium",children:((I=r.display_name)==null?void 0:I[0])||r.phone_number[1]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:r.display_name||"Unknown"}),e.jsx("div",{className:"text-xs text-gray-500",children:r.country_code})]})]})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[e.jsx(pe,{className:"w-4 h-4"}),r.phone_number]})}),e.jsx("td",{className:"p-4",children:e.jsxs("span",{className:g("inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium",j.bg,j.color),children:[e.jsx(w,{className:"w-3.5 h-3.5"}),j.label]})}),e.jsx("td",{className:"p-4 text-gray-300",children:r.message_count}),e.jsx("td",{className:"p-4 text-gray-400 text-sm",children:r.last_message_at?new Date(r.last_message_at).toLocaleDateString():"Never"}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[r.opt_in_status!=="opted_in"&&e.jsx("button",{onClick:()=>i(r.id),className:"p-2 text-green-400 hover:bg-green-500/10 rounded-lg transition-colors",title:"Opt In",children:e.jsx(T,{className:"w-4 h-4"})}),r.opt_in_status!=="opted_out"&&e.jsx("button",{onClick:()=>c(r.id),className:"p-2 text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",title:"Opt Out",children:e.jsx(J,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 text-gray-400 hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(re,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 text-gray-400 hover:bg-red-500/10 hover:text-red-400 rounded-lg transition-colors",children:e.jsx(le,{className:"w-4 h-4"})})]})})]},r.id)})})]})}),e.jsxs("div",{className:"flex items-center justify-between p-4 border-t border-white/5",children:[e.jsxs("span",{className:"text-sm text-gray-400",children:["Showing ",(p-1)*N+1,"-",Math.min(p*N,_.length)," of ",_.length]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>y(r=>Math.max(1,r-1)),disabled:p===1,className:"p-2 bg-[#1a1a24] rounded-lg disabled:opacity-50 hover:bg-[#22222e] transition-colors",children:e.jsx(X,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>y(r=>Math.min(C,r+1)),disabled:p===C,className:"p-2 bg-[#1a1a24] rounded-lg disabled:opacity-50 hover:bg-[#22222e] transition-colors",children:e.jsx(ee,{className:"w-4 h-4"})})]})]})]}),e.jsx(L,{children:u&&e.jsx(_e,{onClose:()=>n(!1),onAdd:r=>{l(j=>[{...r,id:j.length+1},...j]),n(!1)}})}),e.jsx(L,{children:a&&e.jsx(Ce,{onClose:()=>b(!1),onImport:r=>{b(!1)}})})]})}function _e({onClose:s,onAdd:l}){const[t,o]=m.useState({phone_number:"",country_code:"US",display_name:""}),h=x=>{x.preventDefault(),l({...t,opt_in_status:"pending",message_count:0,last_message_at:null,created_at:new Date().toISOString()})};return e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",onClick:s,children:e.jsxs(v.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"w-full max-w-md bg-[rgba(255,_255,_255,_0.05)] rounded-2xl border border-white/10 p-6",onClick:x=>x.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold",children:"Add Contact"}),e.jsx("button",{onClick:s,className:"p-2 hover:bg-white/5 rounded-lg",children:e.jsx(k,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Phone Number"}),e.jsx("input",{type:"tel",required:!0,placeholder:"+1234567890",value:t.phone_number,onChange:x=>o({...t,phone_number:x.target.value}),className:"w-full px-4 py-3 bg-[#0b1215] border border-white/10 rounded-xl focus:border-[#25D366]/50 focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Country Code"}),e.jsxs("select",{value:t.country_code,onChange:x=>o({...t,country_code:x.target.value}),className:"w-full px-4 py-3 bg-[#0b1215] border border-white/10 rounded-xl focus:border-[#25D366]/50 focus:outline-none",children:[e.jsx("option",{value:"US",children:"United States (+1)"}),e.jsx("option",{value:"GB",children:"United Kingdom (+44)"}),e.jsx("option",{value:"AE",children:"UAE (+971)"}),e.jsx("option",{value:"SA",children:"Saudi Arabia (+966)"}),e.jsx("option",{value:"FR",children:"France (+33)"}),e.jsx("option",{value:"DE",children:"Germany (+49)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Display Name"}),e.jsx("input",{type:"text",placeholder:"John Doe",value:t.display_name,onChange:x=>o({...t,display_name:x.target.value}),className:"w-full px-4 py-3 bg-[#0b1215] border border-white/10 rounded-xl focus:border-[#25D366]/50 focus:outline-none"})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:s,className:"flex-1 px-4 py-3 bg-[#1a1a24] border border-white/10 rounded-xl hover:bg-[#22222e] transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 px-4 py-3 bg-gradient-to-r from-[#25D366] to-[#128C7E] rounded-xl hover:opacity-90 transition-opacity font-medium",children:"Add Contact"})]})]})]})})}function Ce({onClose:s,onImport:l}){const[t,o]=m.useState(null),[h,x]=m.useState(!1),u=n=>{n.preventDefault(),x(!1);const a=n.dataTransfer.files[0];(a==null?void 0:a.type)==="text/csv"&&o(a)};return e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",onClick:s,children:e.jsxs(v.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"w-full max-w-lg bg-[rgba(255,_255,_255,_0.05)] rounded-2xl border border-white/10 p-6",onClick:n=>n.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold",children:"Import Contacts"}),e.jsx("button",{onClick:s,className:"p-2 hover:bg-white/5 rounded-lg",children:e.jsx(k,{className:"w-5 h-5"})})]}),e.jsx("div",{onDragOver:n=>{n.preventDefault(),x(!0)},onDragLeave:()=>x(!1),onDrop:u,className:g("border-2 border-dashed rounded-xl p-8 text-center transition-colors",h?"border-[#25D366] bg-[#25D366]/5":"border-white/10",t?"border-green-500 bg-green-500/5":""),children:t?e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsx(ue,{className:"w-8 h-8 text-green-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:t.name}),e.jsxs("div",{className:"text-sm text-gray-400",children:[(t.size/1024).toFixed(1)," KB"]})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(ce,{className:"w-12 h-12 mx-auto mb-4 text-gray-500"}),e.jsx("p",{className:"text-gray-400 mb-2",children:"Drag and drop your CSV file here"}),e.jsx("p",{className:"text-sm text-gray-500",children:"or"}),e.jsxs("label",{className:"inline-block mt-3 px-4 py-2 bg-[#25D366] rounded-lg cursor-pointer hover:opacity-90",children:["Browse Files",e.jsx("input",{type:"file",accept:".csv",className:"hidden",onChange:n=>{var a;return o(((a=n.target.files)==null?void 0:a[0])||null)}})]})]})}),e.jsxs("div",{className:"mt-4 p-4 bg-[#0b1215] rounded-xl",children:[e.jsx("h4",{className:"font-medium mb-2",children:"CSV Format Required:"}),e.jsxs("code",{className:"text-sm text-gray-400",children:["phone_number,country_code,display_name",e.jsx("br",{}),"+1234567890,US,John Doe",e.jsx("br",{}),"+447123456789,GB,Jane Smith"]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{onClick:s,className:"flex-1 px-4 py-3 bg-[#1a1a24] border border-white/10 rounded-xl hover:bg-[#22222e] transition-colors",children:"Cancel"}),e.jsx("button",{onClick:()=>l(0),disabled:!t,className:"flex-1 px-4 py-3 bg-gradient-to-r from-[#25D366] to-[#128C7E] rounded-xl hover:opacity-90 transition-opacity font-medium disabled:opacity-50",children:"Import Contacts"})]})]})})}const Se=[{id:1,name:"order_confirmation",language:"en",category:"UTILITY",header_type:"TEXT",header_content:"Order Confirmed!",body_text:"Hi {{1}}, your order #{{2}} has been confirmed and will be shipped within {{3}} business days.",footer_text:"Thank you for shopping with us!",buttons:[{type:"URL",text:"Track Order",url:"https://track.example.com/{{1}}"}],status:"approved",rejection_reason:null,usage_count:1245,created_at:"2024-12-01T00:00:00Z"},{id:2,name:"appointment_reminder",language:"en",category:"UTILITY",header_type:null,header_content:null,body_text:"Hi {{1}}, this is a reminder for your appointment on {{2}} at {{3}}. Reply YES to confirm or NO to reschedule.",footer_text:null,buttons:[{type:"QUICK_REPLY",text:"Confirm"},{type:"QUICK_REPLY",text:"Reschedule"}],status:"approved",rejection_reason:null,usage_count:856,created_at:"2024-12-10T00:00:00Z"},{id:3,name:"promo_winter_sale",language:"en",category:"MARKETING",header_type:"IMAGE",header_content:"https://example.com/winter-sale.jpg",body_text:"Winter Sale is here! Get up to {{1}}% off on all items. Use code: {{2}} at checkout. Offer ends {{3}}.",footer_text:"Terms and conditions apply.",buttons:[{type:"URL",text:"Shop Now",url:"https://shop.example.com"}],status:"pending",rejection_reason:null,usage_count:0,created_at:"2025-01-20T00:00:00Z"},{id:4,name:"verification_code",language:"en",category:"AUTHENTICATION",header_type:null,header_content:null,body_text:"Your verification code is {{1}}. This code expires in 15 minutes. Do not share this code with anyone.",footer_text:null,buttons:[{type:"URL",text:"Copy Code",url:"https://example.com/copy/{{1}}"}],status:"approved",rejection_reason:null,usage_count:3421,created_at:"2024-11-15T00:00:00Z"}],W={approved:{label:"Approved",color:"text-green-400",bg:"bg-green-500/10",icon:T},pending:{label:"Pending",color:"text-yellow-400",bg:"bg-yellow-500/10",icon:F},rejected:{label:"Rejected",color:"text-red-400",bg:"bg-red-500/10",icon:J}},K={MARKETING:{label:"Marketing",color:"text-purple-400",bg:"bg-purple-500/10"},UTILITY:{label:"Utility",color:"text-cyan-400",bg:"bg-cyan-500/10"},AUTHENTICATION:{label:"Authentication",color:"text-orange-400",bg:"bg-orange-500/10"}};function Te(){const[s,l]=m.useState(Se),[t,o]=m.useState(!1),[h,x]=m.useState(null),[u,n]=m.useState("all"),[a,b]=m.useState("all"),f=s.filter(d=>{const p=u==="all"||d.category===u,y=a==="all"||d.status===a;return p&&y});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Message Templates"}),e.jsxs("p",{className:"text-gray-400 text-sm",children:[s.filter(d=>d.status==="approved").length," approved •"," ",s.filter(d=>d.status==="pending").length," pending approval"]})]}),e.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-[#25D366] to-[#128C7E] rounded-xl hover:opacity-90 transition-opacity",children:[e.jsx(ae,{className:"w-4 h-4"}),"Create Template"]})]}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("span",{className:"text-sm text-gray-400 self-center",children:"Category:"}),["all","MARKETING","UTILITY","AUTHENTICATION"].map(d=>{var p;return e.jsx("button",{onClick:()=>n(d),className:g("px-3 py-1.5 rounded-lg text-sm transition-colors",u===d?"bg-[#25D366] text-white":"bg-[rgba(255,_255,_255,_0.05)] text-gray-400 hover:text-white"),children:d==="all"?"All":(p=K[d])==null?void 0:p.label},d)})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("span",{className:"text-sm text-gray-400 self-center",children:"Status:"}),["all","approved","pending","rejected"].map(d=>{var p;return e.jsx("button",{onClick:()=>b(d),className:g("px-3 py-1.5 rounded-lg text-sm transition-colors",a===d?"bg-[#25D366] text-white":"bg-[rgba(255,_255,_255,_0.05)] text-gray-400 hover:text-white"),children:d==="all"?"All":(p=W[d])==null?void 0:p.label},d)})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map(d=>{const p=W[d.status],y=K[d.category],N=p.icon;return e.jsxs(v.div,{layout:!0,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-[rgba(255,_255,_255,_0.05)] rounded-2xl border border-white/5 p-5 hover:border-white/10 transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-1",children:d.name}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("span",{className:g("px-2 py-0.5 rounded text-xs",y.bg,y.color),children:y.label}),e.jsxs("span",{className:g("inline-flex items-center gap-1 px-2 py-0.5 rounded text-xs",p.bg,p.color),children:[e.jsx(N,{className:"w-3 h-3"}),p.label]})]})]}),e.jsx("span",{className:"text-xs text-gray-500",children:d.language.toUpperCase()})]}),e.jsxs("div",{className:"bg-[#075e54] rounded-xl p-3 mb-4 text-sm",children:[d.header_type==="TEXT"&&e.jsx("div",{className:"font-bold text-white mb-1",children:d.header_content}),d.header_type==="IMAGE"&&e.jsxs("div",{className:"flex items-center gap-2 text-gray-300 mb-2",children:[e.jsx(B,{className:"w-4 h-4"})," Image Header"]}),e.jsx("div",{className:"text-gray-100 whitespace-pre-wrap",children:d.body_text.replace(/\{\{(\d+)\}\}/g,(_,C)=>`[Variable ${C}]`)}),d.footer_text&&e.jsx("div",{className:"text-gray-400 text-xs mt-2",children:d.footer_text}),d.buttons.length>0&&e.jsx("div",{className:"flex gap-2 mt-3 pt-2 border-t border-white/10",children:d.buttons.map((_,C)=>e.jsx("span",{className:"text-cyan-400 text-xs",children:_.text},C))})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm mb-4",children:[e.jsxs("span",{className:"text-gray-400",children:["Used ",d.usage_count.toLocaleString()," times"]}),e.jsx("span",{className:"text-gray-500",children:new Date(d.created_at).toLocaleDateString()})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>x(d),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-[#1a1a24] rounded-lg hover:bg-[#22222e] transition-colors text-sm",children:[e.jsx(te,{className:"w-4 h-4"}),"Preview"]}),d.status==="approved"&&e.jsxs("button",{className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-[#25D366]/20 text-[#25D366] rounded-lg hover:bg-[#25D366]/30 transition-colors text-sm",children:[e.jsx(A,{className:"w-4 h-4"}),"Use"]}),e.jsx("button",{className:"p-2 text-gray-400 hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(re,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 text-gray-400 hover:bg-red-500/10 hover:text-red-400 rounded-lg transition-colors",children:e.jsx(le,{className:"w-4 h-4"})})]})]},d.id)})}),e.jsx(L,{children:t&&e.jsx(De,{onClose:()=>o(!1),onCreate:d=>{l(p=>[{...d,id:p.length+1},...p]),o(!1)}})}),e.jsx(L,{children:h&&e.jsx(ke,{template:h,onClose:()=>x(null)})})]})}function De({onClose:s,onCreate:l}){const[t,o]=m.useState({name:"",language:"en",category:"UTILITY",header_type:"",header_content:"",body_text:"",footer_text:"",buttons:[]}),h=a=>{a.preventDefault(),l({...t,header_type:t.header_type||null,header_content:t.header_content||null,footer_text:t.footer_text||null,status:"pending",rejection_reason:null,usage_count:0,created_at:new Date().toISOString()})},x=a=>{t.buttons.length>=3||o(b=>({...b,buttons:[...b.buttons,{type:a,text:"",url:"",phone:""}]}))},u=(a,b)=>{o(f=>({...f,buttons:f.buttons.map((d,p)=>p===a?{...d,...b}:d)}))},n=a=>{o(b=>({...b,buttons:b.buttons.filter((f,d)=>d!==a)}))};return e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm overflow-y-auto",onClick:s,children:e.jsxs(v.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"w-full max-w-2xl bg-[rgba(255,_255,_255,_0.05)] rounded-2xl border border-white/10 p-6 my-8",onClick:a=>a.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold",children:"Create Message Template"}),e.jsx("button",{onClick:s,className:"p-2 hover:bg-white/5 rounded-lg",children:e.jsx(k,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:h,className:"space-y-5",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Template Name"}),e.jsx("input",{type:"text",required:!0,placeholder:"e.g., order_confirmation",pattern:"[a-z0-9_]+",value:t.name,onChange:a=>o({...t,name:a.target.value.toLowerCase().replace(/[^a-z0-9_]/g,"_")}),className:"w-full px-4 py-3 bg-[#0b1215] border border-white/10 rounded-xl focus:border-[#25D366]/50 focus:outline-none"}),e.jsx("span",{className:"text-xs text-gray-500",children:"Lowercase, underscores only"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Category"}),e.jsxs("select",{required:!0,value:t.category,onChange:a=>o({...t,category:a.target.value}),className:"w-full px-4 py-3 bg-[#0b1215] border border-white/10 rounded-xl focus:border-[#25D366]/50 focus:outline-none",children:[e.jsx("option",{value:"UTILITY",children:"Utility - Transactional"}),e.jsx("option",{value:"MARKETING",children:"Marketing - Promotional"}),e.jsx("option",{value:"AUTHENTICATION",children:"Authentication - OTP"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Language"}),e.jsxs("select",{value:t.language,onChange:a=>o({...t,language:a.target.value}),className:"w-full px-4 py-3 bg-[#0b1215] border border-white/10 rounded-xl focus:border-[#25D366]/50 focus:outline-none",children:[e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"ar",children:"Arabic"}),e.jsx("option",{value:"es",children:"Spanish"}),e.jsx("option",{value:"fr",children:"French"}),e.jsx("option",{value:"de",children:"German"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Header (Optional)"}),e.jsx("div",{className:"flex gap-2 mb-2",children:[{value:"",label:"None",icon:k},{value:"TEXT",label:"Text",icon:ge},{value:"IMAGE",label:"Image",icon:B},{value:"VIDEO",label:"Video",icon:ne},{value:"DOCUMENT",label:"Document",icon:ye}].map(a=>e.jsxs("button",{type:"button",onClick:()=>o({...t,header_type:a.value,header_content:""}),className:g("flex items-center gap-1.5 px-3 py-2 rounded-lg text-sm transition-colors",t.header_type===a.value?"bg-[#25D366] text-white":"bg-[#1a1a24] text-gray-400 hover:text-white"),children:[e.jsx(a.icon,{className:"w-4 h-4"}),a.label]},a.value))}),t.header_type==="TEXT"&&e.jsx("input",{type:"text",placeholder:"Header text (max 60 chars)",maxLength:60,value:t.header_content,onChange:a=>o({...t,header_content:a.target.value}),className:"w-full px-4 py-3 bg-[#0b1215] border border-white/10 rounded-xl focus:border-[#25D366]/50 focus:outline-none"}),["IMAGE","VIDEO","DOCUMENT"].includes(t.header_type)&&e.jsx("input",{type:"url",placeholder:"Media URL for preview",value:t.header_content,onChange:a=>o({...t,header_content:a.target.value}),className:"w-full px-4 py-3 bg-[#0b1215] border border-white/10 rounded-xl focus:border-[#25D366]/50 focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Body Text"}),e.jsx("textarea",{required:!0,rows:4,maxLength:1024,placeholder:"Hi {{1}}, your order #{{2}} has been confirmed...",value:t.body_text,onChange:a=>o({...t,body_text:a.target.value}),className:"w-full px-4 py-3 bg-[#0b1215] border border-white/10 rounded-xl focus:border-[#25D366]/50 focus:outline-none resize-none"}),e.jsxs("span",{className:"text-xs text-gray-500",children:["Use ","{{1}}",", ","{{2}}"," for variables. ",t.body_text.length,"/1024"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Footer (Optional)"}),e.jsx("input",{type:"text",maxLength:60,placeholder:"e.g., Reply STOP to unsubscribe",value:t.footer_text,onChange:a=>o({...t,footer_text:a.target.value}),className:"w-full px-4 py-3 bg-[#0b1215] border border-white/10 rounded-xl focus:border-[#25D366]/50 focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Buttons (Optional, max 3)"}),e.jsx("div",{className:"space-y-2 mb-2",children:t.buttons.map((a,b)=>e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("input",{type:"text",placeholder:"Button text",maxLength:25,value:a.text,onChange:f=>u(b,{text:f.target.value}),className:"flex-1 px-3 py-2 bg-[#0b1215] border border-white/10 rounded-lg text-sm"}),a.type==="URL"&&e.jsx("input",{type:"url",placeholder:"URL",value:a.url,onChange:f=>u(b,{url:f.target.value}),className:"flex-1 px-3 py-2 bg-[#0b1215] border border-white/10 rounded-lg text-sm"}),a.type==="PHONE_NUMBER"&&e.jsx("input",{type:"tel",placeholder:"Phone",value:a.phone,onChange:f=>u(b,{phone:f.target.value}),className:"flex-1 px-3 py-2 bg-[#0b1215] border border-white/10 rounded-lg text-sm"}),e.jsx("span",{className:"text-xs text-gray-500 w-16",children:a.type}),e.jsx("button",{type:"button",onClick:()=>n(b),className:"p-2 text-red-400 hover:bg-red-500/10 rounded-lg",children:e.jsx(k,{className:"w-4 h-4"})})]},b))}),t.buttons.length<3&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{type:"button",onClick:()=>x("QUICK_REPLY"),className:"px-3 py-1.5 bg-[#1a1a24] rounded-lg text-sm hover:bg-[#22222e]",children:"+ Quick Reply"}),e.jsx("button",{type:"button",onClick:()=>x("URL"),className:"px-3 py-1.5 bg-[#1a1a24] rounded-lg text-sm hover:bg-[#22222e]",children:"+ URL Button"}),e.jsx("button",{type:"button",onClick:()=>x("PHONE_NUMBER"),className:"px-3 py-1.5 bg-[#1a1a24] rounded-lg text-sm hover:bg-[#22222e]",children:"+ Call Button"})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:s,className:"flex-1 px-4 py-3 bg-[#1a1a24] border border-white/10 rounded-xl hover:bg-[#22222e] transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 px-4 py-3 bg-gradient-to-r from-[#25D366] to-[#128C7E] rounded-xl hover:opacity-90 transition-opacity font-medium",children:"Create & Submit to Meta"})]})]})]})})}function ke({template:s,onClose:l}){const[t,o]=m.useState(["John","12345","2-3"]),h=x=>x.replace(/\{\{(\d+)\}\}/g,(u,n)=>{const a=parseInt(n)-1;return t[a]||`[${n}]`});return e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",onClick:l,children:e.jsxs(v.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"w-full max-w-lg bg-[rgba(255,_255,_255,_0.05)] rounded-2xl border border-white/10 p-6",onClick:x=>x.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold",children:"Template Preview"}),e.jsx("button",{onClick:l,className:"p-2 hover:bg-white/5 rounded-lg",children:e.jsx(k,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"bg-[#0b141a] rounded-2xl p-4 mb-6",style:{backgroundImage:'url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAFklEQVR42mNkYPhfz0AEYBxVOGoFAC6pBAt7z0yRAAAAAElFTkSuQmCC")'},children:[e.jsxs("div",{className:"bg-[#005c4b] rounded-lg p-3 max-w-[280px] ml-auto",children:[s.header_type==="TEXT"&&e.jsx("div",{className:"font-bold text-white mb-2",children:h(s.header_content||"")}),s.header_type==="IMAGE"&&e.jsx("div",{className:"bg-[#1a3a34] rounded-lg h-32 flex items-center justify-center mb-2",children:e.jsx(B,{className:"w-8 h-8 text-gray-400"})}),e.jsx("div",{className:"text-white text-sm whitespace-pre-wrap",children:h(s.body_text)}),s.footer_text&&e.jsx("div",{className:"text-gray-400 text-xs mt-2",children:s.footer_text}),e.jsx("div",{className:"text-right text-xs text-gray-400 mt-1",children:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),s.buttons.length>0&&e.jsx("div",{className:"bg-[#005c4b] rounded-lg mt-1 max-w-[280px] ml-auto divide-y divide-white/10",children:s.buttons.map((x,u)=>e.jsx("div",{className:"text-center py-2 text-[#53bdeb] text-sm",children:x.text},u))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-medium text-sm text-gray-400",children:"Sample Variable Values"}),[1,2,3].map(x=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-sm text-gray-500 w-16",children:`{{${x}}}`}),e.jsx("input",{type:"text",value:t[x-1]||"",onChange:u=>{const n=[...t];n[x-1]=u.target.value,o(n)},placeholder:`Value for variable ${x}`,className:"flex-1 px-3 py-2 bg-[#0b1215] border border-white/10 rounded-lg text-sm"})]},x))]}),e.jsx("button",{onClick:l,className:"w-full mt-6 px-4 py-3 bg-[#1a1a24] border border-white/10 rounded-xl hover:bg-[#22222e] transition-colors",children:"Close"})]})})}const Ae=[{id:1,name:"order_confirmation",category:"UTILITY",body_text:"Hi {{1}}, your order #{{2}} has been confirmed...",usage_count:1245},{id:2,name:"appointment_reminder",category:"UTILITY",body_text:"Hi {{1}}, this is a reminder for your appointment on {{2}}...",usage_count:856},{id:4,name:"verification_code",category:"AUTHENTICATION",body_text:"Your verification code is {{1}}...",usage_count:3421}],Re=[{id:1,name:"All Opted-In Contacts",count:11234,description:"All contacts with opt-in status"},{id:2,name:"Active Customers",count:5678,description:"Made purchase in last 30 days"},{id:3,name:"High Value Customers",count:1234,description:"Total spend > $500"},{id:4,name:"New Subscribers",count:890,description:"Joined in last 7 days"},{id:5,name:"Abandoned Cart",count:456,description:"Cart abandoned in last 24h"}],Fe=[{id:1,template_name:"order_confirmation",recipients:500,sent:500,delivered:485,read:412,failed:15,sent_at:"2025-01-30T10:00:00Z",status:"completed"},{id:2,template_name:"appointment_reminder",recipients:1200,sent:1200,delivered:1150,read:980,failed:50,sent_at:"2025-01-29T09:00:00Z",status:"completed"},{id:3,template_name:"promo_winter_sale",recipients:5e3,sent:2500,delivered:2400,read:0,failed:100,sent_at:"2025-01-30T14:00:00Z",status:"in_progress"},{id:4,template_name:"verification_code",recipients:300,sent:0,delivered:0,read:0,failed:0,sent_at:"2025-01-31T08:00:00Z",status:"scheduled"}];function Me(){const[s,l]=m.useState(!1),[t,o]=m.useState(Fe),h=t.reduce((n,a)=>n+a.sent,0),x=t.reduce((n,a)=>n+a.delivered,0),u=t.reduce((n,a)=>n+a.read,0);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Broadcast Campaigns"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Send approved templates to multiple contacts"})]}),e.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-[#25D366] to-[#128C7E] rounded-xl hover:opacity-90 transition-opacity",children:[e.jsx($,{className:"w-4 h-4"}),"New Broadcast"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(U,{title:"Total Broadcasts",value:t.length.toString(),subtitle:"This month",icon:$}),e.jsx(U,{title:"Messages Sent",value:h.toLocaleString(),subtitle:`${(x/h*100).toFixed(1)}% delivered`,icon:A}),e.jsx(U,{title:"Delivered",value:x.toLocaleString(),subtitle:`${(u/x*100).toFixed(1)}% read`,icon:T}),e.jsx(U,{title:"Read",value:u.toLocaleString(),subtitle:"Engagement",icon:se})]}),e.jsxs("div",{className:"bg-[rgba(255,_255,_255,_0.05)] rounded-2xl border border-white/5 overflow-hidden",children:[e.jsx("div",{className:"p-5 border-b border-white/5",children:e.jsx("h3",{className:"font-semibold",children:"Broadcast History"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-white/5",children:[e.jsx("th",{className:"p-4 text-left text-sm font-medium text-gray-400",children:"Template"}),e.jsx("th",{className:"p-4 text-left text-sm font-medium text-gray-400",children:"Recipients"}),e.jsx("th",{className:"p-4 text-left text-sm font-medium text-gray-400",children:"Delivery"}),e.jsx("th",{className:"p-4 text-left text-sm font-medium text-gray-400",children:"Status"}),e.jsx("th",{className:"p-4 text-left text-sm font-medium text-gray-400",children:"Sent At"})]})}),e.jsx("tbody",{children:t.map(n=>{const a=n.sent>0?(n.delivered/n.sent*100).toFixed(1):"0",b=n.delivered>0?(n.read/n.delivered*100).toFixed(1):"0";return e.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/[0.02] transition-colors",children:[e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-[#25D366]/10 rounded-lg",children:e.jsx(R,{className:"w-4 h-4 text-[#25D366]"})}),e.jsx("span",{className:"font-medium",children:n.template_name})]})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(P,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{children:n.recipients.toLocaleString()})]})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[e.jsxs("span",{className:"text-gray-400",children:["Sent:"," ",e.jsx("span",{className:"text-white",children:n.sent.toLocaleString()})]}),e.jsxs("span",{className:"text-gray-400",children:["Delivered: ",e.jsxs("span",{className:"text-green-400",children:[a,"%"]})]}),e.jsxs("span",{className:"text-gray-400",children:["Read: ",e.jsxs("span",{className:"text-cyan-400",children:[b,"%"]})]})]}),e.jsxs("div",{className:"flex gap-1 h-1.5",children:[e.jsx("div",{className:"bg-[#25D366] rounded-full",style:{width:`${n.sent/n.recipients*100}%`}}),e.jsx("div",{className:"bg-green-500/50 rounded-full",style:{width:`${n.delivered/n.recipients*100-n.sent/n.recipients*100}%`}})]})]})}),e.jsx("td",{className:"p-4",children:e.jsx(Ie,{status:n.status})}),e.jsx("td",{className:"p-4 text-gray-400 text-sm",children:new Date(n.sent_at).toLocaleString()})]},n.id)})})]})})]}),e.jsx(L,{children:s&&e.jsx(Ee,{templates:Ae,segments:Re,onClose:()=>l(!1),onCreate:n=>{o(a=>[{...n,id:a.length+1},...a]),l(!1)}})})]})}function U({title:s,value:l,subtitle:t,icon:o}){return e.jsxs("div",{className:"bg-[rgba(255,_255,_255,_0.05)] rounded-2xl border border-white/5 p-5",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-[#25D366]/10 rounded-lg",children:e.jsx(o,{className:"w-5 h-5 text-[#25D366]"})}),e.jsx("span",{className:"text-sm text-gray-400",children:s})]}),e.jsx("div",{className:"text-2xl font-bold mb-1",children:l}),e.jsx("div",{className:"text-xs text-gray-500",children:t})]})}function Ie({status:s}){const t={completed:{label:"Completed",color:"text-green-400",bg:"bg-green-500/10",icon:T},in_progress:{label:"In Progress",color:"text-cyan-400",bg:"bg-cyan-500/10",icon:F},scheduled:{label:"Scheduled",color:"text-yellow-400",bg:"bg-yellow-500/10",icon:oe},failed:{label:"Failed",color:"text-red-400",bg:"bg-red-500/10",icon:de}}[s],o=t.icon;return e.jsxs("span",{className:g("inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium",t.bg,t.color),children:[e.jsx(o,{className:"w-3.5 h-3.5"}),t.label]})}function Ee({templates:s,segments:l,onClose:t,onCreate:o}){const[h,x]=m.useState(1),[u,n]=m.useState(null),[a,b]=m.useState([]),[f,d]=m.useState({}),[p,y]=m.useState("now"),[N,_]=m.useState(""),[C,S]=m.useState(""),D=l.filter(c=>a.includes(c.id)).reduce((c,r)=>c+r.count,0),M=()=>{u&&o({template_name:u.name,recipients:D,sent:0,delivered:0,read:0,failed:0,sent_at:p==="now"?new Date().toISOString():`${N}T${C}:00Z`,status:p==="now"?"in_progress":"scheduled"})},i=c=>{b(r=>r.includes(c)?r.filter(j=>j!==c):[...r,c])};return e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm overflow-y-auto",onClick:t,children:e.jsxs(v.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"w-full max-w-3xl bg-[rgba(255,_255,_255,_0.05)] rounded-2xl border border-white/10 p-6 my-8",onClick:c=>c.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold",children:"Create Broadcast"}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Step ",h," of 3"]})]}),e.jsx("button",{onClick:t,className:"p-2 hover:bg-white/5 rounded-lg",children:e.jsx(k,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"flex gap-2 mb-8",children:[1,2,3].map(c=>e.jsx("div",{className:g("flex-1 h-1 rounded-full transition-colors",c<=h?"bg-[#25D366]":"bg-white/10")},c))}),h===1&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Select Template"}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx(Y,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search templates...",className:"w-full pl-10 pr-4 py-3 bg-[#0b1215] border border-white/10 rounded-xl focus:border-[#25D366]/50 focus:outline-none"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 max-h-80 overflow-y-auto",children:s.map(c=>e.jsxs("button",{onClick:()=>n(c),className:g("p-4 rounded-xl border text-left transition-all",(u==null?void 0:u.id)===c.id?"border-[#25D366] bg-[#25D366]/10":"border-white/10 hover:border-white/20 bg-[#0b1215]"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-medium",children:c.name}),e.jsx("span",{className:"text-xs text-gray-500 px-2 py-0.5 bg-white/5 rounded",children:c.category})]}),e.jsx("p",{className:"text-sm text-gray-400 line-clamp-2",children:c.body_text}),e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Used ",c.usage_count," times"]})]},c.id))})]}),h===2&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"font-medium",children:"Select Audience"}),e.jsxs("span",{className:"text-sm text-gray-400",children:[D.toLocaleString()," recipients selected"]})]}),e.jsx("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:l.map(c=>e.jsxs("button",{onClick:()=>i(c.id),className:g("w-full p-4 rounded-xl border text-left transition-all flex items-center gap-4",a.includes(c.id)?"border-[#25D366] bg-[#25D366]/10":"border-white/10 hover:border-white/20 bg-[#0b1215]"),children:[e.jsx("div",{className:g("w-5 h-5 rounded border-2 flex items-center justify-center transition-colors",a.includes(c.id)?"border-[#25D366] bg-[#25D366]":"border-gray-500"),children:a.includes(c.id)&&e.jsx(T,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xe,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"font-medium",children:c.name})]}),e.jsx("p",{className:"text-sm text-gray-400",children:c.description})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-medium",children:c.count.toLocaleString()}),e.jsx("div",{className:"text-xs text-gray-500",children:"contacts"})]})]},c.id))})]}),h===3&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-4",children:"Template Variables"}),e.jsxs("div",{className:"bg-[#0b1215] rounded-xl p-4 mb-4",children:[e.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"Preview:"}),e.jsx("p",{className:"text-sm",children:u==null?void 0:u.body_text.replace(/\{\{(\d+)\}\}/g,(c,r)=>f[r]||`[Variable ${r}]`)})]}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:[1,2,3].map(c=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:`{{${c}}}`}),e.jsx("input",{type:"text",placeholder:`Variable ${c}`,value:f[c]||"",onChange:r=>d({...f,[c]:r.target.value}),className:"w-full px-3 py-2 bg-[#0b1215] border border-white/10 rounded-lg text-sm"})]},c))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-4",children:"Schedule"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>y("now"),className:g("flex-1 p-4 rounded-xl border transition-colors",p==="now"?"border-[#25D366] bg-[#25D366]/10":"border-white/10 hover:border-white/20"),children:[e.jsx(A,{className:"w-6 h-6 mb-2 text-[#25D366]"}),e.jsx("div",{className:"font-medium",children:"Send Now"}),e.jsx("div",{className:"text-sm text-gray-400",children:"Start immediately"})]}),e.jsxs("button",{onClick:()=>y("scheduled"),className:g("flex-1 p-4 rounded-xl border transition-colors",p==="scheduled"?"border-[#25D366] bg-[#25D366]/10":"border-white/10 hover:border-white/20"),children:[e.jsx(oe,{className:"w-6 h-6 mb-2 text-[#25D366]"}),e.jsx("div",{className:"font-medium",children:"Schedule"}),e.jsx("div",{className:"text-sm text-gray-400",children:"Pick date & time"})]})]}),p==="scheduled"&&e.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-4",children:[e.jsx("input",{type:"date",value:N,onChange:c=>_(c.target.value),className:"px-4 py-3 bg-[#0b1215] border border-white/10 rounded-xl"}),e.jsx("input",{type:"time",value:C,onChange:c=>S(c.target.value),className:"px-4 py-3 bg-[#0b1215] border border-white/10 rounded-xl"})]})]}),e.jsxs("div",{className:"bg-[#0b1215] rounded-xl p-4",children:[e.jsx("h4",{className:"font-medium mb-3",children:"Summary"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Template"}),e.jsx("span",{children:u==null?void 0:u.name})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Recipients"}),e.jsx("span",{children:D.toLocaleString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Schedule"}),e.jsx("span",{children:p==="now"?"Send immediately":`${N} ${C}`})]})]})]})]}),e.jsxs("div",{className:"flex gap-3 mt-8",children:[h>1&&e.jsx("button",{onClick:()=>x(c=>c-1),className:"px-6 py-3 bg-[#1a1a24] border border-white/10 rounded-xl hover:bg-[#22222e] transition-colors",children:"Back"}),e.jsx("button",{onClick:t,className:"px-6 py-3 bg-[#1a1a24] border border-white/10 rounded-xl hover:bg-[#22222e] transition-colors",children:"Cancel"}),e.jsx("div",{className:"flex-1"}),h<3?e.jsx("button",{onClick:()=>x(c=>c+1),disabled:h===1&&!u||h===2&&a.length===0,className:"px-6 py-3 bg-gradient-to-r from-[#25D366] to-[#128C7E] rounded-xl hover:opacity-90 transition-opacity font-medium disabled:opacity-50",children:"Continue"}):e.jsxs("button",{onClick:M,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-[#25D366] to-[#128C7E] rounded-xl hover:opacity-90 transition-opacity font-medium",children:[e.jsx(A,{className:"w-4 h-4"}),p==="now"?"Send Broadcast":"Schedule Broadcast"]})]})]})})}const Le=[{id:1,contact_name:"John Doe",contact_phone:"+1234567890",direction:"outbound",message_type:"template",template_name:"order_confirmation",content:"Hi John, your order #12345 has been confirmed...",status:"read",sent_at:"2025-01-30T10:00:00Z",delivered_at:"2025-01-30T10:00:05Z",read_at:"2025-01-30T10:05:00Z",error_message:null},{id:2,contact_name:"Jane Smith",contact_phone:"+1987654321",direction:"outbound",message_type:"template",template_name:"appointment_reminder",content:"Hi Jane, this is a reminder for your appointment on Feb 1...",status:"delivered",sent_at:"2025-01-30T09:30:00Z",delivered_at:"2025-01-30T09:30:03Z",read_at:null,error_message:null},{id:3,contact_name:"John Doe",contact_phone:"+1234567890",direction:"inbound",message_type:"text",template_name:null,content:"Thanks for the confirmation!",status:"delivered",sent_at:"2025-01-30T10:10:00Z",delivered_at:null,read_at:null,error_message:null},{id:4,contact_name:"Alice Johnson",contact_phone:"+447123456789",direction:"outbound",message_type:"template",template_name:"verification_code",content:"Your verification code is 123456...",status:"sent",sent_at:"2025-01-30T09:00:00Z",delivered_at:null,read_at:null,error_message:null},{id:5,contact_name:"Mohammed Ali",contact_phone:"+971501234567",direction:"outbound",message_type:"template",template_name:"promo_winter_sale",content:"Winter Sale is here! Get up to 50% off...",status:"failed",sent_at:"2025-01-30T08:00:00Z",delivered_at:null,read_at:null,error_message:"Phone number not registered on WhatsApp"},{id:6,contact_name:"Pierre Dupont",contact_phone:"+33612345678",direction:"outbound",message_type:"image",template_name:null,content:"product-catalog.jpg",status:"read",sent_at:"2025-01-29T15:00:00Z",delivered_at:"2025-01-29T15:00:02Z",read_at:"2025-01-29T15:30:00Z",error_message:null}],Q={pending:{label:"Pending",color:"text-gray-400",bg:"bg-gray-500/10",icon:F},sent:{label:"Sent",color:"text-blue-400",bg:"bg-blue-500/10",icon:be},delivered:{label:"Delivered",color:"text-green-400",bg:"bg-green-500/10",icon:T},read:{label:"Read",color:"text-cyan-400",bg:"bg-cyan-500/10",icon:te},failed:{label:"Failed",color:"text-red-400",bg:"bg-red-500/10",icon:ie}},$e={template:R,text:G,image:B,video:ne,document:R};function Ue(){const[s]=m.useState(Le),[l,t]=m.useState(""),[o,h]=m.useState("all"),[x,u]=m.useState("all"),[n,a]=m.useState(1),[b,f]=m.useState(!1),d=10,p=s.filter(i=>{const c=i.contact_name.toLowerCase().includes(l.toLowerCase())||i.contact_phone.includes(l)||i.content.toLowerCase().includes(l.toLowerCase()),r=o==="all"||i.status===o,j=x==="all"||i.direction===x;return c&&r&&j}),y=Math.ceil(p.length/d),N=p.slice((n-1)*d,n*d),_=s.length,C=s.filter(i=>i.direction==="outbound").length,S=s.filter(i=>["delivered","read"].includes(i.status)).length,D=s.filter(i=>i.status==="read").length,M=s.filter(i=>i.status==="failed").length;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:[e.jsx(E,{label:"Total",value:_}),e.jsx(E,{label:"Sent",value:C,color:"text-blue-400"}),e.jsx(E,{label:"Delivered",value:S,color:"text-green-400"}),e.jsx(E,{label:"Read",value:D,color:"text-cyan-400"}),e.jsx(E,{label:"Failed",value:M,color:"text-red-400"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Y,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by name, phone, or content...",value:l,onChange:i=>t(i.target.value),className:"w-full pl-10 pr-4 py-3 bg-[rgba(255,_255,_255,_0.05)] border border-white/10 rounded-xl focus:border-[#25D366]/50 focus:outline-none"})]}),e.jsxs("button",{onClick:()=>f(!b),className:g("flex items-center gap-2 px-4 py-3 rounded-xl border transition-colors",b?"bg-[#25D366]/10 border-[#25D366]/30 text-[#25D366]":"bg-[rgba(255,_255,_255,_0.05)] border-white/10 text-gray-400 hover:text-white"),children:[e.jsx(me,{className:"w-5 h-5"}),"Filters"]}),e.jsxs("button",{onClick:()=>{},className:"flex items-center gap-2 px-4 py-3 bg-[rgba(255,_255,_255,_0.05)] border border-white/10 rounded-xl text-gray-400 hover:text-white transition-colors",children:[e.jsx(he,{className:"w-5 h-5"}),"Refresh"]})]}),b&&e.jsxs(v.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"flex flex-wrap gap-4 p-4 bg-[rgba(255,_255,_255,_0.05)] rounded-xl border border-white/5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Status"}),e.jsx("div",{className:"flex gap-2",children:["all","pending","sent","delivered","read","failed"].map(i=>{var c;return e.jsx("button",{onClick:()=>h(i),className:g("px-3 py-1.5 rounded-lg text-sm transition-colors",o===i?"bg-[#25D366] text-white":"bg-[#1a1a24] text-gray-400 hover:text-white"),children:i==="all"?"All":(c=Q[i])==null?void 0:c.label},i)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Direction"}),e.jsx("div",{className:"flex gap-2",children:["all","outbound","inbound"].map(i=>e.jsx("button",{onClick:()=>u(i),className:g("px-3 py-1.5 rounded-lg text-sm transition-colors",x===i?"bg-[#25D366] text-white":"bg-[#1a1a24] text-gray-400 hover:text-white"),children:i==="all"?"All":i==="outbound"?"Sent":"Received"},i))})]})]}),e.jsxs("div",{className:"bg-[rgba(255,_255,_255,_0.05)] rounded-2xl border border-white/5 overflow-hidden",children:[e.jsx("div",{className:"divide-y divide-white/5",children:N.map(i=>{const c=Q[i.status],r=c.icon,j=$e[i.message_type];return e.jsx("div",{className:"p-4 hover:bg-white/[0.02] transition-colors",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:g("w-10 h-10 rounded-full flex items-center justify-center font-medium",i.direction==="outbound"?"bg-gradient-to-br from-[#25D366] to-[#128C7E]":"bg-gradient-to-br from-cyan-500 to-blue-500"),children:i.contact_name[0]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"font-medium",children:i.contact_name}),e.jsx("span",{className:"text-xs text-gray-500",children:i.contact_phone}),i.direction==="outbound"?e.jsx(A,{className:"w-3.5 h-3.5 text-gray-400",title:"Sent"}):e.jsx(G,{className:"w-3.5 h-3.5 text-cyan-400",title:"Received"})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(j,{className:"w-4 h-4 text-gray-400"}),i.template_name&&e.jsx("span",{className:"text-xs px-2 py-0.5 bg-purple-500/10 text-purple-400 rounded",children:i.template_name})]}),e.jsx("p",{className:"text-sm text-gray-300 line-clamp-2",children:i.content}),i.error_message&&e.jsx("p",{className:"text-xs text-red-400 mt-1",children:i.error_message})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("span",{className:g("inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium",c.bg,c.color),children:[e.jsx(r,{className:"w-3.5 h-3.5"}),c.label]}),e.jsx("div",{className:"text-xs text-gray-500 mt-2",children:i.sent_at&&new Date(i.sent_at).toLocaleString()}),i.direction==="outbound"&&e.jsxs("div",{className:"flex items-center justify-end gap-1 mt-2",children:[e.jsx(Z,{active:!!i.sent_at,label:"Sent"}),e.jsx(q,{active:!!i.delivered_at}),e.jsx(Z,{active:!!i.delivered_at,label:"Delivered"}),e.jsx(q,{active:!!i.read_at}),e.jsx(Z,{active:!!i.read_at,label:"Read"})]})]})]})},i.id)})}),e.jsxs("div",{className:"flex items-center justify-between p-4 border-t border-white/5",children:[e.jsxs("span",{className:"text-sm text-gray-400",children:["Showing ",(n-1)*d+1,"-",Math.min(n*d,p.length)," of ",p.length]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>a(i=>Math.max(1,i-1)),disabled:n===1,className:"p-2 bg-[#1a1a24] rounded-lg disabled:opacity-50 hover:bg-[#22222e] transition-colors",children:e.jsx(X,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>a(i=>Math.min(y,i+1)),disabled:n===y,className:"p-2 bg-[#1a1a24] rounded-lg disabled:opacity-50 hover:bg-[#22222e] transition-colors",children:e.jsx(ee,{className:"w-4 h-4"})})]})]})]})]})}function E({label:s,value:l,color:t="text-white"}){return e.jsxs("div",{className:"bg-[rgba(255,_255,_255,_0.05)] rounded-xl border border-white/5 p-3 text-center",children:[e.jsx("div",{className:g("text-xl font-bold",t),children:l}),e.jsx("div",{className:"text-xs text-gray-500",children:s})]})}function Z({active:s,label:l}){return e.jsx("div",{className:g("w-2 h-2 rounded-full",s?"bg-[#25D366]":"bg-gray-600"),title:l})}function q({active:s}){return e.jsx("div",{className:g("w-3 h-0.5",s?"bg-[#25D366]":"bg-gray-600")})}const Oe=[{id:"overview",label:"Overview",icon:se,description:"Dashboard & Analytics"},{id:"contacts",label:"Contacts",icon:P,description:"Manage Recipients"},{id:"templates",label:"Templates",icon:R,description:"Message Templates"},{id:"broadcast",label:"Broadcast",icon:$,description:"Send Campaigns"},{id:"messages",label:"Messages",icon:F,description:"Message History"}],Pe={totalContacts:12453,optedIn:11234,optedOut:1219,templates:8,approvedTemplates:6,pendingTemplates:2,messagesSent:45678,messagesDelivered:44123,messagesRead:38456,broadcastsThisMonth:12};function ot(){const[s,l]=m.useState("overview"),t=()=>{switch(s){case"contacts":return e.jsx(we,{});case"templates":return e.jsx(Te,{});case"broadcast":return e.jsx(Me,{});case"messages":return e.jsx(Ue,{});default:return e.jsx(Be,{stats:Pe,onNavigate:l})}};return e.jsxs("div",{className:"min-h-screen bg-[#0b1215] text-white p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-2 rounded-xl bg-gradient-to-br from-[#25D366] to-[#128C7E]",children:e.jsx(G,{className:"w-6 h-6 text-white"})}),e.jsx("h1",{className:"text-2xl font-bold",children:"WhatsApp Business Manager"})]}),e.jsx("p",{className:"text-gray-400",children:"Manage contacts, templates, and broadcast campaigns"})]}),e.jsx("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2",children:Oe.map(o=>{const h=o.icon,x=s===o.id;return e.jsxs("button",{onClick:()=>l(o.id),className:g("flex items-center gap-2 px-4 py-3 rounded-xl transition-all whitespace-nowrap",x?"bg-gradient-to-r from-[#25D366] to-[#128C7E] text-white shadow-lg shadow-[#25D366]/20":"bg-[rgba(255,_255,_255,_0.05)] text-gray-400 hover:text-white hover:bg-[#1a1a24] border border-white/5"),children:[e.jsx(h,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:o.label})]},o.id)})}),e.jsx(v.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},children:t()},s)]})}function Be({stats:s,onNavigate:l}){const t=(s.messagesDelivered/s.messagesSent*100).toFixed(1),o=(s.messagesRead/s.messagesDelivered*100).toFixed(1),h=(s.optedIn/s.totalContacts*100).toFixed(1);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(O,{title:"Total Contacts",value:s.totalContacts.toLocaleString(),subtitle:`${h}% opted in`,icon:P,color:"cyan",onClick:()=>l("contacts")}),e.jsx(O,{title:"Templates",value:s.templates.toString(),subtitle:`${s.approvedTemplates} approved, ${s.pendingTemplates} pending`,icon:R,color:"purple",onClick:()=>l("templates")}),e.jsx(O,{title:"Messages Sent",value:s.messagesSent.toLocaleString(),subtitle:`${t}% delivered`,icon:A,color:"green",onClick:()=>l("messages")}),e.jsx(O,{title:"Broadcasts",value:s.broadcastsThisMonth.toString(),subtitle:"This month",icon:$,color:"orange",onClick:()=>l("broadcast")})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(H,{title:"Create Template",description:"Design a new message template for Meta approval",icon:R,onClick:()=>l("templates"),color:"purple"}),e.jsx(H,{title:"Send Broadcast",description:"Send approved template to multiple contacts",icon:$,onClick:()=>l("broadcast"),color:"green"}),e.jsx(H,{title:"Import Contacts",description:"Bulk import contacts from CSV or manually",icon:P,onClick:()=>l("contacts"),color:"cyan"})]}),e.jsxs("div",{className:"bg-[rgba(255,_255,_255,_0.05)] rounded-2xl border border-white/5 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Message Delivery Performance"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Delivery Rate"}),e.jsxs("span",{className:"text-[#25D366] font-medium",children:[t,"%"]})]}),e.jsx("div",{className:"h-2 bg-[#1a1a24] rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-[#25D366] to-[#128C7E] rounded-full",style:{width:`${t}%`}})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Read Rate"}),e.jsxs("span",{className:"text-cyan-400 font-medium",children:[o,"%"]})]}),e.jsx("div",{className:"h-2 bg-[#1a1a24] rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-cyan-500 to-cyan-400 rounded-full",style:{width:`${o}%`}})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Opt-in Rate"}),e.jsxs("span",{className:"text-purple-400 font-medium",children:[h,"%"]})]}),e.jsx("div",{className:"h-2 bg-[#1a1a24] rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 to-purple-400 rounded-full",style:{width:`${h}%`}})})]})]})]}),e.jsxs("div",{className:"bg-[rgba(255,_255,_255,_0.05)] rounded-2xl border border-white/5 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Template Status"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(V,{icon:T,label:"Approved Templates",value:s.approvedTemplates,color:"green"}),e.jsx(V,{icon:F,label:"Pending Approval",value:s.pendingTemplates,color:"yellow"}),e.jsx(V,{icon:ie,label:"Rejected Templates",value:0,color:"red"})]})]})]})}function O({title:s,value:l,subtitle:t,icon:o,color:h,onClick:x}){const u={cyan:"from-cyan-500/20 to-cyan-500/5 border-cyan-500/20",purple:"from-purple-500/20 to-purple-500/5 border-purple-500/20",green:"from-[#25D366]/20 to-[#25D366]/5 border-[#25D366]/20",orange:"from-orange-500/20 to-orange-500/5 border-orange-500/20"},n={cyan:"text-cyan-400",purple:"text-purple-400",green:"text-[#25D366]",orange:"text-orange-400"};return e.jsxs("button",{onClick:x,className:g("bg-gradient-to-br rounded-2xl border p-6 text-left transition-all hover:scale-[1.02] hover:shadow-lg",u[h]),children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsx(o,{className:g("w-6 h-6",n[h])})}),e.jsx("div",{className:"text-3xl font-bold mb-1",children:l}),e.jsx("div",{className:"text-sm text-gray-400",children:s}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:t})]})}function H({title:s,description:l,icon:t,onClick:o,color:h}){const x={cyan:"hover:border-cyan-500/30 group-hover:text-cyan-400",purple:"hover:border-purple-500/30 group-hover:text-purple-400",green:"hover:border-[#25D366]/30 group-hover:text-[#25D366]"};return e.jsxs("button",{onClick:o,className:g("group bg-[rgba(255,_255,_255,_0.05)] rounded-2xl border border-white/5 p-6 text-left transition-all hover:bg-[#1a1a24]",x[h]),children:[e.jsx(t,{className:"w-8 h-8 text-gray-400 group-hover:text-current transition-colors mb-4"}),e.jsx("h4",{className:"font-semibold mb-1",children:s}),e.jsx("p",{className:"text-sm text-gray-500",children:l})]})}function V({icon:s,label:l,value:t,color:o}){const h={green:"text-green-400",yellow:"text-yellow-400",red:"text-red-400"};return e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-white/5 last:border-0",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(s,{className:g("w-5 h-5",h[o])}),e.jsx("span",{className:"text-gray-300",children:l})]}),e.jsx("span",{className:"font-medium",children:t})]})}export{ot as default};
//# sourceMappingURL=WhatsAppManager-DfnUkuAr.js.map
