{"version":3,"file":"WhatsAppManager-DfnUkuAr.js","sources":["../../node_modules/@heroicons/react/24/outline/esm/ArrowUpTrayIcon.js","../../node_modules/@heroicons/react/24/outline/esm/DocumentIcon.js","../../node_modules/@heroicons/react/24/outline/esm/MegaphoneIcon.js","../../src/views/whatsapp/WhatsAppContacts.tsx","../../src/views/whatsapp/WhatsAppTemplates.tsx","../../src/views/whatsapp/WhatsAppBroadcast.tsx","../../src/views/whatsapp/WhatsAppMessages.tsx","../../src/views/whatsapp/WhatsAppManager.tsx"],"sourcesContent":["import * as React from \"react\";\nfunction ArrowUpTrayIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ArrowUpTrayIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction DocumentIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(DocumentIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction MegaphoneIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M10.34 15.84c-.688-.06-1.386-.09-2.09-.09H7.5a4.5 4.5 0 1 1 0-9h.75c.704 0 1.402-.03 2.09-.09m0 9.18c.253.962.584 1.892.985 2.783.247.55.06 1.21-.463 1.511l-.657.38c-.551.318-1.26.117-1.527-.461a20.845 20.845 0 0 1-1.44-4.282m3.102.069a18.03 18.03 0 0 1-.59-4.59c0-1.586.205-3.124.59-4.59m0 9.18a23.848 23.848 0 0 1 8.835 2.535M10.34 6.66a23.847 23.847 0 0 0 8.835-2.535m0 0A23.74 23.74 0 0 0 18.795 3m.38 1.125a23.91 23.91 0 0 1 1.014 5.395m-1.014 8.855c-.118.38-.245.754-.38 1.125m.38-1.125a23.91 23.91 0 0 0 1.014-5.395m0-3.46c.495.413.811 1.035.811 1.73 0 .695-.316 1.317-.811 1.73m0-3.46a24.347 24.347 0 0 1 0 3.46\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(MegaphoneIcon);\nexport default ForwardRef;","/**\r\n * WhatsApp Contacts Manager\r\n * Manage WhatsApp Business contacts with import, search, and opt-in management\r\n */\r\n\r\nimport { useState } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport {\r\n  MagnifyingGlassIcon,\r\n  PlusIcon,\r\n  ArrowUpTrayIcon,\r\n  CheckCircleIcon,\r\n  XCircleIcon,\r\n  ClockIcon,\r\n  PhoneIcon,\r\n  TrashIcon,\r\n  PencilIcon,\r\n  ChevronLeftIcon,\r\n  ChevronRightIcon,\r\n  XMarkIcon,\r\n  DocumentArrowDownIcon,\r\n} from '@heroicons/react/24/outline';\r\nimport { cn } from '@/lib/utils';\r\n\r\ninterface Contact {\r\n  id: number;\r\n  phone_number: string;\r\n  country_code: string;\r\n  display_name: string | null;\r\n  opt_in_status: 'pending' | 'opted_in' | 'opted_out';\r\n  message_count: number;\r\n  last_message_at: string | null;\r\n  created_at: string;\r\n}\r\n\r\n// Mock data\r\nconst mockContacts: Contact[] = [\r\n  {\r\n    id: 1,\r\n    phone_number: '+1234567890',\r\n    country_code: 'US',\r\n    display_name: 'John Doe',\r\n    opt_in_status: 'opted_in',\r\n    message_count: 24,\r\n    last_message_at: '2025-01-30T10:00:00Z',\r\n    created_at: '2024-12-01T00:00:00Z',\r\n  },\r\n  {\r\n    id: 2,\r\n    phone_number: '+1987654321',\r\n    country_code: 'US',\r\n    display_name: 'Jane Smith',\r\n    opt_in_status: 'opted_in',\r\n    message_count: 18,\r\n    last_message_at: '2025-01-29T15:30:00Z',\r\n    created_at: '2024-12-05T00:00:00Z',\r\n  },\r\n  {\r\n    id: 3,\r\n    phone_number: '+447123456789',\r\n    country_code: 'GB',\r\n    display_name: 'Alice Johnson',\r\n    opt_in_status: 'pending',\r\n    message_count: 0,\r\n    last_message_at: null,\r\n    created_at: '2025-01-20T00:00:00Z',\r\n  },\r\n  {\r\n    id: 4,\r\n    phone_number: '+971501234567',\r\n    country_code: 'AE',\r\n    display_name: 'Mohammed Ali',\r\n    opt_in_status: 'opted_in',\r\n    message_count: 45,\r\n    last_message_at: '2025-01-30T08:00:00Z',\r\n    created_at: '2024-11-15T00:00:00Z',\r\n  },\r\n  {\r\n    id: 5,\r\n    phone_number: '+33612345678',\r\n    country_code: 'FR',\r\n    display_name: 'Pierre Dupont',\r\n    opt_in_status: 'opted_out',\r\n    message_count: 12,\r\n    last_message_at: '2025-01-15T12:00:00Z',\r\n    created_at: '2024-10-20T00:00:00Z',\r\n  },\r\n];\r\n\r\nconst statusConfig = {\r\n  opted_in: {\r\n    label: 'Opted In',\r\n    color: 'text-green-400',\r\n    bg: 'bg-green-500/10',\r\n    icon: CheckCircleIcon,\r\n  },\r\n  pending: { label: 'Pending', color: 'text-yellow-400', bg: 'bg-yellow-500/10', icon: ClockIcon },\r\n  opted_out: { label: 'Opted Out', color: 'text-red-400', bg: 'bg-red-500/10', icon: XCircleIcon },\r\n};\r\n\r\nexport default function WhatsAppContacts() {\r\n  const [contacts, setContacts] = useState<Contact[]>(mockContacts);\r\n  const [search, setSearch] = useState('');\r\n  const [statusFilter, setStatusFilter] = useState<string>('all');\r\n  const [showAddModal, setShowAddModal] = useState(false);\r\n  const [showImportModal, setShowImportModal] = useState(false);\r\n  const [selectedContacts, setSelectedContacts] = useState<number[]>([]);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const pageSize = 10;\r\n\r\n  const filteredContacts = contacts.filter((contact) => {\r\n    const matchesSearch =\r\n      contact.phone_number.includes(search) ||\r\n      (contact.display_name?.toLowerCase().includes(search.toLowerCase()) ?? false);\r\n    const matchesStatus = statusFilter === 'all' || contact.opt_in_status === statusFilter;\r\n    return matchesSearch && matchesStatus;\r\n  });\r\n\r\n  const totalPages = Math.ceil(filteredContacts.length / pageSize);\r\n  const paginatedContacts = filteredContacts.slice(\r\n    (currentPage - 1) * pageSize,\r\n    currentPage * pageSize\r\n  );\r\n\r\n  const handleSelectAll = () => {\r\n    if (selectedContacts.length === paginatedContacts.length) {\r\n      setSelectedContacts([]);\r\n    } else {\r\n      setSelectedContacts(paginatedContacts.map((c) => c.id));\r\n    }\r\n  };\r\n\r\n  const handleToggleSelect = (id: number) => {\r\n    setSelectedContacts((prev) =>\r\n      prev.includes(id) ? prev.filter((i) => i !== id) : [...prev, id]\r\n    );\r\n  };\r\n\r\n  const handleOptIn = (id: number) => {\r\n    setContacts((prev) =>\r\n      prev.map((c) => (c.id === id ? { ...c, opt_in_status: 'opted_in' as const } : c))\r\n    );\r\n  };\r\n\r\n  const handleOptOut = (id: number) => {\r\n    setContacts((prev) =>\r\n      prev.map((c) => (c.id === id ? { ...c, opt_in_status: 'opted_out' as const } : c))\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header & Actions */}\r\n      <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4\">\r\n        <div>\r\n          <h2 className=\"text-xl font-semibold\">Contact Management</h2>\r\n          <p className=\"text-gray-400 text-sm\">\r\n            {filteredContacts.length} contacts •{' '}\r\n            {contacts.filter((c) => c.opt_in_status === 'opted_in').length} opted in\r\n          </p>\r\n        </div>\r\n        <div className=\"flex gap-3\">\r\n          <button\r\n            onClick={() => setShowImportModal(true)}\r\n            className=\"flex items-center gap-2 px-4 py-2 bg-[#1a1a24] border border-white/10 rounded-xl hover:bg-[#22222e] transition-colors\"\r\n          >\r\n            <ArrowUpTrayIcon className=\"w-4 h-4\" />\r\n            Import CSV\r\n          </button>\r\n          <button\r\n            onClick={() => setShowAddModal(true)}\r\n            className=\"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-[#25D366] to-[#128C7E] rounded-xl hover:opacity-90 transition-opacity\"\r\n          >\r\n            <PlusIcon className=\"w-4 h-4\" />\r\n            Add Contact\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Filters */}\r\n      <div className=\"flex flex-col md:flex-row gap-4\">\r\n        <div className=\"relative flex-1\">\r\n          <MagnifyingGlassIcon className=\"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400\" />\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Search by phone or name...\"\r\n            value={search}\r\n            onChange={(e) => setSearch(e.target.value)}\r\n            className=\"w-full pl-10 pr-4 py-3 bg-[rgba(255,_255,_255,_0.05)] border border-white/10 rounded-xl focus:border-[#25D366]/50 focus:outline-none transition-colors\"\r\n          />\r\n        </div>\r\n        <div className=\"flex gap-2\">\r\n          {['all', 'opted_in', 'pending', 'opted_out'].map((status) => (\r\n            <button\r\n              key={status}\r\n              onClick={() => setStatusFilter(status)}\r\n              className={cn(\r\n                'px-4 py-2 rounded-xl transition-colors text-sm font-medium',\r\n                statusFilter === status\r\n                  ? 'bg-[#25D366] text-white'\r\n                  : 'bg-[rgba(255,_255,_255,_0.05)] text-gray-400 hover:text-white border border-white/10'\r\n              )}\r\n            >\r\n              {status === 'all' ? 'All' : statusConfig[status as keyof typeof statusConfig]?.label}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Bulk Actions */}\r\n      {selectedContacts.length > 0 && (\r\n        <motion.div\r\n          initial={{ opacity: 0, y: -10 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          className=\"flex items-center gap-4 p-4 bg-[#25D366]/10 border border-[#25D366]/20 rounded-xl\"\r\n        >\r\n          <span className=\"text-sm\">{selectedContacts.length} selected</span>\r\n          <div className=\"flex gap-2\">\r\n            <button className=\"px-3 py-1.5 text-sm bg-green-500/20 text-green-400 rounded-lg hover:bg-green-500/30\">\r\n              Opt In Selected\r\n            </button>\r\n            <button className=\"px-3 py-1.5 text-sm bg-red-500/20 text-red-400 rounded-lg hover:bg-red-500/30\">\r\n              Opt Out Selected\r\n            </button>\r\n            <button className=\"px-3 py-1.5 text-sm bg-cyan-500/20 text-cyan-400 rounded-lg hover:bg-cyan-500/30\">\r\n              Export Selected\r\n            </button>\r\n          </div>\r\n        </motion.div>\r\n      )}\r\n\r\n      {/* Contacts Table */}\r\n      <div className=\"bg-[rgba(255,_255,_255,_0.05)] rounded-2xl border border-white/5 overflow-hidden\">\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"w-full\">\r\n            <thead>\r\n              <tr className=\"border-b border-white/5\">\r\n                <th className=\"p-4 text-left\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    checked={\r\n                      selectedContacts.length === paginatedContacts.length &&\r\n                      paginatedContacts.length > 0\r\n                    }\r\n                    onChange={handleSelectAll}\r\n                    className=\"rounded border-white/20 bg-transparent\"\r\n                  />\r\n                </th>\r\n                <th className=\"p-4 text-left text-sm font-medium text-gray-400\">Contact</th>\r\n                <th className=\"p-4 text-left text-sm font-medium text-gray-400\">Phone</th>\r\n                <th className=\"p-4 text-left text-sm font-medium text-gray-400\">Status</th>\r\n                <th className=\"p-4 text-left text-sm font-medium text-gray-400\">Messages</th>\r\n                <th className=\"p-4 text-left text-sm font-medium text-gray-400\">Last Contact</th>\r\n                <th className=\"p-4 text-right text-sm font-medium text-gray-400\">Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {paginatedContacts.map((contact) => {\r\n                const status = statusConfig[contact.opt_in_status];\r\n                const StatusIcon = status.icon;\r\n                return (\r\n                  <tr\r\n                    key={contact.id}\r\n                    className=\"border-b border-white/5 hover:bg-white/[0.02] transition-colors\"\r\n                  >\r\n                    <td className=\"p-4\">\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={selectedContacts.includes(contact.id)}\r\n                        onChange={() => handleToggleSelect(contact.id)}\r\n                        className=\"rounded border-white/20 bg-transparent\"\r\n                      />\r\n                    </td>\r\n                    <td className=\"p-4\">\r\n                      <div className=\"flex items-center gap-3\">\r\n                        <div className=\"w-10 h-10 rounded-full bg-gradient-to-br from-[#25D366] to-[#128C7E] flex items-center justify-center font-medium\">\r\n                          {contact.display_name?.[0] || contact.phone_number[1]}\r\n                        </div>\r\n                        <div>\r\n                          <div className=\"font-medium\">{contact.display_name || 'Unknown'}</div>\r\n                          <div className=\"text-xs text-gray-500\">{contact.country_code}</div>\r\n                        </div>\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"p-4\">\r\n                      <div className=\"flex items-center gap-2 text-gray-300\">\r\n                        <PhoneIcon className=\"w-4 h-4\" />\r\n                        {contact.phone_number}\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"p-4\">\r\n                      <span\r\n                        className={cn(\r\n                          'inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium',\r\n                          status.bg,\r\n                          status.color\r\n                        )}\r\n                      >\r\n                        <StatusIcon className=\"w-3.5 h-3.5\" />\r\n                        {status.label}\r\n                      </span>\r\n                    </td>\r\n                    <td className=\"p-4 text-gray-300\">{contact.message_count}</td>\r\n                    <td className=\"p-4 text-gray-400 text-sm\">\r\n                      {contact.last_message_at\r\n                        ? new Date(contact.last_message_at).toLocaleDateString()\r\n                        : 'Never'}\r\n                    </td>\r\n                    <td className=\"p-4\">\r\n                      <div className=\"flex items-center justify-end gap-2\">\r\n                        {contact.opt_in_status !== 'opted_in' && (\r\n                          <button\r\n                            onClick={() => handleOptIn(contact.id)}\r\n                            className=\"p-2 text-green-400 hover:bg-green-500/10 rounded-lg transition-colors\"\r\n                            title=\"Opt In\"\r\n                          >\r\n                            <CheckCircleIcon className=\"w-4 h-4\" />\r\n                          </button>\r\n                        )}\r\n                        {contact.opt_in_status !== 'opted_out' && (\r\n                          <button\r\n                            onClick={() => handleOptOut(contact.id)}\r\n                            className=\"p-2 text-red-400 hover:bg-red-500/10 rounded-lg transition-colors\"\r\n                            title=\"Opt Out\"\r\n                          >\r\n                            <XCircleIcon className=\"w-4 h-4\" />\r\n                          </button>\r\n                        )}\r\n                        <button className=\"p-2 text-gray-400 hover:bg-white/5 rounded-lg transition-colors\">\r\n                          <PencilIcon className=\"w-4 h-4\" />\r\n                        </button>\r\n                        <button className=\"p-2 text-gray-400 hover:bg-red-500/10 hover:text-red-400 rounded-lg transition-colors\">\r\n                          <TrashIcon className=\"w-4 h-4\" />\r\n                        </button>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                );\r\n              })}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n\r\n        {/* Pagination */}\r\n        <div className=\"flex items-center justify-between p-4 border-t border-white/5\">\r\n          <span className=\"text-sm text-gray-400\">\r\n            Showing {(currentPage - 1) * pageSize + 1}-\r\n            {Math.min(currentPage * pageSize, filteredContacts.length)} of {filteredContacts.length}\r\n          </span>\r\n          <div className=\"flex gap-2\">\r\n            <button\r\n              onClick={() => setCurrentPage((p) => Math.max(1, p - 1))}\r\n              disabled={currentPage === 1}\r\n              className=\"p-2 bg-[#1a1a24] rounded-lg disabled:opacity-50 hover:bg-[#22222e] transition-colors\"\r\n            >\r\n              <ChevronLeftIcon className=\"w-4 h-4\" />\r\n            </button>\r\n            <button\r\n              onClick={() => setCurrentPage((p) => Math.min(totalPages, p + 1))}\r\n              disabled={currentPage === totalPages}\r\n              className=\"p-2 bg-[#1a1a24] rounded-lg disabled:opacity-50 hover:bg-[#22222e] transition-colors\"\r\n            >\r\n              <ChevronRightIcon className=\"w-4 h-4\" />\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Add Contact Modal */}\r\n      <AnimatePresence>\r\n        {showAddModal && (\r\n          <AddContactModal\r\n            onClose={() => setShowAddModal(false)}\r\n            onAdd={(contact) => {\r\n              setContacts((prev) => [{ ...contact, id: prev.length + 1 }, ...prev]);\r\n              setShowAddModal(false);\r\n            }}\r\n          />\r\n        )}\r\n      </AnimatePresence>\r\n\r\n      {/* Import Modal */}\r\n      <AnimatePresence>\r\n        {showImportModal && (\r\n          <ImportContactsModal\r\n            onClose={() => setShowImportModal(false)}\r\n            onImport={(_count) => {\r\n              // Mock import\r\n              setShowImportModal(false);\r\n            }}\r\n          />\r\n        )}\r\n      </AnimatePresence>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Add Contact Modal\r\nfunction AddContactModal({\r\n  onClose,\r\n  onAdd,\r\n}: {\r\n  onClose: () => void;\r\n  onAdd: (contact: Omit<Contact, 'id'>) => void;\r\n}) {\r\n  const [formData, setFormData] = useState({\r\n    phone_number: '',\r\n    country_code: 'US',\r\n    display_name: '',\r\n  });\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    onAdd({\r\n      ...formData,\r\n      opt_in_status: 'pending',\r\n      message_count: 0,\r\n      last_message_at: null,\r\n      created_at: new Date().toISOString(),\r\n    });\r\n  };\r\n\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0 }}\r\n      animate={{ opacity: 1 }}\r\n      exit={{ opacity: 0 }}\r\n      className=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm\"\r\n      onClick={onClose}\r\n    >\r\n      <motion.div\r\n        initial={{ scale: 0.95, opacity: 0 }}\r\n        animate={{ scale: 1, opacity: 1 }}\r\n        exit={{ scale: 0.95, opacity: 0 }}\r\n        className=\"w-full max-w-md bg-[rgba(255,_255,_255,_0.05)] rounded-2xl border border-white/10 p-6\"\r\n        onClick={(e) => e.stopPropagation()}\r\n      >\r\n        <div className=\"flex items-center justify-between mb-6\">\r\n          <h3 className=\"text-xl font-semibold\">Add Contact</h3>\r\n          <button onClick={onClose} className=\"p-2 hover:bg-white/5 rounded-lg\">\r\n            <XMarkIcon className=\"w-5 h-5\" />\r\n          </button>\r\n        </div>\r\n\r\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-400 mb-2\">Phone Number</label>\r\n            <input\r\n              type=\"tel\"\r\n              required\r\n              placeholder=\"+1234567890\"\r\n              value={formData.phone_number}\r\n              onChange={(e) => setFormData({ ...formData, phone_number: e.target.value })}\r\n              className=\"w-full px-4 py-3 bg-[#0b1215] border border-white/10 rounded-xl focus:border-[#25D366]/50 focus:outline-none\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-400 mb-2\">Country Code</label>\r\n            <select\r\n              value={formData.country_code}\r\n              onChange={(e) => setFormData({ ...formData, country_code: e.target.value })}\r\n              className=\"w-full px-4 py-3 bg-[#0b1215] border border-white/10 rounded-xl focus:border-[#25D366]/50 focus:outline-none\"\r\n            >\r\n              <option value=\"US\">United States (+1)</option>\r\n              <option value=\"GB\">United Kingdom (+44)</option>\r\n              <option value=\"AE\">UAE (+971)</option>\r\n              <option value=\"SA\">Saudi Arabia (+966)</option>\r\n              <option value=\"FR\">France (+33)</option>\r\n              <option value=\"DE\">Germany (+49)</option>\r\n            </select>\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-400 mb-2\">Display Name</label>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"John Doe\"\r\n              value={formData.display_name}\r\n              onChange={(e) => setFormData({ ...formData, display_name: e.target.value })}\r\n              className=\"w-full px-4 py-3 bg-[#0b1215] border border-white/10 rounded-xl focus:border-[#25D366]/50 focus:outline-none\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"flex gap-3 pt-4\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={onClose}\r\n              className=\"flex-1 px-4 py-3 bg-[#1a1a24] border border-white/10 rounded-xl hover:bg-[#22222e] transition-colors\"\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              type=\"submit\"\r\n              className=\"flex-1 px-4 py-3 bg-gradient-to-r from-[#25D366] to-[#128C7E] rounded-xl hover:opacity-90 transition-opacity font-medium\"\r\n            >\r\n              Add Contact\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </motion.div>\r\n    </motion.div>\r\n  );\r\n}\r\n\r\n// Import Contacts Modal\r\nfunction ImportContactsModal({\r\n  onClose,\r\n  onImport,\r\n}: {\r\n  onClose: () => void;\r\n  onImport: (count: number) => void;\r\n}) {\r\n  const [file, setFile] = useState<File | null>(null);\r\n  const [isDragging, setIsDragging] = useState(false);\r\n\r\n  const handleDrop = (e: React.DragEvent) => {\r\n    e.preventDefault();\r\n    setIsDragging(false);\r\n    const droppedFile = e.dataTransfer.files[0];\r\n    if (droppedFile?.type === 'text/csv') {\r\n      setFile(droppedFile);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0 }}\r\n      animate={{ opacity: 1 }}\r\n      exit={{ opacity: 0 }}\r\n      className=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm\"\r\n      onClick={onClose}\r\n    >\r\n      <motion.div\r\n        initial={{ scale: 0.95, opacity: 0 }}\r\n        animate={{ scale: 1, opacity: 1 }}\r\n        exit={{ scale: 0.95, opacity: 0 }}\r\n        className=\"w-full max-w-lg bg-[rgba(255,_255,_255,_0.05)] rounded-2xl border border-white/10 p-6\"\r\n        onClick={(e) => e.stopPropagation()}\r\n      >\r\n        <div className=\"flex items-center justify-between mb-6\">\r\n          <h3 className=\"text-xl font-semibold\">Import Contacts</h3>\r\n          <button onClick={onClose} className=\"p-2 hover:bg-white/5 rounded-lg\">\r\n            <XMarkIcon className=\"w-5 h-5\" />\r\n          </button>\r\n        </div>\r\n\r\n        <div\r\n          onDragOver={(e) => {\r\n            e.preventDefault();\r\n            setIsDragging(true);\r\n          }}\r\n          onDragLeave={() => setIsDragging(false)}\r\n          onDrop={handleDrop}\r\n          className={cn(\r\n            'border-2 border-dashed rounded-xl p-8 text-center transition-colors',\r\n            isDragging ? 'border-[#25D366] bg-[#25D366]/5' : 'border-white/10',\r\n            file ? 'border-green-500 bg-green-500/5' : ''\r\n          )}\r\n        >\r\n          {file ? (\r\n            <div className=\"flex items-center justify-center gap-3\">\r\n              <DocumentArrowDownIcon className=\"w-8 h-8 text-green-400\" />\r\n              <div>\r\n                <div className=\"font-medium\">{file.name}</div>\r\n                <div className=\"text-sm text-gray-400\">{(file.size / 1024).toFixed(1)} KB</div>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <>\r\n              <ArrowUpTrayIcon className=\"w-12 h-12 mx-auto mb-4 text-gray-500\" />\r\n              <p className=\"text-gray-400 mb-2\">Drag and drop your CSV file here</p>\r\n              <p className=\"text-sm text-gray-500\">or</p>\r\n              <label className=\"inline-block mt-3 px-4 py-2 bg-[#25D366] rounded-lg cursor-pointer hover:opacity-90\">\r\n                Browse Files\r\n                <input\r\n                  type=\"file\"\r\n                  accept=\".csv\"\r\n                  className=\"hidden\"\r\n                  onChange={(e) => setFile(e.target.files?.[0] || null)}\r\n                />\r\n              </label>\r\n            </>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"mt-4 p-4 bg-[#0b1215] rounded-xl\">\r\n          <h4 className=\"font-medium mb-2\">CSV Format Required:</h4>\r\n          <code className=\"text-sm text-gray-400\">\r\n            phone_number,country_code,display_name\r\n            <br />\r\n            +1234567890,US,John Doe\r\n            <br />\r\n            +447123456789,GB,Jane Smith\r\n          </code>\r\n        </div>\r\n\r\n        <div className=\"flex gap-3 mt-6\">\r\n          <button\r\n            onClick={onClose}\r\n            className=\"flex-1 px-4 py-3 bg-[#1a1a24] border border-white/10 rounded-xl hover:bg-[#22222e] transition-colors\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            onClick={() => onImport(0)}\r\n            disabled={!file}\r\n            className=\"flex-1 px-4 py-3 bg-gradient-to-r from-[#25D366] to-[#128C7E] rounded-xl hover:opacity-90 transition-opacity font-medium disabled:opacity-50\"\r\n          >\r\n            Import Contacts\r\n          </button>\r\n        </div>\r\n      </motion.div>\r\n    </motion.div>\r\n  );\r\n}\r\n","/**\r\n * WhatsApp Templates Manager\r\n * Create, manage, and submit message templates to Meta for approval\r\n */\r\n\r\nimport { useState } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport {\r\n  PlusIcon,\r\n  CheckCircleIcon,\r\n  ClockIcon,\r\n  XCircleIcon,\r\n  PencilIcon,\r\n  TrashIcon,\r\n  EyeIcon,\r\n  PaperAirplaneIcon,\r\n  XMarkIcon,\r\n  PhotoIcon,\r\n  VideoCameraIcon,\r\n  DocumentIcon,\r\n  ChatBubbleLeftIcon,\r\n} from '@heroicons/react/24/outline';\r\nimport { cn } from '@/lib/utils';\r\n\r\ninterface Template {\r\n  id: number;\r\n  name: string;\r\n  language: string;\r\n  category: 'MARKETING' | 'UTILITY' | 'AUTHENTICATION';\r\n  header_type: string | null;\r\n  header_content: string | null;\r\n  body_text: string;\r\n  footer_text: string | null;\r\n  buttons: { type: string; text: string; url?: string; phone?: string }[];\r\n  status: 'pending' | 'approved' | 'rejected';\r\n  rejection_reason: string | null;\r\n  usage_count: number;\r\n  created_at: string;\r\n}\r\n\r\nconst mockTemplates: Template[] = [\r\n  {\r\n    id: 1,\r\n    name: 'order_confirmation',\r\n    language: 'en',\r\n    category: 'UTILITY',\r\n    header_type: 'TEXT',\r\n    header_content: 'Order Confirmed!',\r\n    body_text:\r\n      'Hi {{1}}, your order #{{2}} has been confirmed and will be shipped within {{3}} business days.',\r\n    footer_text: 'Thank you for shopping with us!',\r\n    buttons: [{ type: 'URL', text: 'Track Order', url: 'https://track.example.com/{{1}}' }],\r\n    status: 'approved',\r\n    rejection_reason: null,\r\n    usage_count: 1245,\r\n    created_at: '2024-12-01T00:00:00Z',\r\n  },\r\n  {\r\n    id: 2,\r\n    name: 'appointment_reminder',\r\n    language: 'en',\r\n    category: 'UTILITY',\r\n    header_type: null,\r\n    header_content: null,\r\n    body_text:\r\n      'Hi {{1}}, this is a reminder for your appointment on {{2}} at {{3}}. Reply YES to confirm or NO to reschedule.',\r\n    footer_text: null,\r\n    buttons: [\r\n      { type: 'QUICK_REPLY', text: 'Confirm' },\r\n      { type: 'QUICK_REPLY', text: 'Reschedule' },\r\n    ],\r\n    status: 'approved',\r\n    rejection_reason: null,\r\n    usage_count: 856,\r\n    created_at: '2024-12-10T00:00:00Z',\r\n  },\r\n  {\r\n    id: 3,\r\n    name: 'promo_winter_sale',\r\n    language: 'en',\r\n    category: 'MARKETING',\r\n    header_type: 'IMAGE',\r\n    header_content: 'https://example.com/winter-sale.jpg',\r\n    body_text:\r\n      'Winter Sale is here! Get up to {{1}}% off on all items. Use code: {{2}} at checkout. Offer ends {{3}}.',\r\n    footer_text: 'Terms and conditions apply.',\r\n    buttons: [{ type: 'URL', text: 'Shop Now', url: 'https://shop.example.com' }],\r\n    status: 'pending',\r\n    rejection_reason: null,\r\n    usage_count: 0,\r\n    created_at: '2025-01-20T00:00:00Z',\r\n  },\r\n  {\r\n    id: 4,\r\n    name: 'verification_code',\r\n    language: 'en',\r\n    category: 'AUTHENTICATION',\r\n    header_type: null,\r\n    header_content: null,\r\n    body_text:\r\n      'Your verification code is {{1}}. This code expires in 15 minutes. Do not share this code with anyone.',\r\n    footer_text: null,\r\n    buttons: [{ type: 'URL', text: 'Copy Code', url: 'https://example.com/copy/{{1}}' }],\r\n    status: 'approved',\r\n    rejection_reason: null,\r\n    usage_count: 3421,\r\n    created_at: '2024-11-15T00:00:00Z',\r\n  },\r\n];\r\n\r\nconst statusConfig = {\r\n  approved: {\r\n    label: 'Approved',\r\n    color: 'text-green-400',\r\n    bg: 'bg-green-500/10',\r\n    icon: CheckCircleIcon,\r\n  },\r\n  pending: { label: 'Pending', color: 'text-yellow-400', bg: 'bg-yellow-500/10', icon: ClockIcon },\r\n  rejected: { label: 'Rejected', color: 'text-red-400', bg: 'bg-red-500/10', icon: XCircleIcon },\r\n};\r\n\r\nconst categoryConfig = {\r\n  MARKETING: { label: 'Marketing', color: 'text-purple-400', bg: 'bg-purple-500/10' },\r\n  UTILITY: { label: 'Utility', color: 'text-cyan-400', bg: 'bg-cyan-500/10' },\r\n  AUTHENTICATION: { label: 'Authentication', color: 'text-orange-400', bg: 'bg-orange-500/10' },\r\n};\r\n\r\nexport default function WhatsAppTemplates() {\r\n  const [templates, setTemplates] = useState<Template[]>(mockTemplates);\r\n  const [showCreateModal, setShowCreateModal] = useState(false);\r\n  const [showPreviewModal, setShowPreviewModal] = useState<Template | null>(null);\r\n  const [categoryFilter, setCategoryFilter] = useState<string>('all');\r\n  const [statusFilter, setStatusFilter] = useState<string>('all');\r\n\r\n  const filteredTemplates = templates.filter((t) => {\r\n    const matchesCategory = categoryFilter === 'all' || t.category === categoryFilter;\r\n    const matchesStatus = statusFilter === 'all' || t.status === statusFilter;\r\n    return matchesCategory && matchesStatus;\r\n  });\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4\">\r\n        <div>\r\n          <h2 className=\"text-xl font-semibold\">Message Templates</h2>\r\n          <p className=\"text-gray-400 text-sm\">\r\n            {templates.filter((t) => t.status === 'approved').length} approved •{' '}\r\n            {templates.filter((t) => t.status === 'pending').length} pending approval\r\n          </p>\r\n        </div>\r\n        <button\r\n          onClick={() => setShowCreateModal(true)}\r\n          className=\"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-[#25D366] to-[#128C7E] rounded-xl hover:opacity-90 transition-opacity\"\r\n        >\r\n          <PlusIcon className=\"w-4 h-4\" />\r\n          Create Template\r\n        </button>\r\n      </div>\r\n\r\n      {/* Filters */}\r\n      <div className=\"flex flex-wrap gap-4\">\r\n        <div className=\"flex gap-2\">\r\n          <span className=\"text-sm text-gray-400 self-center\">Category:</span>\r\n          {['all', 'MARKETING', 'UTILITY', 'AUTHENTICATION'].map((cat) => (\r\n            <button\r\n              key={cat}\r\n              onClick={() => setCategoryFilter(cat)}\r\n              className={cn(\r\n                'px-3 py-1.5 rounded-lg text-sm transition-colors',\r\n                categoryFilter === cat\r\n                  ? 'bg-[#25D366] text-white'\r\n                  : 'bg-[rgba(255,_255,_255,_0.05)] text-gray-400 hover:text-white'\r\n              )}\r\n            >\r\n              {cat === 'all' ? 'All' : categoryConfig[cat as keyof typeof categoryConfig]?.label}\r\n            </button>\r\n          ))}\r\n        </div>\r\n        <div className=\"flex gap-2\">\r\n          <span className=\"text-sm text-gray-400 self-center\">Status:</span>\r\n          {['all', 'approved', 'pending', 'rejected'].map((status) => (\r\n            <button\r\n              key={status}\r\n              onClick={() => setStatusFilter(status)}\r\n              className={cn(\r\n                'px-3 py-1.5 rounded-lg text-sm transition-colors',\r\n                statusFilter === status\r\n                  ? 'bg-[#25D366] text-white'\r\n                  : 'bg-[rgba(255,_255,_255,_0.05)] text-gray-400 hover:text-white'\r\n              )}\r\n            >\r\n              {status === 'all' ? 'All' : statusConfig[status as keyof typeof statusConfig]?.label}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Templates Grid */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n        {filteredTemplates.map((template) => {\r\n          const status = statusConfig[template.status];\r\n          const category = categoryConfig[template.category];\r\n          const StatusIcon = status.icon;\r\n\r\n          return (\r\n            <motion.div\r\n              key={template.id}\r\n              layout\r\n              initial={{ opacity: 0, scale: 0.95 }}\r\n              animate={{ opacity: 1, scale: 1 }}\r\n              className=\"bg-[rgba(255,_255,_255,_0.05)] rounded-2xl border border-white/5 p-5 hover:border-white/10 transition-colors\"\r\n            >\r\n              {/* Header */}\r\n              <div className=\"flex items-start justify-between mb-4\">\r\n                <div>\r\n                  <h3 className=\"font-semibold mb-1\">{template.name}</h3>\r\n                  <div className=\"flex gap-2\">\r\n                    <span\r\n                      className={cn('px-2 py-0.5 rounded text-xs', category.bg, category.color)}\r\n                    >\r\n                      {category.label}\r\n                    </span>\r\n                    <span\r\n                      className={cn(\r\n                        'inline-flex items-center gap-1 px-2 py-0.5 rounded text-xs',\r\n                        status.bg,\r\n                        status.color\r\n                      )}\r\n                    >\r\n                      <StatusIcon className=\"w-3 h-3\" />\r\n                      {status.label}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n                <span className=\"text-xs text-gray-500\">{template.language.toUpperCase()}</span>\r\n              </div>\r\n\r\n              {/* Preview */}\r\n              <div className=\"bg-[#075e54] rounded-xl p-3 mb-4 text-sm\">\r\n                {template.header_type === 'TEXT' && (\r\n                  <div className=\"font-bold text-white mb-1\">{template.header_content}</div>\r\n                )}\r\n                {template.header_type === 'IMAGE' && (\r\n                  <div className=\"flex items-center gap-2 text-gray-300 mb-2\">\r\n                    <PhotoIcon className=\"w-4 h-4\" /> Image Header\r\n                  </div>\r\n                )}\r\n                <div className=\"text-gray-100 whitespace-pre-wrap\">\r\n                  {template.body_text.replace(/\\{\\{(\\d+)\\}\\}/g, (_, n) => `[Variable ${n}]`)}\r\n                </div>\r\n                {template.footer_text && (\r\n                  <div className=\"text-gray-400 text-xs mt-2\">{template.footer_text}</div>\r\n                )}\r\n                {template.buttons.length > 0 && (\r\n                  <div className=\"flex gap-2 mt-3 pt-2 border-t border-white/10\">\r\n                    {template.buttons.map((btn, i) => (\r\n                      <span key={i} className=\"text-cyan-400 text-xs\">\r\n                        {btn.text}\r\n                      </span>\r\n                    ))}\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              {/* Stats */}\r\n              <div className=\"flex items-center justify-between text-sm mb-4\">\r\n                <span className=\"text-gray-400\">\r\n                  Used {template.usage_count.toLocaleString()} times\r\n                </span>\r\n                <span className=\"text-gray-500\">\r\n                  {new Date(template.created_at).toLocaleDateString()}\r\n                </span>\r\n              </div>\r\n\r\n              {/* Actions */}\r\n              <div className=\"flex gap-2\">\r\n                <button\r\n                  onClick={() => setShowPreviewModal(template)}\r\n                  className=\"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-[#1a1a24] rounded-lg hover:bg-[#22222e] transition-colors text-sm\"\r\n                >\r\n                  <EyeIcon className=\"w-4 h-4\" />\r\n                  Preview\r\n                </button>\r\n                {template.status === 'approved' && (\r\n                  <button className=\"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-[#25D366]/20 text-[#25D366] rounded-lg hover:bg-[#25D366]/30 transition-colors text-sm\">\r\n                    <PaperAirplaneIcon className=\"w-4 h-4\" />\r\n                    Use\r\n                  </button>\r\n                )}\r\n                <button className=\"p-2 text-gray-400 hover:bg-white/5 rounded-lg transition-colors\">\r\n                  <PencilIcon className=\"w-4 h-4\" />\r\n                </button>\r\n                <button className=\"p-2 text-gray-400 hover:bg-red-500/10 hover:text-red-400 rounded-lg transition-colors\">\r\n                  <TrashIcon className=\"w-4 h-4\" />\r\n                </button>\r\n              </div>\r\n            </motion.div>\r\n          );\r\n        })}\r\n      </div>\r\n\r\n      {/* Create Template Modal */}\r\n      <AnimatePresence>\r\n        {showCreateModal && (\r\n          <CreateTemplateModal\r\n            onClose={() => setShowCreateModal(false)}\r\n            onCreate={(template) => {\r\n              setTemplates((prev) => [{ ...template, id: prev.length + 1 }, ...prev]);\r\n              setShowCreateModal(false);\r\n            }}\r\n          />\r\n        )}\r\n      </AnimatePresence>\r\n\r\n      {/* Preview Modal */}\r\n      <AnimatePresence>\r\n        {showPreviewModal && (\r\n          <TemplatePreviewModal\r\n            template={showPreviewModal}\r\n            onClose={() => setShowPreviewModal(null)}\r\n          />\r\n        )}\r\n      </AnimatePresence>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Create Template Modal\r\nfunction CreateTemplateModal({\r\n  onClose,\r\n  onCreate,\r\n}: {\r\n  onClose: () => void;\r\n  onCreate: (template: Omit<Template, 'id'>) => void;\r\n}) {\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    language: 'en',\r\n    category: 'UTILITY' as Template['category'],\r\n    header_type: '' as string,\r\n    header_content: '',\r\n    body_text: '',\r\n    footer_text: '',\r\n    buttons: [] as Template['buttons'],\r\n  });\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    onCreate({\r\n      ...formData,\r\n      header_type: formData.header_type || null,\r\n      header_content: formData.header_content || null,\r\n      footer_text: formData.footer_text || null,\r\n      status: 'pending',\r\n      rejection_reason: null,\r\n      usage_count: 0,\r\n      created_at: new Date().toISOString(),\r\n    });\r\n  };\r\n\r\n  const addButton = (type: string) => {\r\n    if (formData.buttons.length >= 3) return;\r\n    setFormData((prev) => ({\r\n      ...prev,\r\n      buttons: [...prev.buttons, { type, text: '', url: '', phone: '' }],\r\n    }));\r\n  };\r\n\r\n  const updateButton = (index: number, updates: Partial<Template['buttons'][0]>) => {\r\n    setFormData((prev) => ({\r\n      ...prev,\r\n      buttons: prev.buttons.map((btn, i) => (i === index ? { ...btn, ...updates } : btn)),\r\n    }));\r\n  };\r\n\r\n  const removeButton = (index: number) => {\r\n    setFormData((prev) => ({\r\n      ...prev,\r\n      buttons: prev.buttons.filter((_, i) => i !== index),\r\n    }));\r\n  };\r\n\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0 }}\r\n      animate={{ opacity: 1 }}\r\n      exit={{ opacity: 0 }}\r\n      className=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm overflow-y-auto\"\r\n      onClick={onClose}\r\n    >\r\n      <motion.div\r\n        initial={{ scale: 0.95, opacity: 0 }}\r\n        animate={{ scale: 1, opacity: 1 }}\r\n        exit={{ scale: 0.95, opacity: 0 }}\r\n        className=\"w-full max-w-2xl bg-[rgba(255,_255,_255,_0.05)] rounded-2xl border border-white/10 p-6 my-8\"\r\n        onClick={(e) => e.stopPropagation()}\r\n      >\r\n        <div className=\"flex items-center justify-between mb-6\">\r\n          <h3 className=\"text-xl font-semibold\">Create Message Template</h3>\r\n          <button onClick={onClose} className=\"p-2 hover:bg-white/5 rounded-lg\">\r\n            <XMarkIcon className=\"w-5 h-5\" />\r\n          </button>\r\n        </div>\r\n\r\n        <form onSubmit={handleSubmit} className=\"space-y-5\">\r\n          {/* Basic Info */}\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-400 mb-2\">Template Name</label>\r\n              <input\r\n                type=\"text\"\r\n                required\r\n                placeholder=\"e.g., order_confirmation\"\r\n                pattern=\"[a-z0-9_]+\"\r\n                value={formData.name}\r\n                onChange={(e) =>\r\n                  setFormData({\r\n                    ...formData,\r\n                    name: e.target.value.toLowerCase().replace(/[^a-z0-9_]/g, '_'),\r\n                  })\r\n                }\r\n                className=\"w-full px-4 py-3 bg-[#0b1215] border border-white/10 rounded-xl focus:border-[#25D366]/50 focus:outline-none\"\r\n              />\r\n              <span className=\"text-xs text-gray-500\">Lowercase, underscores only</span>\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-400 mb-2\">Category</label>\r\n              <select\r\n                required\r\n                value={formData.category}\r\n                onChange={(e) =>\r\n                  setFormData({ ...formData, category: e.target.value as Template['category'] })\r\n                }\r\n                className=\"w-full px-4 py-3 bg-[#0b1215] border border-white/10 rounded-xl focus:border-[#25D366]/50 focus:outline-none\"\r\n              >\r\n                <option value=\"UTILITY\">Utility - Transactional</option>\r\n                <option value=\"MARKETING\">Marketing - Promotional</option>\r\n                <option value=\"AUTHENTICATION\">Authentication - OTP</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-400 mb-2\">Language</label>\r\n            <select\r\n              value={formData.language}\r\n              onChange={(e) => setFormData({ ...formData, language: e.target.value })}\r\n              className=\"w-full px-4 py-3 bg-[#0b1215] border border-white/10 rounded-xl focus:border-[#25D366]/50 focus:outline-none\"\r\n            >\r\n              <option value=\"en\">English</option>\r\n              <option value=\"ar\">Arabic</option>\r\n              <option value=\"es\">Spanish</option>\r\n              <option value=\"fr\">French</option>\r\n              <option value=\"de\">German</option>\r\n            </select>\r\n          </div>\r\n\r\n          {/* Header */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-400 mb-2\">\r\n              Header (Optional)\r\n            </label>\r\n            <div className=\"flex gap-2 mb-2\">\r\n              {[\r\n                { value: '', label: 'None', icon: XMarkIcon },\r\n                { value: 'TEXT', label: 'Text', icon: ChatBubbleLeftIcon },\r\n                { value: 'IMAGE', label: 'Image', icon: PhotoIcon },\r\n                { value: 'VIDEO', label: 'Video', icon: VideoCameraIcon },\r\n                { value: 'DOCUMENT', label: 'Document', icon: DocumentIcon },\r\n              ].map((opt) => (\r\n                <button\r\n                  key={opt.value}\r\n                  type=\"button\"\r\n                  onClick={() =>\r\n                    setFormData({ ...formData, header_type: opt.value, header_content: '' })\r\n                  }\r\n                  className={cn(\r\n                    'flex items-center gap-1.5 px-3 py-2 rounded-lg text-sm transition-colors',\r\n                    formData.header_type === opt.value\r\n                      ? 'bg-[#25D366] text-white'\r\n                      : 'bg-[#1a1a24] text-gray-400 hover:text-white'\r\n                  )}\r\n                >\r\n                  <opt.icon className=\"w-4 h-4\" />\r\n                  {opt.label}\r\n                </button>\r\n              ))}\r\n            </div>\r\n            {formData.header_type === 'TEXT' && (\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Header text (max 60 chars)\"\r\n                maxLength={60}\r\n                value={formData.header_content}\r\n                onChange={(e) => setFormData({ ...formData, header_content: e.target.value })}\r\n                className=\"w-full px-4 py-3 bg-[#0b1215] border border-white/10 rounded-xl focus:border-[#25D366]/50 focus:outline-none\"\r\n              />\r\n            )}\r\n            {['IMAGE', 'VIDEO', 'DOCUMENT'].includes(formData.header_type) && (\r\n              <input\r\n                type=\"url\"\r\n                placeholder=\"Media URL for preview\"\r\n                value={formData.header_content}\r\n                onChange={(e) => setFormData({ ...formData, header_content: e.target.value })}\r\n                className=\"w-full px-4 py-3 bg-[#0b1215] border border-white/10 rounded-xl focus:border-[#25D366]/50 focus:outline-none\"\r\n              />\r\n            )}\r\n          </div>\r\n\r\n          {/* Body */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-400 mb-2\">Body Text</label>\r\n            <textarea\r\n              required\r\n              rows={4}\r\n              maxLength={1024}\r\n              placeholder=\"Hi {{1}}, your order #{{2}} has been confirmed...\"\r\n              value={formData.body_text}\r\n              onChange={(e) => setFormData({ ...formData, body_text: e.target.value })}\r\n              className=\"w-full px-4 py-3 bg-[#0b1215] border border-white/10 rounded-xl focus:border-[#25D366]/50 focus:outline-none resize-none\"\r\n            />\r\n            <span className=\"text-xs text-gray-500\">\r\n              Use {'{{1}}'}, {'{{2}}'} for variables. {formData.body_text.length}/1024\r\n            </span>\r\n          </div>\r\n\r\n          {/* Footer */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-400 mb-2\">\r\n              Footer (Optional)\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              maxLength={60}\r\n              placeholder=\"e.g., Reply STOP to unsubscribe\"\r\n              value={formData.footer_text}\r\n              onChange={(e) => setFormData({ ...formData, footer_text: e.target.value })}\r\n              className=\"w-full px-4 py-3 bg-[#0b1215] border border-white/10 rounded-xl focus:border-[#25D366]/50 focus:outline-none\"\r\n            />\r\n          </div>\r\n\r\n          {/* Buttons */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-400 mb-2\">\r\n              Buttons (Optional, max 3)\r\n            </label>\r\n            <div className=\"space-y-2 mb-2\">\r\n              {formData.buttons.map((btn, i) => (\r\n                <div key={i} className=\"flex gap-2 items-center\">\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Button text\"\r\n                    maxLength={25}\r\n                    value={btn.text}\r\n                    onChange={(e) => updateButton(i, { text: e.target.value })}\r\n                    className=\"flex-1 px-3 py-2 bg-[#0b1215] border border-white/10 rounded-lg text-sm\"\r\n                  />\r\n                  {btn.type === 'URL' && (\r\n                    <input\r\n                      type=\"url\"\r\n                      placeholder=\"URL\"\r\n                      value={btn.url}\r\n                      onChange={(e) => updateButton(i, { url: e.target.value })}\r\n                      className=\"flex-1 px-3 py-2 bg-[#0b1215] border border-white/10 rounded-lg text-sm\"\r\n                    />\r\n                  )}\r\n                  {btn.type === 'PHONE_NUMBER' && (\r\n                    <input\r\n                      type=\"tel\"\r\n                      placeholder=\"Phone\"\r\n                      value={btn.phone}\r\n                      onChange={(e) => updateButton(i, { phone: e.target.value })}\r\n                      className=\"flex-1 px-3 py-2 bg-[#0b1215] border border-white/10 rounded-lg text-sm\"\r\n                    />\r\n                  )}\r\n                  <span className=\"text-xs text-gray-500 w-16\">{btn.type}</span>\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => removeButton(i)}\r\n                    className=\"p-2 text-red-400 hover:bg-red-500/10 rounded-lg\"\r\n                  >\r\n                    <XMarkIcon className=\"w-4 h-4\" />\r\n                  </button>\r\n                </div>\r\n              ))}\r\n            </div>\r\n            {formData.buttons.length < 3 && (\r\n              <div className=\"flex gap-2\">\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => addButton('QUICK_REPLY')}\r\n                  className=\"px-3 py-1.5 bg-[#1a1a24] rounded-lg text-sm hover:bg-[#22222e]\"\r\n                >\r\n                  + Quick Reply\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => addButton('URL')}\r\n                  className=\"px-3 py-1.5 bg-[#1a1a24] rounded-lg text-sm hover:bg-[#22222e]\"\r\n                >\r\n                  + URL Button\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => addButton('PHONE_NUMBER')}\r\n                  className=\"px-3 py-1.5 bg-[#1a1a24] rounded-lg text-sm hover:bg-[#22222e]\"\r\n                >\r\n                  + Call Button\r\n                </button>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Submit */}\r\n          <div className=\"flex gap-3 pt-4\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={onClose}\r\n              className=\"flex-1 px-4 py-3 bg-[#1a1a24] border border-white/10 rounded-xl hover:bg-[#22222e] transition-colors\"\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              type=\"submit\"\r\n              className=\"flex-1 px-4 py-3 bg-gradient-to-r from-[#25D366] to-[#128C7E] rounded-xl hover:opacity-90 transition-opacity font-medium\"\r\n            >\r\n              Create & Submit to Meta\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </motion.div>\r\n    </motion.div>\r\n  );\r\n}\r\n\r\n// Template Preview Modal\r\nfunction TemplatePreviewModal({ template, onClose }: { template: Template; onClose: () => void }) {\r\n  const [sampleValues, setSampleValues] = useState<string[]>(['John', '12345', '2-3']);\r\n\r\n  const getPreviewText = (text: string) => {\r\n    return text.replace(/\\{\\{(\\d+)\\}\\}/g, (_, n) => {\r\n      const idx = parseInt(n) - 1;\r\n      return sampleValues[idx] || `[${n}]`;\r\n    });\r\n  };\r\n\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0 }}\r\n      animate={{ opacity: 1 }}\r\n      exit={{ opacity: 0 }}\r\n      className=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm\"\r\n      onClick={onClose}\r\n    >\r\n      <motion.div\r\n        initial={{ scale: 0.95, opacity: 0 }}\r\n        animate={{ scale: 1, opacity: 1 }}\r\n        exit={{ scale: 0.95, opacity: 0 }}\r\n        className=\"w-full max-w-lg bg-[rgba(255,_255,_255,_0.05)] rounded-2xl border border-white/10 p-6\"\r\n        onClick={(e) => e.stopPropagation()}\r\n      >\r\n        <div className=\"flex items-center justify-between mb-6\">\r\n          <h3 className=\"text-xl font-semibold\">Template Preview</h3>\r\n          <button onClick={onClose} className=\"p-2 hover:bg-white/5 rounded-lg\">\r\n            <XMarkIcon className=\"w-5 h-5\" />\r\n          </button>\r\n        </div>\r\n\r\n        {/* WhatsApp Style Preview */}\r\n        <div\r\n          className=\"bg-[#0b141a] rounded-2xl p-4 mb-6\"\r\n          style={{\r\n            backgroundImage:\r\n              'url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAFklEQVR42mNkYPhfz0AEYBxVOGoFAC6pBAt7z0yRAAAAAElFTkSuQmCC\")',\r\n          }}\r\n        >\r\n          <div className=\"bg-[#005c4b] rounded-lg p-3 max-w-[280px] ml-auto\">\r\n            {template.header_type === 'TEXT' && (\r\n              <div className=\"font-bold text-white mb-2\">\r\n                {getPreviewText(template.header_content || '')}\r\n              </div>\r\n            )}\r\n            {template.header_type === 'IMAGE' && (\r\n              <div className=\"bg-[#1a3a34] rounded-lg h-32 flex items-center justify-center mb-2\">\r\n                <PhotoIcon className=\"w-8 h-8 text-gray-400\" />\r\n              </div>\r\n            )}\r\n            <div className=\"text-white text-sm whitespace-pre-wrap\">\r\n              {getPreviewText(template.body_text)}\r\n            </div>\r\n            {template.footer_text && (\r\n              <div className=\"text-gray-400 text-xs mt-2\">{template.footer_text}</div>\r\n            )}\r\n            <div className=\"text-right text-xs text-gray-400 mt-1\">\r\n              {new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\r\n            </div>\r\n          </div>\r\n          {template.buttons.length > 0 && (\r\n            <div className=\"bg-[#005c4b] rounded-lg mt-1 max-w-[280px] ml-auto divide-y divide-white/10\">\r\n              {template.buttons.map((btn, i) => (\r\n                <div key={i} className=\"text-center py-2 text-[#53bdeb] text-sm\">\r\n                  {btn.text}\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Sample Values Editor */}\r\n        <div className=\"space-y-3\">\r\n          <h4 className=\"font-medium text-sm text-gray-400\">Sample Variable Values</h4>\r\n          {[1, 2, 3].map((num) => (\r\n            <div key={num} className=\"flex items-center gap-3\">\r\n              <span className=\"text-sm text-gray-500 w-16\">{`{{${num}}}`}</span>\r\n              <input\r\n                type=\"text\"\r\n                value={sampleValues[num - 1] || ''}\r\n                onChange={(e) => {\r\n                  const newValues = [...sampleValues];\r\n                  newValues[num - 1] = e.target.value;\r\n                  setSampleValues(newValues);\r\n                }}\r\n                placeholder={`Value for variable ${num}`}\r\n                className=\"flex-1 px-3 py-2 bg-[#0b1215] border border-white/10 rounded-lg text-sm\"\r\n              />\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        <button\r\n          onClick={onClose}\r\n          className=\"w-full mt-6 px-4 py-3 bg-[#1a1a24] border border-white/10 rounded-xl hover:bg-[#22222e] transition-colors\"\r\n        >\r\n          Close\r\n        </button>\r\n      </motion.div>\r\n    </motion.div>\r\n  );\r\n}\r\n","/**\r\n * WhatsApp Broadcast Manager\r\n * Send approved templates to multiple contacts with scheduling\r\n */\r\n\r\nimport { useState } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport {\r\n  MegaphoneIcon,\r\n  UserGroupIcon,\r\n  DocumentTextIcon,\r\n  PaperAirplaneIcon,\r\n  ClockIcon,\r\n  CheckCircleIcon,\r\n  ExclamationTriangleIcon,\r\n  ChartBarIcon,\r\n  CalendarIcon,\r\n  XMarkIcon,\r\n  MagnifyingGlassIcon,\r\n  TagIcon,\r\n} from '@heroicons/react/24/outline';\r\nimport { cn } from '@/lib/utils';\r\n\r\ninterface Template {\r\n  id: number;\r\n  name: string;\r\n  category: string;\r\n  body_text: string;\r\n  usage_count: number;\r\n}\r\n\r\ninterface Segment {\r\n  id: number;\r\n  name: string;\r\n  count: number;\r\n  description: string;\r\n}\r\n\r\ninterface BroadcastHistory {\r\n  id: number;\r\n  template_name: string;\r\n  recipients: number;\r\n  sent: number;\r\n  delivered: number;\r\n  read: number;\r\n  failed: number;\r\n  sent_at: string;\r\n  status: 'completed' | 'in_progress' | 'scheduled' | 'failed';\r\n}\r\n\r\nconst mockTemplates: Template[] = [\r\n  {\r\n    id: 1,\r\n    name: 'order_confirmation',\r\n    category: 'UTILITY',\r\n    body_text: 'Hi {{1}}, your order #{{2}} has been confirmed...',\r\n    usage_count: 1245,\r\n  },\r\n  {\r\n    id: 2,\r\n    name: 'appointment_reminder',\r\n    category: 'UTILITY',\r\n    body_text: 'Hi {{1}}, this is a reminder for your appointment on {{2}}...',\r\n    usage_count: 856,\r\n  },\r\n  {\r\n    id: 4,\r\n    name: 'verification_code',\r\n    category: 'AUTHENTICATION',\r\n    body_text: 'Your verification code is {{1}}...',\r\n    usage_count: 3421,\r\n  },\r\n];\r\n\r\nconst mockSegments: Segment[] = [\r\n  {\r\n    id: 1,\r\n    name: 'All Opted-In Contacts',\r\n    count: 11234,\r\n    description: 'All contacts with opt-in status',\r\n  },\r\n  { id: 2, name: 'Active Customers', count: 5678, description: 'Made purchase in last 30 days' },\r\n  { id: 3, name: 'High Value Customers', count: 1234, description: 'Total spend > $500' },\r\n  { id: 4, name: 'New Subscribers', count: 890, description: 'Joined in last 7 days' },\r\n  { id: 5, name: 'Abandoned Cart', count: 456, description: 'Cart abandoned in last 24h' },\r\n];\r\n\r\nconst mockHistory: BroadcastHistory[] = [\r\n  {\r\n    id: 1,\r\n    template_name: 'order_confirmation',\r\n    recipients: 500,\r\n    sent: 500,\r\n    delivered: 485,\r\n    read: 412,\r\n    failed: 15,\r\n    sent_at: '2025-01-30T10:00:00Z',\r\n    status: 'completed',\r\n  },\r\n  {\r\n    id: 2,\r\n    template_name: 'appointment_reminder',\r\n    recipients: 1200,\r\n    sent: 1200,\r\n    delivered: 1150,\r\n    read: 980,\r\n    failed: 50,\r\n    sent_at: '2025-01-29T09:00:00Z',\r\n    status: 'completed',\r\n  },\r\n  {\r\n    id: 3,\r\n    template_name: 'promo_winter_sale',\r\n    recipients: 5000,\r\n    sent: 2500,\r\n    delivered: 2400,\r\n    read: 0,\r\n    failed: 100,\r\n    sent_at: '2025-01-30T14:00:00Z',\r\n    status: 'in_progress',\r\n  },\r\n  {\r\n    id: 4,\r\n    template_name: 'verification_code',\r\n    recipients: 300,\r\n    sent: 0,\r\n    delivered: 0,\r\n    read: 0,\r\n    failed: 0,\r\n    sent_at: '2025-01-31T08:00:00Z',\r\n    status: 'scheduled',\r\n  },\r\n];\r\n\r\nexport default function WhatsAppBroadcast() {\r\n  const [showCreateModal, setShowCreateModal] = useState(false);\r\n  const [history, setHistory] = useState<BroadcastHistory[]>(mockHistory);\r\n\r\n  const totalSent = history.reduce((acc, h) => acc + h.sent, 0);\r\n  const totalDelivered = history.reduce((acc, h) => acc + h.delivered, 0);\r\n  const totalRead = history.reduce((acc, h) => acc + h.read, 0);\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4\">\r\n        <div>\r\n          <h2 className=\"text-xl font-semibold\">Broadcast Campaigns</h2>\r\n          <p className=\"text-gray-400 text-sm\">Send approved templates to multiple contacts</p>\r\n        </div>\r\n        <button\r\n          onClick={() => setShowCreateModal(true)}\r\n          className=\"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-[#25D366] to-[#128C7E] rounded-xl hover:opacity-90 transition-opacity\"\r\n        >\r\n          <MegaphoneIcon className=\"w-4 h-4\" />\r\n          New Broadcast\r\n        </button>\r\n      </div>\r\n\r\n      {/* Stats */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n        <StatCard\r\n          title=\"Total Broadcasts\"\r\n          value={history.length.toString()}\r\n          subtitle=\"This month\"\r\n          icon={MegaphoneIcon}\r\n        />\r\n        <StatCard\r\n          title=\"Messages Sent\"\r\n          value={totalSent.toLocaleString()}\r\n          subtitle={`${((totalDelivered / totalSent) * 100).toFixed(1)}% delivered`}\r\n          icon={PaperAirplaneIcon}\r\n        />\r\n        <StatCard\r\n          title=\"Delivered\"\r\n          value={totalDelivered.toLocaleString()}\r\n          subtitle={`${((totalRead / totalDelivered) * 100).toFixed(1)}% read`}\r\n          icon={CheckCircleIcon}\r\n        />\r\n        <StatCard\r\n          title=\"Read\"\r\n          value={totalRead.toLocaleString()}\r\n          subtitle=\"Engagement\"\r\n          icon={ChartBarIcon}\r\n        />\r\n      </div>\r\n\r\n      {/* Broadcast History */}\r\n      <div className=\"bg-[rgba(255,_255,_255,_0.05)] rounded-2xl border border-white/5 overflow-hidden\">\r\n        <div className=\"p-5 border-b border-white/5\">\r\n          <h3 className=\"font-semibold\">Broadcast History</h3>\r\n        </div>\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"w-full\">\r\n            <thead>\r\n              <tr className=\"border-b border-white/5\">\r\n                <th className=\"p-4 text-left text-sm font-medium text-gray-400\">Template</th>\r\n                <th className=\"p-4 text-left text-sm font-medium text-gray-400\">Recipients</th>\r\n                <th className=\"p-4 text-left text-sm font-medium text-gray-400\">Delivery</th>\r\n                <th className=\"p-4 text-left text-sm font-medium text-gray-400\">Status</th>\r\n                <th className=\"p-4 text-left text-sm font-medium text-gray-400\">Sent At</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {history.map((broadcast) => {\r\n                const deliveryRate =\r\n                  broadcast.sent > 0\r\n                    ? ((broadcast.delivered / broadcast.sent) * 100).toFixed(1)\r\n                    : '0';\r\n                const readRate =\r\n                  broadcast.delivered > 0\r\n                    ? ((broadcast.read / broadcast.delivered) * 100).toFixed(1)\r\n                    : '0';\r\n\r\n                return (\r\n                  <tr\r\n                    key={broadcast.id}\r\n                    className=\"border-b border-white/5 hover:bg-white/[0.02] transition-colors\"\r\n                  >\r\n                    <td className=\"p-4\">\r\n                      <div className=\"flex items-center gap-3\">\r\n                        <div className=\"p-2 bg-[#25D366]/10 rounded-lg\">\r\n                          <DocumentTextIcon className=\"w-4 h-4 text-[#25D366]\" />\r\n                        </div>\r\n                        <span className=\"font-medium\">{broadcast.template_name}</span>\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"p-4\">\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <UserGroupIcon className=\"w-4 h-4 text-gray-400\" />\r\n                        <span>{broadcast.recipients.toLocaleString()}</span>\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"p-4\">\r\n                      <div className=\"space-y-1\">\r\n                        <div className=\"flex items-center gap-4 text-sm\">\r\n                          <span className=\"text-gray-400\">\r\n                            Sent:{' '}\r\n                            <span className=\"text-white\">{broadcast.sent.toLocaleString()}</span>\r\n                          </span>\r\n                          <span className=\"text-gray-400\">\r\n                            Delivered: <span className=\"text-green-400\">{deliveryRate}%</span>\r\n                          </span>\r\n                          <span className=\"text-gray-400\">\r\n                            Read: <span className=\"text-cyan-400\">{readRate}%</span>\r\n                          </span>\r\n                        </div>\r\n                        <div className=\"flex gap-1 h-1.5\">\r\n                          <div\r\n                            className=\"bg-[#25D366] rounded-full\"\r\n                            style={{ width: `${(broadcast.sent / broadcast.recipients) * 100}%` }}\r\n                          />\r\n                          <div\r\n                            className=\"bg-green-500/50 rounded-full\"\r\n                            style={{\r\n                              width: `${(broadcast.delivered / broadcast.recipients) * 100 - (broadcast.sent / broadcast.recipients) * 100}%`,\r\n                            }}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"p-4\">\r\n                      <StatusBadge status={broadcast.status} />\r\n                    </td>\r\n                    <td className=\"p-4 text-gray-400 text-sm\">\r\n                      {new Date(broadcast.sent_at).toLocaleString()}\r\n                    </td>\r\n                  </tr>\r\n                );\r\n              })}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Create Broadcast Modal */}\r\n      <AnimatePresence>\r\n        {showCreateModal && (\r\n          <CreateBroadcastModal\r\n            templates={mockTemplates}\r\n            segments={mockSegments}\r\n            onClose={() => setShowCreateModal(false)}\r\n            onCreate={(broadcast) => {\r\n              setHistory((prev) => [{ ...broadcast, id: prev.length + 1 }, ...prev]);\r\n              setShowCreateModal(false);\r\n            }}\r\n          />\r\n        )}\r\n      </AnimatePresence>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction StatCard({\r\n  title,\r\n  value,\r\n  subtitle,\r\n  icon: Icon,\r\n}: {\r\n  title: string;\r\n  value: string;\r\n  subtitle: string;\r\n  icon: React.ComponentType<{ className?: string }>;\r\n}) {\r\n  return (\r\n    <div className=\"bg-[rgba(255,_255,_255,_0.05)] rounded-2xl border border-white/5 p-5\">\r\n      <div className=\"flex items-center gap-3 mb-3\">\r\n        <div className=\"p-2 bg-[#25D366]/10 rounded-lg\">\r\n          <Icon className=\"w-5 h-5 text-[#25D366]\" />\r\n        </div>\r\n        <span className=\"text-sm text-gray-400\">{title}</span>\r\n      </div>\r\n      <div className=\"text-2xl font-bold mb-1\">{value}</div>\r\n      <div className=\"text-xs text-gray-500\">{subtitle}</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction StatusBadge({ status }: { status: BroadcastHistory['status'] }) {\r\n  const config = {\r\n    completed: {\r\n      label: 'Completed',\r\n      color: 'text-green-400',\r\n      bg: 'bg-green-500/10',\r\n      icon: CheckCircleIcon,\r\n    },\r\n    in_progress: {\r\n      label: 'In Progress',\r\n      color: 'text-cyan-400',\r\n      bg: 'bg-cyan-500/10',\r\n      icon: ClockIcon,\r\n    },\r\n    scheduled: {\r\n      label: 'Scheduled',\r\n      color: 'text-yellow-400',\r\n      bg: 'bg-yellow-500/10',\r\n      icon: CalendarIcon,\r\n    },\r\n    failed: {\r\n      label: 'Failed',\r\n      color: 'text-red-400',\r\n      bg: 'bg-red-500/10',\r\n      icon: ExclamationTriangleIcon,\r\n    },\r\n  };\r\n\r\n  const cfg = config[status];\r\n  const Icon = cfg.icon;\r\n\r\n  return (\r\n    <span\r\n      className={cn(\r\n        'inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium',\r\n        cfg.bg,\r\n        cfg.color\r\n      )}\r\n    >\r\n      <Icon className=\"w-3.5 h-3.5\" />\r\n      {cfg.label}\r\n    </span>\r\n  );\r\n}\r\n\r\n// Create Broadcast Modal\r\nfunction CreateBroadcastModal({\r\n  templates,\r\n  segments,\r\n  onClose,\r\n  onCreate,\r\n}: {\r\n  templates: Template[];\r\n  segments: Segment[];\r\n  onClose: () => void;\r\n  onCreate: (broadcast: Omit<BroadcastHistory, 'id'>) => void;\r\n}) {\r\n  const [step, setStep] = useState(1);\r\n  const [selectedTemplate, setSelectedTemplate] = useState<Template | null>(null);\r\n  const [selectedSegments, setSelectedSegments] = useState<number[]>([]);\r\n  const [variables, setVariables] = useState<Record<string, string>>({});\r\n  const [scheduleType, setScheduleType] = useState<'now' | 'scheduled'>('now');\r\n  const [scheduledDate, setScheduledDate] = useState('');\r\n  const [scheduledTime, setScheduledTime] = useState('');\r\n\r\n  const totalRecipients = segments\r\n    .filter((s) => selectedSegments.includes(s.id))\r\n    .reduce((acc, s) => acc + s.count, 0);\r\n\r\n  const handleSubmit = () => {\r\n    if (!selectedTemplate) return;\r\n\r\n    onCreate({\r\n      template_name: selectedTemplate.name,\r\n      recipients: totalRecipients,\r\n      sent: 0,\r\n      delivered: 0,\r\n      read: 0,\r\n      failed: 0,\r\n      sent_at:\r\n        scheduleType === 'now' ? new Date().toISOString() : `${scheduledDate}T${scheduledTime}:00Z`,\r\n      status: scheduleType === 'now' ? 'in_progress' : 'scheduled',\r\n    });\r\n  };\r\n\r\n  const toggleSegment = (id: number) => {\r\n    setSelectedSegments((prev) =>\r\n      prev.includes(id) ? prev.filter((s) => s !== id) : [...prev, id]\r\n    );\r\n  };\r\n\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0 }}\r\n      animate={{ opacity: 1 }}\r\n      exit={{ opacity: 0 }}\r\n      className=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm overflow-y-auto\"\r\n      onClick={onClose}\r\n    >\r\n      <motion.div\r\n        initial={{ scale: 0.95, opacity: 0 }}\r\n        animate={{ scale: 1, opacity: 1 }}\r\n        exit={{ scale: 0.95, opacity: 0 }}\r\n        className=\"w-full max-w-3xl bg-[rgba(255,_255,_255,_0.05)] rounded-2xl border border-white/10 p-6 my-8\"\r\n        onClick={(e) => e.stopPropagation()}\r\n      >\r\n        {/* Header */}\r\n        <div className=\"flex items-center justify-between mb-6\">\r\n          <div>\r\n            <h3 className=\"text-xl font-semibold\">Create Broadcast</h3>\r\n            <p className=\"text-sm text-gray-400\">Step {step} of 3</p>\r\n          </div>\r\n          <button onClick={onClose} className=\"p-2 hover:bg-white/5 rounded-lg\">\r\n            <XMarkIcon className=\"w-5 h-5\" />\r\n          </button>\r\n        </div>\r\n\r\n        {/* Progress Bar */}\r\n        <div className=\"flex gap-2 mb-8\">\r\n          {[1, 2, 3].map((s) => (\r\n            <div\r\n              key={s}\r\n              className={cn(\r\n                'flex-1 h-1 rounded-full transition-colors',\r\n                s <= step ? 'bg-[#25D366]' : 'bg-white/10'\r\n              )}\r\n            />\r\n          ))}\r\n        </div>\r\n\r\n        {/* Step 1: Select Template */}\r\n        {step === 1 && (\r\n          <div className=\"space-y-4\">\r\n            <h4 className=\"font-medium\">Select Template</h4>\r\n            <div className=\"relative mb-4\">\r\n              <MagnifyingGlassIcon className=\"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400\" />\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Search templates...\"\r\n                className=\"w-full pl-10 pr-4 py-3 bg-[#0b1215] border border-white/10 rounded-xl focus:border-[#25D366]/50 focus:outline-none\"\r\n              />\r\n            </div>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3 max-h-80 overflow-y-auto\">\r\n              {templates.map((template) => (\r\n                <button\r\n                  key={template.id}\r\n                  onClick={() => setSelectedTemplate(template)}\r\n                  className={cn(\r\n                    'p-4 rounded-xl border text-left transition-all',\r\n                    selectedTemplate?.id === template.id\r\n                      ? 'border-[#25D366] bg-[#25D366]/10'\r\n                      : 'border-white/10 hover:border-white/20 bg-[#0b1215]'\r\n                  )}\r\n                >\r\n                  <div className=\"flex items-center justify-between mb-2\">\r\n                    <span className=\"font-medium\">{template.name}</span>\r\n                    <span className=\"text-xs text-gray-500 px-2 py-0.5 bg-white/5 rounded\">\r\n                      {template.category}\r\n                    </span>\r\n                  </div>\r\n                  <p className=\"text-sm text-gray-400 line-clamp-2\">{template.body_text}</p>\r\n                  <p className=\"text-xs text-gray-500 mt-2\">Used {template.usage_count} times</p>\r\n                </button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Step 2: Select Audience */}\r\n        {step === 2 && (\r\n          <div className=\"space-y-4\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <h4 className=\"font-medium\">Select Audience</h4>\r\n              <span className=\"text-sm text-gray-400\">\r\n                {totalRecipients.toLocaleString()} recipients selected\r\n              </span>\r\n            </div>\r\n            <div className=\"space-y-3 max-h-80 overflow-y-auto\">\r\n              {segments.map((segment) => (\r\n                <button\r\n                  key={segment.id}\r\n                  onClick={() => toggleSegment(segment.id)}\r\n                  className={cn(\r\n                    'w-full p-4 rounded-xl border text-left transition-all flex items-center gap-4',\r\n                    selectedSegments.includes(segment.id)\r\n                      ? 'border-[#25D366] bg-[#25D366]/10'\r\n                      : 'border-white/10 hover:border-white/20 bg-[#0b1215]'\r\n                  )}\r\n                >\r\n                  <div\r\n                    className={cn(\r\n                      'w-5 h-5 rounded border-2 flex items-center justify-center transition-colors',\r\n                      selectedSegments.includes(segment.id)\r\n                        ? 'border-[#25D366] bg-[#25D366]'\r\n                        : 'border-gray-500'\r\n                    )}\r\n                  >\r\n                    {selectedSegments.includes(segment.id) && (\r\n                      <CheckCircleIcon className=\"w-4 h-4 text-white\" />\r\n                    )}\r\n                  </div>\r\n                  <div className=\"flex-1\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <TagIcon className=\"w-4 h-4 text-gray-400\" />\r\n                      <span className=\"font-medium\">{segment.name}</span>\r\n                    </div>\r\n                    <p className=\"text-sm text-gray-400\">{segment.description}</p>\r\n                  </div>\r\n                  <div className=\"text-right\">\r\n                    <div className=\"font-medium\">{segment.count.toLocaleString()}</div>\r\n                    <div className=\"text-xs text-gray-500\">contacts</div>\r\n                  </div>\r\n                </button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Step 3: Schedule & Confirm */}\r\n        {step === 3 && (\r\n          <div className=\"space-y-6\">\r\n            <div>\r\n              <h4 className=\"font-medium mb-4\">Template Variables</h4>\r\n              <div className=\"bg-[#0b1215] rounded-xl p-4 mb-4\">\r\n                <p className=\"text-sm text-gray-400 mb-3\">Preview:</p>\r\n                <p className=\"text-sm\">\r\n                  {selectedTemplate?.body_text.replace(/\\{\\{(\\d+)\\}\\}/g, (_, n) => {\r\n                    return variables[n] || `[Variable ${n}]`;\r\n                  })}\r\n                </p>\r\n              </div>\r\n              <div className=\"grid grid-cols-3 gap-3\">\r\n                {[1, 2, 3].map((num) => (\r\n                  <div key={num}>\r\n                    <label className=\"block text-sm text-gray-400 mb-1\">{`{{${num}}}`}</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      placeholder={`Variable ${num}`}\r\n                      value={variables[num] || ''}\r\n                      onChange={(e) => setVariables({ ...variables, [num]: e.target.value })}\r\n                      className=\"w-full px-3 py-2 bg-[#0b1215] border border-white/10 rounded-lg text-sm\"\r\n                    />\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <h4 className=\"font-medium mb-4\">Schedule</h4>\r\n              <div className=\"flex gap-3\">\r\n                <button\r\n                  onClick={() => setScheduleType('now')}\r\n                  className={cn(\r\n                    'flex-1 p-4 rounded-xl border transition-colors',\r\n                    scheduleType === 'now'\r\n                      ? 'border-[#25D366] bg-[#25D366]/10'\r\n                      : 'border-white/10 hover:border-white/20'\r\n                  )}\r\n                >\r\n                  <PaperAirplaneIcon className=\"w-6 h-6 mb-2 text-[#25D366]\" />\r\n                  <div className=\"font-medium\">Send Now</div>\r\n                  <div className=\"text-sm text-gray-400\">Start immediately</div>\r\n                </button>\r\n                <button\r\n                  onClick={() => setScheduleType('scheduled')}\r\n                  className={cn(\r\n                    'flex-1 p-4 rounded-xl border transition-colors',\r\n                    scheduleType === 'scheduled'\r\n                      ? 'border-[#25D366] bg-[#25D366]/10'\r\n                      : 'border-white/10 hover:border-white/20'\r\n                  )}\r\n                >\r\n                  <CalendarIcon className=\"w-6 h-6 mb-2 text-[#25D366]\" />\r\n                  <div className=\"font-medium\">Schedule</div>\r\n                  <div className=\"text-sm text-gray-400\">Pick date & time</div>\r\n                </button>\r\n              </div>\r\n              {scheduleType === 'scheduled' && (\r\n                <div className=\"grid grid-cols-2 gap-3 mt-4\">\r\n                  <input\r\n                    type=\"date\"\r\n                    value={scheduledDate}\r\n                    onChange={(e) => setScheduledDate(e.target.value)}\r\n                    className=\"px-4 py-3 bg-[#0b1215] border border-white/10 rounded-xl\"\r\n                  />\r\n                  <input\r\n                    type=\"time\"\r\n                    value={scheduledTime}\r\n                    onChange={(e) => setScheduledTime(e.target.value)}\r\n                    className=\"px-4 py-3 bg-[#0b1215] border border-white/10 rounded-xl\"\r\n                  />\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Summary */}\r\n            <div className=\"bg-[#0b1215] rounded-xl p-4\">\r\n              <h4 className=\"font-medium mb-3\">Summary</h4>\r\n              <div className=\"space-y-2 text-sm\">\r\n                <div className=\"flex justify-between\">\r\n                  <span className=\"text-gray-400\">Template</span>\r\n                  <span>{selectedTemplate?.name}</span>\r\n                </div>\r\n                <div className=\"flex justify-between\">\r\n                  <span className=\"text-gray-400\">Recipients</span>\r\n                  <span>{totalRecipients.toLocaleString()}</span>\r\n                </div>\r\n                <div className=\"flex justify-between\">\r\n                  <span className=\"text-gray-400\">Schedule</span>\r\n                  <span>\r\n                    {scheduleType === 'now'\r\n                      ? 'Send immediately'\r\n                      : `${scheduledDate} ${scheduledTime}`}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Navigation */}\r\n        <div className=\"flex gap-3 mt-8\">\r\n          {step > 1 && (\r\n            <button\r\n              onClick={() => setStep((s) => s - 1)}\r\n              className=\"px-6 py-3 bg-[#1a1a24] border border-white/10 rounded-xl hover:bg-[#22222e] transition-colors\"\r\n            >\r\n              Back\r\n            </button>\r\n          )}\r\n          <button\r\n            onClick={onClose}\r\n            className=\"px-6 py-3 bg-[#1a1a24] border border-white/10 rounded-xl hover:bg-[#22222e] transition-colors\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <div className=\"flex-1\" />\r\n          {step < 3 ? (\r\n            <button\r\n              onClick={() => setStep((s) => s + 1)}\r\n              disabled={\r\n                (step === 1 && !selectedTemplate) || (step === 2 && selectedSegments.length === 0)\r\n              }\r\n              className=\"px-6 py-3 bg-gradient-to-r from-[#25D366] to-[#128C7E] rounded-xl hover:opacity-90 transition-opacity font-medium disabled:opacity-50\"\r\n            >\r\n              Continue\r\n            </button>\r\n          ) : (\r\n            <button\r\n              onClick={handleSubmit}\r\n              className=\"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-[#25D366] to-[#128C7E] rounded-xl hover:opacity-90 transition-opacity font-medium\"\r\n            >\r\n              <PaperAirplaneIcon className=\"w-4 h-4\" />\r\n              {scheduleType === 'now' ? 'Send Broadcast' : 'Schedule Broadcast'}\r\n            </button>\r\n          )}\r\n        </div>\r\n      </motion.div>\r\n    </motion.div>\r\n  );\r\n}\r\n","/**\r\n * WhatsApp Message History\r\n * View all sent messages with delivery status tracking\r\n */\r\n\r\nimport { useState } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport {\r\n  ChatBubbleLeftRightIcon,\r\n  MagnifyingGlassIcon,\r\n  CheckIcon,\r\n  CheckCircleIcon,\r\n  ClockIcon,\r\n  ExclamationCircleIcon,\r\n  EyeIcon,\r\n  ArrowPathIcon,\r\n  FunnelIcon,\r\n  ChevronLeftIcon,\r\n  ChevronRightIcon,\r\n  DocumentTextIcon,\r\n  PhotoIcon,\r\n  VideoCameraIcon,\r\n  PaperAirplaneIcon,\r\n} from '@heroicons/react/24/outline';\r\nimport { cn } from '@/lib/utils';\r\n\r\ninterface Message {\r\n  id: number;\r\n  contact_name: string;\r\n  contact_phone: string;\r\n  direction: 'outbound' | 'inbound';\r\n  message_type: 'template' | 'text' | 'image' | 'video' | 'document';\r\n  template_name: string | null;\r\n  content: string;\r\n  status: 'pending' | 'sent' | 'delivered' | 'read' | 'failed';\r\n  sent_at: string | null;\r\n  delivered_at: string | null;\r\n  read_at: string | null;\r\n  error_message: string | null;\r\n}\r\n\r\nconst mockMessages: Message[] = [\r\n  {\r\n    id: 1,\r\n    contact_name: 'John Doe',\r\n    contact_phone: '+1234567890',\r\n    direction: 'outbound',\r\n    message_type: 'template',\r\n    template_name: 'order_confirmation',\r\n    content: 'Hi John, your order #12345 has been confirmed...',\r\n    status: 'read',\r\n    sent_at: '2025-01-30T10:00:00Z',\r\n    delivered_at: '2025-01-30T10:00:05Z',\r\n    read_at: '2025-01-30T10:05:00Z',\r\n    error_message: null,\r\n  },\r\n  {\r\n    id: 2,\r\n    contact_name: 'Jane Smith',\r\n    contact_phone: '+1987654321',\r\n    direction: 'outbound',\r\n    message_type: 'template',\r\n    template_name: 'appointment_reminder',\r\n    content: 'Hi Jane, this is a reminder for your appointment on Feb 1...',\r\n    status: 'delivered',\r\n    sent_at: '2025-01-30T09:30:00Z',\r\n    delivered_at: '2025-01-30T09:30:03Z',\r\n    read_at: null,\r\n    error_message: null,\r\n  },\r\n  {\r\n    id: 3,\r\n    contact_name: 'John Doe',\r\n    contact_phone: '+1234567890',\r\n    direction: 'inbound',\r\n    message_type: 'text',\r\n    template_name: null,\r\n    content: 'Thanks for the confirmation!',\r\n    status: 'delivered',\r\n    sent_at: '2025-01-30T10:10:00Z',\r\n    delivered_at: null,\r\n    read_at: null,\r\n    error_message: null,\r\n  },\r\n  {\r\n    id: 4,\r\n    contact_name: 'Alice Johnson',\r\n    contact_phone: '+447123456789',\r\n    direction: 'outbound',\r\n    message_type: 'template',\r\n    template_name: 'verification_code',\r\n    content: 'Your verification code is 123456...',\r\n    status: 'sent',\r\n    sent_at: '2025-01-30T09:00:00Z',\r\n    delivered_at: null,\r\n    read_at: null,\r\n    error_message: null,\r\n  },\r\n  {\r\n    id: 5,\r\n    contact_name: 'Mohammed Ali',\r\n    contact_phone: '+971501234567',\r\n    direction: 'outbound',\r\n    message_type: 'template',\r\n    template_name: 'promo_winter_sale',\r\n    content: 'Winter Sale is here! Get up to 50% off...',\r\n    status: 'failed',\r\n    sent_at: '2025-01-30T08:00:00Z',\r\n    delivered_at: null,\r\n    read_at: null,\r\n    error_message: 'Phone number not registered on WhatsApp',\r\n  },\r\n  {\r\n    id: 6,\r\n    contact_name: 'Pierre Dupont',\r\n    contact_phone: '+33612345678',\r\n    direction: 'outbound',\r\n    message_type: 'image',\r\n    template_name: null,\r\n    content: 'product-catalog.jpg',\r\n    status: 'read',\r\n    sent_at: '2025-01-29T15:00:00Z',\r\n    delivered_at: '2025-01-29T15:00:02Z',\r\n    read_at: '2025-01-29T15:30:00Z',\r\n    error_message: null,\r\n  },\r\n];\r\n\r\nconst statusConfig = {\r\n  pending: { label: 'Pending', color: 'text-gray-400', bg: 'bg-gray-500/10', icon: ClockIcon },\r\n  sent: { label: 'Sent', color: 'text-blue-400', bg: 'bg-blue-500/10', icon: CheckIcon },\r\n  delivered: {\r\n    label: 'Delivered',\r\n    color: 'text-green-400',\r\n    bg: 'bg-green-500/10',\r\n    icon: CheckCircleIcon,\r\n  },\r\n  read: { label: 'Read', color: 'text-cyan-400', bg: 'bg-cyan-500/10', icon: EyeIcon },\r\n  failed: {\r\n    label: 'Failed',\r\n    color: 'text-red-400',\r\n    bg: 'bg-red-500/10',\r\n    icon: ExclamationCircleIcon,\r\n  },\r\n};\r\n\r\nconst messageTypeIcons = {\r\n  template: DocumentTextIcon,\r\n  text: ChatBubbleLeftRightIcon,\r\n  image: PhotoIcon,\r\n  video: VideoCameraIcon,\r\n  document: DocumentTextIcon,\r\n};\r\n\r\nexport default function WhatsAppMessages() {\r\n  const [messages] = useState<Message[]>(mockMessages);\r\n  const [search, setSearch] = useState('');\r\n  const [statusFilter, setStatusFilter] = useState<string>('all');\r\n  const [directionFilter, setDirectionFilter] = useState<string>('all');\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [showFilters, setShowFilters] = useState(false);\r\n  const pageSize = 10;\r\n\r\n  const filteredMessages = messages.filter((msg) => {\r\n    const matchesSearch =\r\n      msg.contact_name.toLowerCase().includes(search.toLowerCase()) ||\r\n      msg.contact_phone.includes(search) ||\r\n      msg.content.toLowerCase().includes(search.toLowerCase());\r\n    const matchesStatus = statusFilter === 'all' || msg.status === statusFilter;\r\n    const matchesDirection = directionFilter === 'all' || msg.direction === directionFilter;\r\n    return matchesSearch && matchesStatus && matchesDirection;\r\n  });\r\n\r\n  const totalPages = Math.ceil(filteredMessages.length / pageSize);\r\n  const paginatedMessages = filteredMessages.slice(\r\n    (currentPage - 1) * pageSize,\r\n    currentPage * pageSize\r\n  );\r\n\r\n  // Stats\r\n  const totalMessages = messages.length;\r\n  const sentMessages = messages.filter((m) => m.direction === 'outbound').length;\r\n  const deliveredMessages = messages.filter((m) => ['delivered', 'read'].includes(m.status)).length;\r\n  const readMessages = messages.filter((m) => m.status === 'read').length;\r\n  const failedMessages = messages.filter((m) => m.status === 'failed').length;\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Stats Bar */}\r\n      <div className=\"grid grid-cols-2 md:grid-cols-5 gap-3\">\r\n        <MiniStat label=\"Total\" value={totalMessages} />\r\n        <MiniStat label=\"Sent\" value={sentMessages} color=\"text-blue-400\" />\r\n        <MiniStat label=\"Delivered\" value={deliveredMessages} color=\"text-green-400\" />\r\n        <MiniStat label=\"Read\" value={readMessages} color=\"text-cyan-400\" />\r\n        <MiniStat label=\"Failed\" value={failedMessages} color=\"text-red-400\" />\r\n      </div>\r\n\r\n      {/* Search & Filters */}\r\n      <div className=\"flex flex-col md:flex-row gap-4\">\r\n        <div className=\"relative flex-1\">\r\n          <MagnifyingGlassIcon className=\"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400\" />\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Search by name, phone, or content...\"\r\n            value={search}\r\n            onChange={(e) => setSearch(e.target.value)}\r\n            className=\"w-full pl-10 pr-4 py-3 bg-[rgba(255,_255,_255,_0.05)] border border-white/10 rounded-xl focus:border-[#25D366]/50 focus:outline-none\"\r\n          />\r\n        </div>\r\n        <button\r\n          onClick={() => setShowFilters(!showFilters)}\r\n          className={cn(\r\n            'flex items-center gap-2 px-4 py-3 rounded-xl border transition-colors',\r\n            showFilters\r\n              ? 'bg-[#25D366]/10 border-[#25D366]/30 text-[#25D366]'\r\n              : 'bg-[rgba(255,_255,_255,_0.05)] border-white/10 text-gray-400 hover:text-white'\r\n          )}\r\n        >\r\n          <FunnelIcon className=\"w-5 h-5\" />\r\n          Filters\r\n        </button>\r\n        <button\r\n          onClick={() => {\r\n            /* Refresh */\r\n          }}\r\n          className=\"flex items-center gap-2 px-4 py-3 bg-[rgba(255,_255,_255,_0.05)] border border-white/10 rounded-xl text-gray-400 hover:text-white transition-colors\"\r\n        >\r\n          <ArrowPathIcon className=\"w-5 h-5\" />\r\n          Refresh\r\n        </button>\r\n      </div>\r\n\r\n      {/* Filter Options */}\r\n      {showFilters && (\r\n        <motion.div\r\n          initial={{ opacity: 0, height: 0 }}\r\n          animate={{ opacity: 1, height: 'auto' }}\r\n          exit={{ opacity: 0, height: 0 }}\r\n          className=\"flex flex-wrap gap-4 p-4 bg-[rgba(255,_255,_255,_0.05)] rounded-xl border border-white/5\"\r\n        >\r\n          <div>\r\n            <label className=\"block text-sm text-gray-400 mb-2\">Status</label>\r\n            <div className=\"flex gap-2\">\r\n              {['all', 'pending', 'sent', 'delivered', 'read', 'failed'].map((status) => (\r\n                <button\r\n                  key={status}\r\n                  onClick={() => setStatusFilter(status)}\r\n                  className={cn(\r\n                    'px-3 py-1.5 rounded-lg text-sm transition-colors',\r\n                    statusFilter === status\r\n                      ? 'bg-[#25D366] text-white'\r\n                      : 'bg-[#1a1a24] text-gray-400 hover:text-white'\r\n                  )}\r\n                >\r\n                  {status === 'all'\r\n                    ? 'All'\r\n                    : statusConfig[status as keyof typeof statusConfig]?.label}\r\n                </button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm text-gray-400 mb-2\">Direction</label>\r\n            <div className=\"flex gap-2\">\r\n              {['all', 'outbound', 'inbound'].map((dir) => (\r\n                <button\r\n                  key={dir}\r\n                  onClick={() => setDirectionFilter(dir)}\r\n                  className={cn(\r\n                    'px-3 py-1.5 rounded-lg text-sm transition-colors',\r\n                    directionFilter === dir\r\n                      ? 'bg-[#25D366] text-white'\r\n                      : 'bg-[#1a1a24] text-gray-400 hover:text-white'\r\n                  )}\r\n                >\r\n                  {dir === 'all' ? 'All' : dir === 'outbound' ? 'Sent' : 'Received'}\r\n                </button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </motion.div>\r\n      )}\r\n\r\n      {/* Messages List */}\r\n      <div className=\"bg-[rgba(255,_255,_255,_0.05)] rounded-2xl border border-white/5 overflow-hidden\">\r\n        <div className=\"divide-y divide-white/5\">\r\n          {paginatedMessages.map((message) => {\r\n            const status = statusConfig[message.status];\r\n            const StatusIcon = status.icon;\r\n            const TypeIcon = messageTypeIcons[message.message_type];\r\n\r\n            return (\r\n              <div key={message.id} className=\"p-4 hover:bg-white/[0.02] transition-colors\">\r\n                <div className=\"flex items-start gap-4\">\r\n                  {/* Avatar */}\r\n                  <div\r\n                    className={cn(\r\n                      'w-10 h-10 rounded-full flex items-center justify-center font-medium',\r\n                      message.direction === 'outbound'\r\n                        ? 'bg-gradient-to-br from-[#25D366] to-[#128C7E]'\r\n                        : 'bg-gradient-to-br from-cyan-500 to-blue-500'\r\n                    )}\r\n                  >\r\n                    {message.contact_name[0]}\r\n                  </div>\r\n\r\n                  {/* Content */}\r\n                  <div className=\"flex-1 min-w-0\">\r\n                    <div className=\"flex items-center gap-2 mb-1\">\r\n                      <span className=\"font-medium\">{message.contact_name}</span>\r\n                      <span className=\"text-xs text-gray-500\">{message.contact_phone}</span>\r\n                      {message.direction === 'outbound' ? (\r\n                        <PaperAirplaneIcon className=\"w-3.5 h-3.5 text-gray-400\" title=\"Sent\" />\r\n                      ) : (\r\n                        <ChatBubbleLeftRightIcon\r\n                          className=\"w-3.5 h-3.5 text-cyan-400\"\r\n                          title=\"Received\"\r\n                        />\r\n                      )}\r\n                    </div>\r\n\r\n                    <div className=\"flex items-center gap-2 mb-2\">\r\n                      <TypeIcon className=\"w-4 h-4 text-gray-400\" />\r\n                      {message.template_name && (\r\n                        <span className=\"text-xs px-2 py-0.5 bg-purple-500/10 text-purple-400 rounded\">\r\n                          {message.template_name}\r\n                        </span>\r\n                      )}\r\n                    </div>\r\n\r\n                    <p className=\"text-sm text-gray-300 line-clamp-2\">{message.content}</p>\r\n\r\n                    {message.error_message && (\r\n                      <p className=\"text-xs text-red-400 mt-1\">{message.error_message}</p>\r\n                    )}\r\n                  </div>\r\n\r\n                  {/* Status & Time */}\r\n                  <div className=\"text-right\">\r\n                    <span\r\n                      className={cn(\r\n                        'inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium',\r\n                        status.bg,\r\n                        status.color\r\n                      )}\r\n                    >\r\n                      <StatusIcon className=\"w-3.5 h-3.5\" />\r\n                      {status.label}\r\n                    </span>\r\n                    <div className=\"text-xs text-gray-500 mt-2\">\r\n                      {message.sent_at && new Date(message.sent_at).toLocaleString()}\r\n                    </div>\r\n\r\n                    {/* Delivery Timeline */}\r\n                    {message.direction === 'outbound' && (\r\n                      <div className=\"flex items-center justify-end gap-1 mt-2\">\r\n                        <TimelineDot active={!!message.sent_at} label=\"Sent\" />\r\n                        <TimelineLine active={!!message.delivered_at} />\r\n                        <TimelineDot active={!!message.delivered_at} label=\"Delivered\" />\r\n                        <TimelineLine active={!!message.read_at} />\r\n                        <TimelineDot active={!!message.read_at} label=\"Read\" />\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n\r\n        {/* Pagination */}\r\n        <div className=\"flex items-center justify-between p-4 border-t border-white/5\">\r\n          <span className=\"text-sm text-gray-400\">\r\n            Showing {(currentPage - 1) * pageSize + 1}-\r\n            {Math.min(currentPage * pageSize, filteredMessages.length)} of {filteredMessages.length}\r\n          </span>\r\n          <div className=\"flex gap-2\">\r\n            <button\r\n              onClick={() => setCurrentPage((p) => Math.max(1, p - 1))}\r\n              disabled={currentPage === 1}\r\n              className=\"p-2 bg-[#1a1a24] rounded-lg disabled:opacity-50 hover:bg-[#22222e] transition-colors\"\r\n            >\r\n              <ChevronLeftIcon className=\"w-4 h-4\" />\r\n            </button>\r\n            <button\r\n              onClick={() => setCurrentPage((p) => Math.min(totalPages, p + 1))}\r\n              disabled={currentPage === totalPages}\r\n              className=\"p-2 bg-[#1a1a24] rounded-lg disabled:opacity-50 hover:bg-[#22222e] transition-colors\"\r\n            >\r\n              <ChevronRightIcon className=\"w-4 h-4\" />\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction MiniStat({\r\n  label,\r\n  value,\r\n  color = 'text-white',\r\n}: {\r\n  label: string;\r\n  value: number;\r\n  color?: string;\r\n}) {\r\n  return (\r\n    <div className=\"bg-[rgba(255,_255,_255,_0.05)] rounded-xl border border-white/5 p-3 text-center\">\r\n      <div className={cn('text-xl font-bold', color)}>{value}</div>\r\n      <div className=\"text-xs text-gray-500\">{label}</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction TimelineDot({ active, label }: { active: boolean; label: string }) {\r\n  return (\r\n    <div\r\n      className={cn('w-2 h-2 rounded-full', active ? 'bg-[#25D366]' : 'bg-gray-600')}\r\n      title={label}\r\n    />\r\n  );\r\n}\r\n\r\nfunction TimelineLine({ active }: { active: boolean }) {\r\n  return <div className={cn('w-3 h-0.5', active ? 'bg-[#25D366]' : 'bg-gray-600')} />;\r\n}\r\n","/**\r\n * WhatsApp Manager - Main Dashboard\r\n * Comprehensive WhatsApp Business management interface\r\n */\r\n\r\nimport { useState } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport {\r\n  ChatBubbleLeftRightIcon,\r\n  UserGroupIcon,\r\n  DocumentTextIcon,\r\n  MegaphoneIcon,\r\n  ClockIcon,\r\n  ChartBarIcon,\r\n  CheckCircleIcon,\r\n  ExclamationCircleIcon,\r\n  PaperAirplaneIcon,\r\n} from '@heroicons/react/24/outline';\r\nimport { cn } from '@/lib/utils';\r\nimport WhatsAppContacts from './WhatsAppContacts';\r\nimport WhatsAppTemplates from './WhatsAppTemplates';\r\nimport WhatsAppBroadcast from './WhatsAppBroadcast';\r\nimport WhatsAppMessages from './WhatsAppMessages';\r\n\r\ntype TabId = 'overview' | 'contacts' | 'templates' | 'broadcast' | 'messages';\r\n\r\ninterface TabConfig {\r\n  id: TabId;\r\n  label: string;\r\n  icon: React.ComponentType<{ className?: string }>;\r\n  description: string;\r\n}\r\n\r\nconst tabs: TabConfig[] = [\r\n  {\r\n    id: 'overview',\r\n    label: 'Overview',\r\n    icon: ChartBarIcon,\r\n    description: 'Dashboard & Analytics',\r\n  },\r\n  {\r\n    id: 'contacts',\r\n    label: 'Contacts',\r\n    icon: UserGroupIcon,\r\n    description: 'Manage Recipients',\r\n  },\r\n  {\r\n    id: 'templates',\r\n    label: 'Templates',\r\n    icon: DocumentTextIcon,\r\n    description: 'Message Templates',\r\n  },\r\n  {\r\n    id: 'broadcast',\r\n    label: 'Broadcast',\r\n    icon: MegaphoneIcon,\r\n    description: 'Send Campaigns',\r\n  },\r\n  {\r\n    id: 'messages',\r\n    label: 'Messages',\r\n    icon: ClockIcon,\r\n    description: 'Message History',\r\n  },\r\n];\r\n\r\n// Mock stats for overview\r\nconst mockStats = {\r\n  totalContacts: 12453,\r\n  optedIn: 11234,\r\n  optedOut: 1219,\r\n  templates: 8,\r\n  approvedTemplates: 6,\r\n  pendingTemplates: 2,\r\n  messagesSent: 45678,\r\n  messagesDelivered: 44123,\r\n  messagesRead: 38456,\r\n  broadcastsThisMonth: 12,\r\n};\r\n\r\nexport default function WhatsAppManager() {\r\n  const [activeTab, setActiveTab] = useState<TabId>('overview');\r\n\r\n  const renderContent = () => {\r\n    switch (activeTab) {\r\n      case 'contacts':\r\n        return <WhatsAppContacts />;\r\n      case 'templates':\r\n        return <WhatsAppTemplates />;\r\n      case 'broadcast':\r\n        return <WhatsAppBroadcast />;\r\n      case 'messages':\r\n        return <WhatsAppMessages />;\r\n      default:\r\n        return <OverviewDashboard stats={mockStats} onNavigate={setActiveTab} />;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-[#0b1215] text-white p-6\">\r\n      {/* Header */}\r\n      <div className=\"mb-8\">\r\n        <div className=\"flex items-center gap-3 mb-2\">\r\n          <div className=\"p-2 rounded-xl bg-gradient-to-br from-[#25D366] to-[#128C7E]\">\r\n            <ChatBubbleLeftRightIcon className=\"w-6 h-6 text-white\" />\r\n          </div>\r\n          <h1 className=\"text-2xl font-bold\">WhatsApp Business Manager</h1>\r\n        </div>\r\n        <p className=\"text-gray-400\">Manage contacts, templates, and broadcast campaigns</p>\r\n      </div>\r\n\r\n      {/* Tab Navigation */}\r\n      <div className=\"flex gap-2 mb-6 overflow-x-auto pb-2\">\r\n        {tabs.map((tab) => {\r\n          const Icon = tab.icon;\r\n          const isActive = activeTab === tab.id;\r\n          return (\r\n            <button\r\n              key={tab.id}\r\n              onClick={() => setActiveTab(tab.id)}\r\n              className={cn(\r\n                'flex items-center gap-2 px-4 py-3 rounded-xl transition-all whitespace-nowrap',\r\n                isActive\r\n                  ? 'bg-gradient-to-r from-[#25D366] to-[#128C7E] text-white shadow-lg shadow-[#25D366]/20'\r\n                  : 'bg-[rgba(255,_255,_255,_0.05)] text-gray-400 hover:text-white hover:bg-[#1a1a24] border border-white/5'\r\n              )}\r\n            >\r\n              <Icon className=\"w-5 h-5\" />\r\n              <span className=\"font-medium\">{tab.label}</span>\r\n            </button>\r\n          );\r\n        })}\r\n      </div>\r\n\r\n      {/* Content */}\r\n      <motion.div\r\n        key={activeTab}\r\n        initial={{ opacity: 0, y: 10 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        transition={{ duration: 0.2 }}\r\n      >\r\n        {renderContent()}\r\n      </motion.div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Overview Dashboard Component\r\nfunction OverviewDashboard({\r\n  stats,\r\n  onNavigate,\r\n}: {\r\n  stats: typeof mockStats;\r\n  onNavigate: (tab: TabId) => void;\r\n}) {\r\n  const deliveryRate = ((stats.messagesDelivered / stats.messagesSent) * 100).toFixed(1);\r\n  const readRate = ((stats.messagesRead / stats.messagesDelivered) * 100).toFixed(1);\r\n  const optInRate = ((stats.optedIn / stats.totalContacts) * 100).toFixed(1);\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Stats Grid */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n        <StatCard\r\n          title=\"Total Contacts\"\r\n          value={stats.totalContacts.toLocaleString()}\r\n          subtitle={`${optInRate}% opted in`}\r\n          icon={UserGroupIcon}\r\n          color=\"cyan\"\r\n          onClick={() => onNavigate('contacts')}\r\n        />\r\n        <StatCard\r\n          title=\"Templates\"\r\n          value={stats.templates.toString()}\r\n          subtitle={`${stats.approvedTemplates} approved, ${stats.pendingTemplates} pending`}\r\n          icon={DocumentTextIcon}\r\n          color=\"purple\"\r\n          onClick={() => onNavigate('templates')}\r\n        />\r\n        <StatCard\r\n          title=\"Messages Sent\"\r\n          value={stats.messagesSent.toLocaleString()}\r\n          subtitle={`${deliveryRate}% delivered`}\r\n          icon={PaperAirplaneIcon}\r\n          color=\"green\"\r\n          onClick={() => onNavigate('messages')}\r\n        />\r\n        <StatCard\r\n          title=\"Broadcasts\"\r\n          value={stats.broadcastsThisMonth.toString()}\r\n          subtitle=\"This month\"\r\n          icon={MegaphoneIcon}\r\n          color=\"orange\"\r\n          onClick={() => onNavigate('broadcast')}\r\n        />\r\n      </div>\r\n\r\n      {/* Quick Actions */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n        <QuickActionCard\r\n          title=\"Create Template\"\r\n          description=\"Design a new message template for Meta approval\"\r\n          icon={DocumentTextIcon}\r\n          onClick={() => onNavigate('templates')}\r\n          color=\"purple\"\r\n        />\r\n        <QuickActionCard\r\n          title=\"Send Broadcast\"\r\n          description=\"Send approved template to multiple contacts\"\r\n          icon={MegaphoneIcon}\r\n          onClick={() => onNavigate('broadcast')}\r\n          color=\"green\"\r\n        />\r\n        <QuickActionCard\r\n          title=\"Import Contacts\"\r\n          description=\"Bulk import contacts from CSV or manually\"\r\n          icon={UserGroupIcon}\r\n          onClick={() => onNavigate('contacts')}\r\n          color=\"cyan\"\r\n        />\r\n      </div>\r\n\r\n      {/* Message Stats */}\r\n      <div className=\"bg-[rgba(255,_255,_255,_0.05)] rounded-2xl border border-white/5 p-6\">\r\n        <h3 className=\"text-lg font-semibold mb-4\">Message Delivery Performance</h3>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n          <div className=\"space-y-2\">\r\n            <div className=\"flex justify-between text-sm\">\r\n              <span className=\"text-gray-400\">Delivery Rate</span>\r\n              <span className=\"text-[#25D366] font-medium\">{deliveryRate}%</span>\r\n            </div>\r\n            <div className=\"h-2 bg-[#1a1a24] rounded-full overflow-hidden\">\r\n              <div\r\n                className=\"h-full bg-gradient-to-r from-[#25D366] to-[#128C7E] rounded-full\"\r\n                style={{ width: `${deliveryRate}%` }}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"space-y-2\">\r\n            <div className=\"flex justify-between text-sm\">\r\n              <span className=\"text-gray-400\">Read Rate</span>\r\n              <span className=\"text-cyan-400 font-medium\">{readRate}%</span>\r\n            </div>\r\n            <div className=\"h-2 bg-[#1a1a24] rounded-full overflow-hidden\">\r\n              <div\r\n                className=\"h-full bg-gradient-to-r from-cyan-500 to-cyan-400 rounded-full\"\r\n                style={{ width: `${readRate}%` }}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"space-y-2\">\r\n            <div className=\"flex justify-between text-sm\">\r\n              <span className=\"text-gray-400\">Opt-in Rate</span>\r\n              <span className=\"text-purple-400 font-medium\">{optInRate}%</span>\r\n            </div>\r\n            <div className=\"h-2 bg-[#1a1a24] rounded-full overflow-hidden\">\r\n              <div\r\n                className=\"h-full bg-gradient-to-r from-purple-500 to-purple-400 rounded-full\"\r\n                style={{ width: `${optInRate}%` }}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Template Status */}\r\n      <div className=\"bg-[rgba(255,_255,_255,_0.05)] rounded-2xl border border-white/5 p-6\">\r\n        <h3 className=\"text-lg font-semibold mb-4\">Template Status</h3>\r\n        <div className=\"space-y-3\">\r\n          <StatusRow\r\n            icon={CheckCircleIcon}\r\n            label=\"Approved Templates\"\r\n            value={stats.approvedTemplates}\r\n            color=\"green\"\r\n          />\r\n          <StatusRow\r\n            icon={ClockIcon}\r\n            label=\"Pending Approval\"\r\n            value={stats.pendingTemplates}\r\n            color=\"yellow\"\r\n          />\r\n          <StatusRow\r\n            icon={ExclamationCircleIcon}\r\n            label=\"Rejected Templates\"\r\n            value={0}\r\n            color=\"red\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Stat Card Component\r\nfunction StatCard({\r\n  title,\r\n  value,\r\n  subtitle,\r\n  icon: Icon,\r\n  color,\r\n  onClick,\r\n}: {\r\n  title: string;\r\n  value: string;\r\n  subtitle: string;\r\n  icon: React.ComponentType<{ className?: string }>;\r\n  color: 'cyan' | 'purple' | 'green' | 'orange';\r\n  onClick: () => void;\r\n}) {\r\n  const colorClasses = {\r\n    cyan: 'from-cyan-500/20 to-cyan-500/5 border-cyan-500/20',\r\n    purple: 'from-purple-500/20 to-purple-500/5 border-purple-500/20',\r\n    green: 'from-[#25D366]/20 to-[#25D366]/5 border-[#25D366]/20',\r\n    orange: 'from-orange-500/20 to-orange-500/5 border-orange-500/20',\r\n  };\r\n\r\n  const iconColors = {\r\n    cyan: 'text-cyan-400',\r\n    purple: 'text-purple-400',\r\n    green: 'text-[#25D366]',\r\n    orange: 'text-orange-400',\r\n  };\r\n\r\n  return (\r\n    <button\r\n      onClick={onClick}\r\n      className={cn(\r\n        'bg-gradient-to-br rounded-2xl border p-6 text-left transition-all hover:scale-[1.02] hover:shadow-lg',\r\n        colorClasses[color]\r\n      )}\r\n    >\r\n      <div className=\"flex items-start justify-between mb-4\">\r\n        <Icon className={cn('w-6 h-6', iconColors[color])} />\r\n      </div>\r\n      <div className=\"text-3xl font-bold mb-1\">{value}</div>\r\n      <div className=\"text-sm text-gray-400\">{title}</div>\r\n      <div className=\"text-xs text-gray-500 mt-1\">{subtitle}</div>\r\n    </button>\r\n  );\r\n}\r\n\r\n// Quick Action Card\r\nfunction QuickActionCard({\r\n  title,\r\n  description,\r\n  icon: Icon,\r\n  onClick,\r\n  color,\r\n}: {\r\n  title: string;\r\n  description: string;\r\n  icon: React.ComponentType<{ className?: string }>;\r\n  onClick: () => void;\r\n  color: 'cyan' | 'purple' | 'green';\r\n}) {\r\n  const colorClasses = {\r\n    cyan: 'hover:border-cyan-500/30 group-hover:text-cyan-400',\r\n    purple: 'hover:border-purple-500/30 group-hover:text-purple-400',\r\n    green: 'hover:border-[#25D366]/30 group-hover:text-[#25D366]',\r\n  };\r\n\r\n  return (\r\n    <button\r\n      onClick={onClick}\r\n      className={cn(\r\n        'group bg-[rgba(255,_255,_255,_0.05)] rounded-2xl border border-white/5 p-6 text-left transition-all hover:bg-[#1a1a24]',\r\n        colorClasses[color]\r\n      )}\r\n    >\r\n      <Icon className=\"w-8 h-8 text-gray-400 group-hover:text-current transition-colors mb-4\" />\r\n      <h4 className=\"font-semibold mb-1\">{title}</h4>\r\n      <p className=\"text-sm text-gray-500\">{description}</p>\r\n    </button>\r\n  );\r\n}\r\n\r\n// Status Row\r\nfunction StatusRow({\r\n  icon: Icon,\r\n  label,\r\n  value,\r\n  color,\r\n}: {\r\n  icon: React.ComponentType<{ className?: string }>;\r\n  label: string;\r\n  value: number;\r\n  color: 'green' | 'yellow' | 'red';\r\n}) {\r\n  const colorClasses = {\r\n    green: 'text-green-400',\r\n    yellow: 'text-yellow-400',\r\n    red: 'text-red-400',\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex items-center justify-between py-2 border-b border-white/5 last:border-0\">\r\n      <div className=\"flex items-center gap-3\">\r\n        <Icon className={cn('w-5 h-5', colorClasses[color])} />\r\n        <span className=\"text-gray-300\">{label}</span>\r\n      </div>\r\n      <span className=\"font-medium\">{value}</span>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["ArrowUpTrayIcon","title","titleId","props","svgRef","React.createElement","ForwardRef","React.forwardRef","DocumentIcon","MegaphoneIcon","mockContacts","statusConfig","CheckCircleIcon","ClockIcon","XCircleIcon","WhatsAppContacts","contacts","setContacts","useState","search","setSearch","statusFilter","setStatusFilter","showAddModal","setShowAddModal","showImportModal","setShowImportModal","selectedContacts","setSelectedContacts","currentPage","setCurrentPage","pageSize","filteredContacts","contact","matchesSearch","_a","matchesStatus","totalPages","paginatedContacts","handleSelectAll","c","handleToggleSelect","id","prev","i","handleOptIn","handleOptOut","jsxs","jsx","PlusIcon","MagnifyingGlassIcon","e","status","cn","motion","StatusIcon","PhoneIcon","PencilIcon","TrashIcon","p","ChevronLeftIcon","ChevronRightIcon","AnimatePresence","AddContactModal","ImportContactsModal","_count","onClose","onAdd","formData","setFormData","handleSubmit","XMarkIcon","onImport","file","setFile","isDragging","setIsDragging","handleDrop","droppedFile","DocumentArrowDownIcon","Fragment","mockTemplates","categoryConfig","WhatsAppTemplates","templates","setTemplates","showCreateModal","setShowCreateModal","showPreviewModal","setShowPreviewModal","categoryFilter","setCategoryFilter","filteredTemplates","t","matchesCategory","cat","template","category","PhotoIcon","n","btn","EyeIcon","PaperAirplaneIcon","CreateTemplateModal","TemplatePreviewModal","onCreate","addButton","type","updateButton","index","updates","removeButton","_","ChatBubbleLeftIcon","VideoCameraIcon","opt","sampleValues","setSampleValues","getPreviewText","text","idx","num","newValues","mockSegments","mockHistory","WhatsAppBroadcast","history","setHistory","totalSent","acc","h","totalDelivered","totalRead","StatCard","ChartBarIcon","broadcast","deliveryRate","readRate","DocumentTextIcon","UserGroupIcon","StatusBadge","CreateBroadcastModal","value","subtitle","Icon","cfg","CalendarIcon","ExclamationTriangleIcon","segments","step","setStep","selectedTemplate","setSelectedTemplate","selectedSegments","setSelectedSegments","variables","setVariables","scheduleType","setScheduleType","scheduledDate","setScheduledDate","scheduledTime","setScheduledTime","totalRecipients","s","toggleSegment","segment","TagIcon","mockMessages","CheckIcon","ExclamationCircleIcon","messageTypeIcons","ChatBubbleLeftRightIcon","WhatsAppMessages","messages","directionFilter","setDirectionFilter","showFilters","setShowFilters","filteredMessages","msg","matchesDirection","paginatedMessages","totalMessages","sentMessages","m","deliveredMessages","readMessages","failedMessages","MiniStat","FunnelIcon","ArrowPathIcon","dir","message","TypeIcon","TimelineDot","TimelineLine","label","color","active","tabs","mockStats","WhatsAppManager","activeTab","setActiveTab","renderContent","OverviewDashboard","tab","isActive","stats","onNavigate","optInRate","QuickActionCard","StatusRow","onClick","colorClasses","iconColors","description"],"mappings":"s/BACA,SAASA,GAAgB,CACvB,MAAAC,EACA,QAAAC,EACA,GAAGC,CACL,EAAGC,EAAQ,CACT,OAAoBC,gBAAoB,MAAO,OAAO,OAAO,CAC3D,MAAO,6BACP,KAAM,OACN,QAAS,YACT,YAAa,IACb,OAAQ,eACR,cAAe,OACf,YAAa,OACb,IAAKD,EACL,kBAAmBF,CACvB,EAAKC,CAAK,EAAGF,EAAqBI,EAAAA,cAAoB,QAAS,CAC3D,GAAIH,CACR,EAAKD,CAAK,EAAI,KAAmBI,EAAAA,cAAoB,OAAQ,CACzD,cAAe,QACf,eAAgB,QAChB,EAAG,4GACP,CAAG,CAAC,CACJ,CACA,MAAMC,GAA2BC,EAAAA,WAAiBP,EAAe,ECvBjE,SAASQ,GAAa,CACpB,MAAAP,EACA,QAAAC,EACA,GAAGC,CACL,EAAGC,EAAQ,CACT,OAAoBC,gBAAoB,MAAO,OAAO,OAAO,CAC3D,MAAO,6BACP,KAAM,OACN,QAAS,YACT,YAAa,IACb,OAAQ,eACR,cAAe,OACf,YAAa,OACb,IAAKD,EACL,kBAAmBF,CACvB,EAAKC,CAAK,EAAGF,EAAqBI,EAAAA,cAAoB,QAAS,CAC3D,GAAIH,CACR,EAAKD,CAAK,EAAI,KAAmBI,EAAAA,cAAoB,OAAQ,CACzD,cAAe,QACf,eAAgB,QAChB,EAAG,mQACP,CAAG,CAAC,CACJ,CACA,MAAMC,GAA2BC,EAAAA,WAAiBC,EAAY,ECvB9D,SAASC,GAAc,CACrB,MAAAR,EACA,QAAAC,EACA,GAAGC,CACL,EAAGC,EAAQ,CACT,OAAoBC,gBAAoB,MAAO,OAAO,OAAO,CAC3D,MAAO,6BACP,KAAM,OACN,QAAS,YACT,YAAa,IACb,OAAQ,eACR,cAAe,OACf,YAAa,OACb,IAAKD,EACL,kBAAmBF,CACvB,EAAKC,CAAK,EAAGF,EAAqBI,EAAAA,cAAoB,QAAS,CAC3D,GAAIH,CACR,EAAKD,CAAK,EAAI,KAAmBI,EAAAA,cAAoB,OAAQ,CACzD,cAAe,QACf,eAAgB,QAChB,EAAG,6mBACP,CAAG,CAAC,CACJ,CACA,MAAMC,EAA2BC,EAAAA,WAAiBE,EAAa,ECYzDC,GAA0B,CAC9B,CACE,GAAI,EACJ,aAAc,cACd,aAAc,KACd,aAAc,WACd,cAAe,WACf,cAAe,GACf,gBAAiB,uBACjB,WAAY,sBAAA,EAEd,CACE,GAAI,EACJ,aAAc,cACd,aAAc,KACd,aAAc,aACd,cAAe,WACf,cAAe,GACf,gBAAiB,uBACjB,WAAY,sBAAA,EAEd,CACE,GAAI,EACJ,aAAc,gBACd,aAAc,KACd,aAAc,gBACd,cAAe,UACf,cAAe,EACf,gBAAiB,KACjB,WAAY,sBAAA,EAEd,CACE,GAAI,EACJ,aAAc,gBACd,aAAc,KACd,aAAc,eACd,cAAe,WACf,cAAe,GACf,gBAAiB,uBACjB,WAAY,sBAAA,EAEd,CACE,GAAI,EACJ,aAAc,eACd,aAAc,KACd,aAAc,gBACd,cAAe,YACf,cAAe,GACf,gBAAiB,uBACjB,WAAY,sBAAA,CAEhB,EAEMC,EAAe,CACnB,SAAU,CACR,MAAO,WACP,MAAO,iBACP,GAAI,kBACJ,KAAMC,CAAA,EAER,QAAS,CAAE,MAAO,UAAW,MAAO,kBAAmB,GAAI,mBAAoB,KAAMC,CAAA,EACrF,UAAW,CAAE,MAAO,YAAa,MAAO,eAAgB,GAAI,gBAAiB,KAAMC,CAAA,CACrF,EAEA,SAAwBC,IAAmB,CACzC,KAAM,CAACC,EAAUC,CAAW,EAAIC,EAAAA,SAAoBR,EAAY,EAC1D,CAACS,EAAQC,CAAS,EAAIF,EAAAA,SAAS,EAAE,EACjC,CAACG,EAAcC,CAAe,EAAIJ,EAAAA,SAAiB,KAAK,EACxD,CAACK,EAAcC,CAAe,EAAIN,EAAAA,SAAS,EAAK,EAChD,CAACO,EAAiBC,CAAkB,EAAIR,EAAAA,SAAS,EAAK,EACtD,CAACS,EAAkBC,CAAmB,EAAIV,EAAAA,SAAmB,CAAA,CAAE,EAC/D,CAACW,EAAaC,CAAc,EAAIZ,EAAAA,SAAS,CAAC,EAC1Ca,EAAW,GAEXC,EAAmBhB,EAAS,OAAQiB,GAAY,OACpD,MAAMC,EACJD,EAAQ,aAAa,SAASd,CAAM,MACnCgB,EAAAF,EAAQ,eAAR,YAAAE,EAAsB,cAAc,SAAShB,EAAO,YAAA,KAAkB,IACnEiB,EAAgBf,IAAiB,OAASY,EAAQ,gBAAkBZ,EAC1E,OAAOa,GAAiBE,CAC1B,CAAC,EAEKC,EAAa,KAAK,KAAKL,EAAiB,OAASD,CAAQ,EACzDO,EAAoBN,EAAiB,OACxCH,EAAc,GAAKE,EACpBF,EAAcE,CAAA,EAGVQ,EAAkB,IAAM,CACxBZ,EAAiB,SAAWW,EAAkB,OAChDV,EAAoB,CAAA,CAAE,EAEtBA,EAAoBU,EAAkB,IAAKE,GAAMA,EAAE,EAAE,CAAC,CAE1D,EAEMC,EAAsBC,GAAe,CACzCd,EAAqBe,GACnBA,EAAK,SAASD,CAAE,EAAIC,EAAK,OAAQC,GAAMA,IAAMF,CAAE,EAAI,CAAC,GAAGC,EAAMD,CAAE,CAAA,CAEnE,EAEMG,EAAeH,GAAe,CAClCzB,EAAa0B,GACXA,EAAK,IAAKH,GAAOA,EAAE,KAAOE,EAAK,CAAE,GAAGF,EAAG,cAAe,UAAA,EAAwBA,CAAE,CAAA,CAEpF,EAEMM,EAAgBJ,GAAe,CACnCzB,EAAa0B,GACXA,EAAK,IAAKH,GAAOA,EAAE,KAAOE,EAAK,CAAE,GAAGF,EAAG,cAAe,WAAA,EAAyBA,CAAE,CAAA,CAErF,EAEA,OACEO,EAAAA,KAAC,MAAA,CAAI,UAAU,YAEb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,kEACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,wBAAwB,SAAA,qBAAkB,EACxDD,EAAAA,KAAC,IAAA,CAAE,UAAU,wBACV,SAAA,CAAAf,EAAiB,OAAO,cAAY,IACpChB,EAAS,OAAQwB,GAAMA,EAAE,gBAAkB,UAAU,EAAE,OAAO,WAAA,CAAA,CACjE,CAAA,EACF,EACAO,EAAAA,KAAC,MAAA,CAAI,UAAU,aACb,SAAA,CAAAA,EAAAA,KAAC,SAAA,CACC,QAAS,IAAMrB,EAAmB,EAAI,EACtC,UAAU,wHAEV,SAAA,CAAAsB,EAAAA,IAAChD,GAAA,CAAgB,UAAU,SAAA,CAAU,EAAE,YAAA,CAAA,CAAA,EAGzC+C,EAAAA,KAAC,SAAA,CACC,QAAS,IAAMvB,EAAgB,EAAI,EACnC,UAAU,gIAEV,SAAA,CAAAwB,EAAAA,IAACC,GAAA,CAAS,UAAU,SAAA,CAAU,EAAE,aAAA,CAAA,CAAA,CAElC,CAAA,CACF,CAAA,EACF,EAGAF,EAAAA,KAAC,MAAA,CAAI,UAAU,kCACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,kBACb,SAAA,CAAAC,EAAAA,IAACE,EAAA,CAAoB,UAAU,gEAAA,CAAiE,EAChGF,EAAAA,IAAC,QAAA,CACC,KAAK,OACL,YAAY,6BACZ,MAAO7B,EACP,SAAWgC,GAAM/B,EAAU+B,EAAE,OAAO,KAAK,EACzC,UAAU,wJAAA,CAAA,CACZ,EACF,EACAH,EAAAA,IAAC,MAAA,CAAI,UAAU,aACZ,SAAA,CAAC,MAAO,WAAY,UAAW,WAAW,EAAE,IAAKI,GAAA,OAChDJ,OAAAA,EAAAA,IAAC,SAAA,CAEC,QAAS,IAAM1B,EAAgB8B,CAAM,EACrC,UAAWC,EACT,6DACAhC,IAAiB+B,EACb,0BACA,sFAAA,EAGL,SAAAA,IAAW,MAAQ,OAAQzC,EAAAA,EAAayC,CAAmC,IAAhDzC,YAAAA,EAAmD,KAAA,EAT1EyC,CAAA,EAWR,CAAA,CACH,CAAA,EACF,EAGCzB,EAAiB,OAAS,GACzBoB,EAAAA,KAACO,EAAO,IAAP,CACC,QAAS,CAAE,QAAS,EAAG,EAAG,GAAA,EAC1B,QAAS,CAAE,QAAS,EAAG,EAAG,CAAA,EAC1B,UAAU,oFAEV,SAAA,CAAAP,EAAAA,KAAC,OAAA,CAAK,UAAU,UAAW,SAAA,CAAApB,EAAiB,OAAO,WAAA,EAAS,EAC5DoB,EAAAA,KAAC,MAAA,CAAI,UAAU,aACb,SAAA,CAAAC,EAAAA,IAAC,SAAA,CAAO,UAAU,sFAAsF,SAAA,kBAExG,EACAA,EAAAA,IAAC,SAAA,CAAO,UAAU,gFAAgF,SAAA,mBAElG,EACAA,EAAAA,IAAC,SAAA,CAAO,UAAU,mFAAmF,SAAA,iBAAA,CAErG,CAAA,CAAA,CACF,CAAA,CAAA,CAAA,EAKJD,EAAAA,KAAC,MAAA,CAAI,UAAU,mFACb,SAAA,CAAAC,EAAAA,IAAC,OAAI,UAAU,kBACb,SAAAD,EAAAA,KAAC,QAAA,CAAM,UAAU,SACf,SAAA,CAAAC,MAAC,QAAA,CACC,SAAAD,EAAAA,KAAC,KAAA,CAAG,UAAU,0BACZ,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,gBACZ,SAAAA,EAAAA,IAAC,QAAA,CACC,KAAK,WACL,QACErB,EAAiB,SAAWW,EAAkB,QAC9CA,EAAkB,OAAS,EAE7B,SAAUC,EACV,UAAU,wCAAA,CAAA,EAEd,EACAS,EAAAA,IAAC,KAAA,CAAG,UAAU,kDAAkD,SAAA,UAAO,EACvEA,EAAAA,IAAC,KAAA,CAAG,UAAU,kDAAkD,SAAA,QAAK,EACrEA,EAAAA,IAAC,KAAA,CAAG,UAAU,kDAAkD,SAAA,SAAM,EACtEA,EAAAA,IAAC,KAAA,CAAG,UAAU,kDAAkD,SAAA,WAAQ,EACxEA,EAAAA,IAAC,KAAA,CAAG,UAAU,kDAAkD,SAAA,eAAY,EAC5EA,EAAAA,IAAC,KAAA,CAAG,UAAU,mDAAmD,SAAA,SAAA,CAAO,CAAA,CAAA,CAC1E,CAAA,CACF,EACAA,EAAAA,IAAC,QAAA,CACE,SAAAV,EAAkB,IAAKL,GAAY,OAClC,MAAMmB,EAASzC,EAAasB,EAAQ,aAAa,EAC3CsB,EAAaH,EAAO,KAC1B,OACEL,EAAAA,KAAC,KAAA,CAEC,UAAU,kEAEV,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,MACZ,SAAAA,EAAAA,IAAC,QAAA,CACC,KAAK,WACL,QAASrB,EAAiB,SAASM,EAAQ,EAAE,EAC7C,SAAU,IAAMQ,EAAmBR,EAAQ,EAAE,EAC7C,UAAU,wCAAA,CAAA,EAEd,QACC,KAAA,CAAG,UAAU,MACZ,SAAAc,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAI,UAAU,oHACZ,WAAAb,EAAAF,EAAQ,eAAR,YAAAE,EAAuB,KAAMF,EAAQ,aAAa,CAAC,CAAA,CACtD,SACC,MAAA,CACC,SAAA,CAAAe,MAAC,MAAA,CAAI,UAAU,cAAe,SAAAf,EAAQ,cAAgB,UAAU,EAChEe,EAAAA,IAAC,MAAA,CAAI,UAAU,wBAAyB,WAAQ,YAAA,CAAa,CAAA,CAAA,CAC/D,CAAA,CAAA,CACF,CAAA,CACF,QACC,KAAA,CAAG,UAAU,MACZ,SAAAD,EAAAA,KAAC,MAAA,CAAI,UAAU,wCACb,SAAA,CAAAC,EAAAA,IAACQ,GAAA,CAAU,UAAU,SAAA,CAAU,EAC9BvB,EAAQ,YAAA,CAAA,CACX,CAAA,CACF,EACAe,EAAAA,IAAC,KAAA,CAAG,UAAU,MACZ,SAAAD,EAAAA,KAAC,OAAA,CACC,UAAWM,EACT,gFACAD,EAAO,GACPA,EAAO,KAAA,EAGT,SAAA,CAAAJ,EAAAA,IAACO,EAAA,CAAW,UAAU,aAAA,CAAc,EACnCH,EAAO,KAAA,CAAA,CAAA,EAEZ,EACAJ,EAAAA,IAAC,KAAA,CAAG,UAAU,oBAAqB,WAAQ,cAAc,EACzDA,EAAAA,IAAC,KAAA,CAAG,UAAU,4BACX,SAAAf,EAAQ,gBACL,IAAI,KAAKA,EAAQ,eAAe,EAAE,mBAAA,EAClC,OAAA,CACN,QACC,KAAA,CAAG,UAAU,MACZ,SAAAc,EAAAA,KAAC,MAAA,CAAI,UAAU,sCACZ,SAAA,CAAAd,EAAQ,gBAAkB,YACzBe,EAAAA,IAAC,SAAA,CACC,QAAS,IAAMH,EAAYZ,EAAQ,EAAE,EACrC,UAAU,wEACV,MAAM,SAEN,SAAAe,EAAAA,IAACpC,EAAA,CAAgB,UAAU,SAAA,CAAU,CAAA,CAAA,EAGxCqB,EAAQ,gBAAkB,aACzBe,EAAAA,IAAC,SAAA,CACC,QAAS,IAAMF,EAAab,EAAQ,EAAE,EACtC,UAAU,oEACV,MAAM,UAEN,SAAAe,EAAAA,IAAClC,EAAA,CAAY,UAAU,SAAA,CAAU,CAAA,CAAA,EAGrCkC,EAAAA,IAAC,UAAO,UAAU,kEAChB,eAACS,GAAA,CAAW,UAAU,UAAU,CAAA,CAClC,EACAT,EAAAA,IAAC,UAAO,UAAU,wFAChB,eAACU,GAAA,CAAU,UAAU,UAAU,CAAA,CACjC,CAAA,CAAA,CACF,CAAA,CACF,CAAA,CAAA,EAzEKzB,EAAQ,EAAA,CA4EnB,CAAC,CAAA,CACH,CAAA,CAAA,CACF,CAAA,CACF,EAGAc,EAAAA,KAAC,MAAA,CAAI,UAAU,gEACb,SAAA,CAAAA,EAAAA,KAAC,OAAA,CAAK,UAAU,wBAAwB,SAAA,CAAA,YAC5BlB,EAAc,GAAKE,EAAW,EAAE,IACzC,KAAK,IAAIF,EAAcE,EAAUC,EAAiB,MAAM,EAAE,OAAKA,EAAiB,MAAA,EACnF,EACAe,EAAAA,KAAC,MAAA,CAAI,UAAU,aACb,SAAA,CAAAC,EAAAA,IAAC,SAAA,CACC,QAAS,IAAMlB,EAAgB6B,GAAM,KAAK,IAAI,EAAGA,EAAI,CAAC,CAAC,EACvD,SAAU9B,IAAgB,EAC1B,UAAU,uFAEV,SAAAmB,EAAAA,IAACY,EAAA,CAAgB,UAAU,SAAA,CAAU,CAAA,CAAA,EAEvCZ,EAAAA,IAAC,SAAA,CACC,QAAS,IAAMlB,EAAgB6B,GAAM,KAAK,IAAItB,EAAYsB,EAAI,CAAC,CAAC,EAChE,SAAU9B,IAAgBQ,EAC1B,UAAU,uFAEV,SAAAW,EAAAA,IAACa,GAAA,CAAiB,UAAU,SAAA,CAAU,CAAA,CAAA,CACxC,CAAA,CACF,CAAA,CAAA,CACF,CAAA,EACF,EAGAb,EAAAA,IAACc,GACE,SAAAvC,GACCyB,EAAAA,IAACe,GAAA,CACC,QAAS,IAAMvC,EAAgB,EAAK,EACpC,MAAQS,GAAY,CAClBhB,EAAa0B,GAAS,CAAC,CAAE,GAAGV,EAAS,GAAIU,EAAK,OAAS,GAAK,GAAGA,CAAI,CAAC,EACpEnB,EAAgB,EAAK,CACvB,CAAA,CAAA,EAGN,EAGAwB,EAAAA,IAACc,GACE,SAAArC,GACCuB,EAAAA,IAACgB,GAAA,CACC,QAAS,IAAMtC,EAAmB,EAAK,EACvC,SAAWuC,GAAW,CAEpBvC,EAAmB,EAAK,CAC1B,CAAA,CAAA,CACF,CAEJ,CAAA,EACF,CAEJ,CAGA,SAASqC,GAAgB,CACvB,QAAAG,EACA,MAAAC,CACF,EAGG,CACD,KAAM,CAACC,EAAUC,CAAW,EAAInD,WAAS,CACvC,aAAc,GACd,aAAc,KACd,aAAc,EAAA,CACf,EAEKoD,EAAgBnB,GAAuB,CAC3CA,EAAE,eAAA,EACFgB,EAAM,CACJ,GAAGC,EACH,cAAe,UACf,cAAe,EACf,gBAAiB,KACjB,WAAY,IAAI,KAAA,EAAO,YAAA,CAAY,CACpC,CACH,EAEA,OACEpB,EAAAA,IAACM,EAAO,IAAP,CACC,QAAS,CAAE,QAAS,CAAA,EACpB,QAAS,CAAE,QAAS,CAAA,EACpB,KAAM,CAAE,QAAS,CAAA,EACjB,UAAU,uFACV,QAASY,EAET,SAAAnB,EAAAA,KAACO,EAAO,IAAP,CACC,QAAS,CAAE,MAAO,IAAM,QAAS,CAAA,EACjC,QAAS,CAAE,MAAO,EAAG,QAAS,CAAA,EAC9B,KAAM,CAAE,MAAO,IAAM,QAAS,CAAA,EAC9B,UAAU,wFACV,QAAUH,GAAMA,EAAE,gBAAA,EAElB,SAAA,CAAAJ,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,wBAAwB,SAAA,cAAW,EACjDA,EAAAA,IAAC,SAAA,CAAO,QAASkB,EAAS,UAAU,kCAClC,SAAAlB,EAAAA,IAACuB,EAAA,CAAU,UAAU,SAAA,CAAU,CAAA,CACjC,CAAA,EACF,EAEAxB,EAAAA,KAAC,OAAA,CAAK,SAAUuB,EAAc,UAAU,YACtC,SAAA,CAAAvB,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAAC,QAAA,CAAM,UAAU,+CAA+C,SAAA,eAAY,EAC5EA,EAAAA,IAAC,QAAA,CACC,KAAK,MACL,SAAQ,GACR,YAAY,cACZ,MAAOoB,EAAS,aAChB,SAAWjB,GAAMkB,EAAY,CAAE,GAAGD,EAAU,aAAcjB,EAAE,OAAO,MAAO,EAC1E,UAAU,8GAAA,CAAA,CACZ,EACF,SACC,MAAA,CACC,SAAA,CAAAH,EAAAA,IAAC,QAAA,CAAM,UAAU,+CAA+C,SAAA,eAAY,EAC5ED,EAAAA,KAAC,SAAA,CACC,MAAOqB,EAAS,aAChB,SAAWjB,GAAMkB,EAAY,CAAE,GAAGD,EAAU,aAAcjB,EAAE,OAAO,MAAO,EAC1E,UAAU,+GAEV,SAAA,CAAAH,EAAAA,IAAC,SAAA,CAAO,MAAM,KAAK,SAAA,qBAAkB,EACrCA,EAAAA,IAAC,SAAA,CAAO,MAAM,KAAK,SAAA,uBAAoB,EACvCA,EAAAA,IAAC,SAAA,CAAO,MAAM,KAAK,SAAA,aAAU,EAC7BA,EAAAA,IAAC,SAAA,CAAO,MAAM,KAAK,SAAA,sBAAmB,EACtCA,EAAAA,IAAC,SAAA,CAAO,MAAM,KAAK,SAAA,eAAY,EAC/BA,EAAAA,IAAC,SAAA,CAAO,MAAM,KAAK,SAAA,eAAA,CAAa,CAAA,CAAA,CAAA,CAClC,EACF,SACC,MAAA,CACC,SAAA,CAAAA,EAAAA,IAAC,QAAA,CAAM,UAAU,+CAA+C,SAAA,eAAY,EAC5EA,EAAAA,IAAC,QAAA,CACC,KAAK,OACL,YAAY,WACZ,MAAOoB,EAAS,aAChB,SAAWjB,GAAMkB,EAAY,CAAE,GAAGD,EAAU,aAAcjB,EAAE,OAAO,MAAO,EAC1E,UAAU,8GAAA,CAAA,CACZ,EACF,EAEAJ,EAAAA,KAAC,MAAA,CAAI,UAAU,kBACb,SAAA,CAAAC,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,QAASkB,EACT,UAAU,uGACX,SAAA,QAAA,CAAA,EAGDlB,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,UAAU,2HACX,SAAA,aAAA,CAAA,CAED,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,CAAA,CACF,CAAA,CAGN,CAGA,SAASgB,GAAoB,CAC3B,QAAAE,EACA,SAAAM,CACF,EAGG,CACD,KAAM,CAACC,EAAMC,CAAO,EAAIxD,EAAAA,SAAsB,IAAI,EAC5C,CAACyD,EAAYC,CAAa,EAAI1D,EAAAA,SAAS,EAAK,EAE5C2D,EAAc1B,GAAuB,CACzCA,EAAE,eAAA,EACFyB,EAAc,EAAK,EACnB,MAAME,EAAc3B,EAAE,aAAa,MAAM,CAAC,GACtC2B,GAAA,YAAAA,EAAa,QAAS,YACxBJ,EAAQI,CAAW,CAEvB,EAEA,OACE9B,EAAAA,IAACM,EAAO,IAAP,CACC,QAAS,CAAE,QAAS,CAAA,EACpB,QAAS,CAAE,QAAS,CAAA,EACpB,KAAM,CAAE,QAAS,CAAA,EACjB,UAAU,uFACV,QAASY,EAET,SAAAnB,EAAAA,KAACO,EAAO,IAAP,CACC,QAAS,CAAE,MAAO,IAAM,QAAS,CAAA,EACjC,QAAS,CAAE,MAAO,EAAG,QAAS,CAAA,EAC9B,KAAM,CAAE,MAAO,IAAM,QAAS,CAAA,EAC9B,UAAU,wFACV,QAAUH,GAAMA,EAAE,gBAAA,EAElB,SAAA,CAAAJ,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,wBAAwB,SAAA,kBAAe,EACrDA,EAAAA,IAAC,SAAA,CAAO,QAASkB,EAAS,UAAU,kCAClC,SAAAlB,EAAAA,IAACuB,EAAA,CAAU,UAAU,SAAA,CAAU,CAAA,CACjC,CAAA,EACF,EAEAvB,EAAAA,IAAC,MAAA,CACC,WAAaG,GAAM,CACjBA,EAAE,eAAA,EACFyB,EAAc,EAAI,CACpB,EACA,YAAa,IAAMA,EAAc,EAAK,EACtC,OAAQC,EACR,UAAWxB,EACT,sEACAsB,EAAa,kCAAoC,kBACjDF,EAAO,kCAAoC,EAAA,EAG5C,SAAAA,EACC1B,OAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAC,EAAAA,IAAC+B,GAAA,CAAsB,UAAU,wBAAA,CAAyB,SACzD,MAAA,CACC,SAAA,CAAA/B,EAAAA,IAAC,MAAA,CAAI,UAAU,cAAe,SAAAyB,EAAK,KAAK,EACxC1B,EAAAA,KAAC,MAAA,CAAI,UAAU,wBAA0B,SAAA,EAAA0B,EAAK,KAAO,MAAM,QAAQ,CAAC,EAAE,KAAA,CAAA,CAAG,CAAA,CAAA,CAC3E,CAAA,CAAA,CACF,EAEA1B,EAAAA,KAAAiC,EAAAA,SAAA,CACE,SAAA,CAAAhC,EAAAA,IAAChD,GAAA,CAAgB,UAAU,sCAAA,CAAuC,EAClEgD,EAAAA,IAAC,IAAA,CAAE,UAAU,qBAAqB,SAAA,mCAAgC,EAClEA,EAAAA,IAAC,IAAA,CAAE,UAAU,wBAAwB,SAAA,KAAE,EACvCD,EAAAA,KAAC,QAAA,CAAM,UAAU,sFAAsF,SAAA,CAAA,eAErGC,EAAAA,IAAC,QAAA,CACC,KAAK,OACL,OAAO,OACP,UAAU,SACV,SAAWG,GAAA,OAAM,OAAAuB,IAAQvC,EAAAgB,EAAE,OAAO,QAAT,YAAAhB,EAAiB,KAAM,IAAI,EAAA,CAAA,CACtD,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,EAIJY,EAAAA,KAAC,MAAA,CAAI,UAAU,mCACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,mBAAmB,SAAA,uBAAoB,EACrDD,EAAAA,KAAC,OAAA,CAAK,UAAU,wBAAwB,SAAA,CAAA,+CAErC,KAAA,EAAG,EAAE,gCAEL,KAAA,EAAG,EAAE,6BAAA,CAAA,CAER,CAAA,EACF,EAEAA,EAAAA,KAAC,MAAA,CAAI,UAAU,kBACb,SAAA,CAAAC,EAAAA,IAAC,SAAA,CACC,QAASkB,EACT,UAAU,uGACX,SAAA,QAAA,CAAA,EAGDlB,EAAAA,IAAC,SAAA,CACC,QAAS,IAAMwB,EAAS,CAAC,EACzB,SAAU,CAACC,EACX,UAAU,+IACX,SAAA,iBAAA,CAAA,CAED,CAAA,CACF,CAAA,CAAA,CAAA,CACF,CAAA,CAGN,CC7jBA,MAAMQ,GAA4B,CAChC,CACE,GAAI,EACJ,KAAM,qBACN,SAAU,KACV,SAAU,UACV,YAAa,OACb,eAAgB,mBAChB,UACE,iGACF,YAAa,kCACb,QAAS,CAAC,CAAE,KAAM,MAAO,KAAM,cAAe,IAAK,kCAAmC,EACtF,OAAQ,WACR,iBAAkB,KAClB,YAAa,KACb,WAAY,sBAAA,EAEd,CACE,GAAI,EACJ,KAAM,uBACN,SAAU,KACV,SAAU,UACV,YAAa,KACb,eAAgB,KAChB,UACE,iHACF,YAAa,KACb,QAAS,CACP,CAAE,KAAM,cAAe,KAAM,SAAA,EAC7B,CAAE,KAAM,cAAe,KAAM,YAAA,CAAa,EAE5C,OAAQ,WACR,iBAAkB,KAClB,YAAa,IACb,WAAY,sBAAA,EAEd,CACE,GAAI,EACJ,KAAM,oBACN,SAAU,KACV,SAAU,YACV,YAAa,QACb,eAAgB,sCAChB,UACE,yGACF,YAAa,8BACb,QAAS,CAAC,CAAE,KAAM,MAAO,KAAM,WAAY,IAAK,2BAA4B,EAC5E,OAAQ,UACR,iBAAkB,KAClB,YAAa,EACb,WAAY,sBAAA,EAEd,CACE,GAAI,EACJ,KAAM,oBACN,SAAU,KACV,SAAU,iBACV,YAAa,KACb,eAAgB,KAChB,UACE,wGACF,YAAa,KACb,QAAS,CAAC,CAAE,KAAM,MAAO,KAAM,YAAa,IAAK,iCAAkC,EACnF,OAAQ,WACR,iBAAkB,KAClB,YAAa,KACb,WAAY,sBAAA,CAEhB,EAEMtE,EAAe,CACnB,SAAU,CACR,MAAO,WACP,MAAO,iBACP,GAAI,kBACJ,KAAMC,CAAA,EAER,QAAS,CAAE,MAAO,UAAW,MAAO,kBAAmB,GAAI,mBAAoB,KAAMC,CAAA,EACrF,SAAU,CAAE,MAAO,WAAY,MAAO,eAAgB,GAAI,gBAAiB,KAAMC,CAAA,CACnF,EAEMoE,EAAiB,CACrB,UAAW,CAAE,MAAO,YAAa,MAAO,kBAAmB,GAAI,kBAAA,EAC/D,QAAS,CAAE,MAAO,UAAW,MAAO,gBAAiB,GAAI,gBAAA,EACzD,eAAgB,CAAE,MAAO,iBAAkB,MAAO,kBAAmB,GAAI,kBAAA,CAC3E,EAEA,SAAwBC,IAAoB,CAC1C,KAAM,CAACC,EAAWC,CAAY,EAAInE,EAAAA,SAAqB+D,EAAa,EAC9D,CAACK,EAAiBC,CAAkB,EAAIrE,EAAAA,SAAS,EAAK,EACtD,CAACsE,EAAkBC,CAAmB,EAAIvE,EAAAA,SAA0B,IAAI,EACxE,CAACwE,EAAgBC,CAAiB,EAAIzE,EAAAA,SAAiB,KAAK,EAC5D,CAACG,EAAcC,CAAe,EAAIJ,EAAAA,SAAiB,KAAK,EAExD0E,EAAoBR,EAAU,OAAQS,GAAM,CAChD,MAAMC,EAAkBJ,IAAmB,OAASG,EAAE,WAAaH,EAC7DtD,EAAgBf,IAAiB,OAASwE,EAAE,SAAWxE,EAC7D,OAAOyE,GAAmB1D,CAC5B,CAAC,EAED,OACEW,EAAAA,KAAC,MAAA,CAAI,UAAU,YAEb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,kEACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,wBAAwB,SAAA,oBAAiB,EACvDD,EAAAA,KAAC,IAAA,CAAE,UAAU,wBACV,SAAA,CAAAqC,EAAU,OAAQS,GAAMA,EAAE,SAAW,UAAU,EAAE,OAAO,cAAY,IACpET,EAAU,OAAQS,GAAMA,EAAE,SAAW,SAAS,EAAE,OAAO,mBAAA,CAAA,CAC1D,CAAA,EACF,EACA9C,EAAAA,KAAC,SAAA,CACC,QAAS,IAAMwC,EAAmB,EAAI,EACtC,UAAU,gIAEV,SAAA,CAAAvC,EAAAA,IAACC,GAAA,CAAS,UAAU,SAAA,CAAU,EAAE,iBAAA,CAAA,CAAA,CAElC,EACF,EAGAF,EAAAA,KAAC,MAAA,CAAI,UAAU,uBACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,aACb,SAAA,CAAAC,EAAAA,IAAC,OAAA,CAAK,UAAU,oCAAoC,SAAA,YAAS,EAC5D,CAAC,MAAO,YAAa,UAAW,gBAAgB,EAAE,IAAK+C,UACtD/C,OAAAA,EAAAA,IAAC,SAAA,CAEC,QAAS,IAAM2C,EAAkBI,CAAG,EACpC,UAAW1C,EACT,mDACAqC,IAAmBK,EACf,0BACA,+DAAA,EAGL,SAAAA,IAAQ,MAAQ,OAAQ5D,EAAA+C,EAAea,CAAkC,IAAjD,YAAA5D,EAAoD,KAAA,EATxE4D,CAAA,EAWR,CAAA,EACH,EACAhD,EAAAA,KAAC,MAAA,CAAI,UAAU,aACb,SAAA,CAAAC,EAAAA,IAAC,OAAA,CAAK,UAAU,oCAAoC,SAAA,UAAO,EAC1D,CAAC,MAAO,WAAY,UAAW,UAAU,EAAE,IAAKI,UAC/CJ,OAAAA,EAAAA,IAAC,SAAA,CAEC,QAAS,IAAM1B,EAAgB8B,CAAM,EACrC,UAAWC,EACT,mDACAhC,IAAiB+B,EACb,0BACA,+DAAA,EAGL,SAAAA,IAAW,MAAQ,OAAQzC,EAAAA,EAAayC,CAAmC,IAAhDzC,YAAAA,EAAmD,KAAA,EAT1EyC,CAAA,EAWR,CAAA,CAAA,CACH,CAAA,EACF,QAGC,MAAA,CAAI,UAAU,uDACZ,SAAAwC,EAAkB,IAAKI,GAAa,CACnC,MAAM5C,EAASzC,EAAaqF,EAAS,MAAM,EACrCC,EAAWf,EAAec,EAAS,QAAQ,EAC3CzC,EAAaH,EAAO,KAE1B,OACEL,EAAAA,KAACO,EAAO,IAAP,CAEC,OAAM,GACN,QAAS,CAAE,QAAS,EAAG,MAAO,GAAA,EAC9B,QAAS,CAAE,QAAS,EAAG,MAAO,CAAA,EAC9B,UAAU,+GAGV,SAAA,CAAAP,EAAAA,KAAC,MAAA,CAAI,UAAU,wCACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,qBAAsB,SAAAgD,EAAS,KAAK,EAClDjD,EAAAA,KAAC,MAAA,CAAI,UAAU,aACb,SAAA,CAAAC,EAAAA,IAAC,OAAA,CACC,UAAWK,EAAG,8BAA+B4C,EAAS,GAAIA,EAAS,KAAK,EAEvE,SAAAA,EAAS,KAAA,CAAA,EAEZlD,EAAAA,KAAC,OAAA,CACC,UAAWM,EACT,6DACAD,EAAO,GACPA,EAAO,KAAA,EAGT,SAAA,CAAAJ,EAAAA,IAACO,EAAA,CAAW,UAAU,SAAA,CAAU,EAC/BH,EAAO,KAAA,CAAA,CAAA,CACV,CAAA,CACF,CAAA,EACF,QACC,OAAA,CAAK,UAAU,wBAAyB,SAAA4C,EAAS,SAAS,aAAY,CAAE,CAAA,EAC3E,EAGAjD,EAAAA,KAAC,MAAA,CAAI,UAAU,2CACZ,SAAA,CAAAiD,EAAS,cAAgB,QACxBhD,EAAAA,IAAC,OAAI,UAAU,4BAA6B,WAAS,cAAA,CAAe,EAErEgD,EAAS,cAAgB,SACxBjD,EAAAA,KAAC,MAAA,CAAI,UAAU,6CACb,SAAA,CAAAC,EAAAA,IAACkD,EAAA,CAAU,UAAU,SAAA,CAAU,EAAE,eAAA,EACnC,EAEFlD,EAAAA,IAAC,MAAA,CAAI,UAAU,oCACZ,WAAS,UAAU,QAAQ,iBAAkB,CAAC,EAAGmD,IAAM,aAAaA,CAAC,GAAG,EAC3E,EACCH,EAAS,aACRhD,EAAAA,IAAC,OAAI,UAAU,6BAA8B,WAAS,YAAY,EAEnEgD,EAAS,QAAQ,OAAS,SACxB,MAAA,CAAI,UAAU,gDACZ,SAAAA,EAAS,QAAQ,IAAI,CAACI,EAAKxD,UACzB,OAAA,CAAa,UAAU,wBACrB,SAAAwD,EAAI,MADIxD,CAEX,CACD,CAAA,CACH,CAAA,EAEJ,EAGAG,EAAAA,KAAC,MAAA,CAAI,UAAU,iDACb,SAAA,CAAAA,EAAAA,KAAC,OAAA,CAAK,UAAU,gBAAgB,SAAA,CAAA,QACxBiD,EAAS,YAAY,eAAA,EAAiB,QAAA,EAC9C,EACAhD,EAAAA,IAAC,OAAA,CAAK,UAAU,gBACb,SAAA,IAAI,KAAKgD,EAAS,UAAU,EAAE,mBAAA,CAAmB,CACpD,CAAA,EACF,EAGAjD,EAAAA,KAAC,MAAA,CAAI,UAAU,aACb,SAAA,CAAAA,EAAAA,KAAC,SAAA,CACC,QAAS,IAAM0C,EAAoBO,CAAQ,EAC3C,UAAU,+HAEV,SAAA,CAAAhD,EAAAA,IAACqD,GAAA,CAAQ,UAAU,SAAA,CAAU,EAAE,SAAA,CAAA,CAAA,EAGhCL,EAAS,SAAW,YACnBjD,EAAAA,KAAC,SAAA,CAAO,UAAU,oJAChB,SAAA,CAAAC,EAAAA,IAACsD,EAAA,CAAkB,UAAU,SAAA,CAAU,EAAE,KAAA,EAE3C,EAEFtD,EAAAA,IAAC,UAAO,UAAU,kEAChB,eAACS,GAAA,CAAW,UAAU,UAAU,CAAA,CAClC,EACAT,EAAAA,IAAC,UAAO,UAAU,wFAChB,eAACU,GAAA,CAAU,UAAU,UAAU,CAAA,CACjC,CAAA,CAAA,CACF,CAAA,CAAA,EAzFKsC,EAAS,EAAA,CA4FpB,CAAC,CAAA,CACH,EAGAhD,EAAAA,IAACc,GACE,SAAAwB,GACCtC,EAAAA,IAACuD,GAAA,CACC,QAAS,IAAMhB,EAAmB,EAAK,EACvC,SAAWS,GAAa,CACtBX,EAAc1C,GAAS,CAAC,CAAE,GAAGqD,EAAU,GAAIrD,EAAK,OAAS,GAAK,GAAGA,CAAI,CAAC,EACtE4C,EAAmB,EAAK,CAC1B,CAAA,CAAA,EAGN,EAGAvC,EAAAA,IAACc,GACE,SAAA0B,GACCxC,EAAAA,IAACwD,GAAA,CACC,SAAUhB,EACV,QAAS,IAAMC,EAAoB,IAAI,CAAA,CAAA,CACzC,CAEJ,CAAA,EACF,CAEJ,CAGA,SAASc,GAAoB,CAC3B,QAAArC,EACA,SAAAuC,CACF,EAGG,CACD,KAAM,CAACrC,EAAUC,CAAW,EAAInD,WAAS,CACvC,KAAM,GACN,SAAU,KACV,SAAU,UACV,YAAa,GACb,eAAgB,GAChB,UAAW,GACX,YAAa,GACb,QAAS,CAAA,CAAC,CACX,EAEKoD,EAAgBnB,GAAuB,CAC3CA,EAAE,eAAA,EACFsD,EAAS,CACP,GAAGrC,EACH,YAAaA,EAAS,aAAe,KACrC,eAAgBA,EAAS,gBAAkB,KAC3C,YAAaA,EAAS,aAAe,KACrC,OAAQ,UACR,iBAAkB,KAClB,YAAa,EACb,WAAY,IAAI,KAAA,EAAO,YAAA,CAAY,CACpC,CACH,EAEMsC,EAAaC,GAAiB,CAC9BvC,EAAS,QAAQ,QAAU,GAC/BC,EAAa1B,IAAU,CACrB,GAAGA,EACH,QAAS,CAAC,GAAGA,EAAK,QAAS,CAAE,KAAAgE,EAAM,KAAM,GAAI,IAAK,GAAI,MAAO,GAAI,CAAA,EACjE,CACJ,EAEMC,EAAe,CAACC,EAAeC,IAA6C,CAChFzC,EAAa1B,IAAU,CACrB,GAAGA,EACH,QAASA,EAAK,QAAQ,IAAI,CAACyD,EAAKxD,IAAOA,IAAMiE,EAAQ,CAAE,GAAGT,EAAK,GAAGU,CAAA,EAAYV,CAAI,CAAA,EAClF,CACJ,EAEMW,EAAgBF,GAAkB,CACtCxC,EAAa1B,IAAU,CACrB,GAAGA,EACH,QAASA,EAAK,QAAQ,OAAO,CAACqE,EAAGpE,IAAMA,IAAMiE,CAAK,CAAA,EAClD,CACJ,EAEA,OACE7D,EAAAA,IAACM,EAAO,IAAP,CACC,QAAS,CAAE,QAAS,CAAA,EACpB,QAAS,CAAE,QAAS,CAAA,EACpB,KAAM,CAAE,QAAS,CAAA,EACjB,UAAU,uGACV,QAASY,EAET,SAAAnB,EAAAA,KAACO,EAAO,IAAP,CACC,QAAS,CAAE,MAAO,IAAM,QAAS,CAAA,EACjC,QAAS,CAAE,MAAO,EAAG,QAAS,CAAA,EAC9B,KAAM,CAAE,MAAO,IAAM,QAAS,CAAA,EAC9B,UAAU,8FACV,QAAUH,GAAMA,EAAE,gBAAA,EAElB,SAAA,CAAAJ,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,wBAAwB,SAAA,0BAAuB,EAC7DA,EAAAA,IAAC,SAAA,CAAO,QAASkB,EAAS,UAAU,kCAClC,SAAAlB,EAAAA,IAACuB,EAAA,CAAU,UAAU,SAAA,CAAU,CAAA,CACjC,CAAA,EACF,EAEAxB,EAAAA,KAAC,OAAA,CAAK,SAAUuB,EAAc,UAAU,YAEtC,SAAA,CAAAvB,EAAAA,KAAC,MAAA,CAAI,UAAU,yBACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAAC,QAAA,CAAM,UAAU,+CAA+C,SAAA,gBAAa,EAC7EA,EAAAA,IAAC,QAAA,CACC,KAAK,OACL,SAAQ,GACR,YAAY,2BACZ,QAAQ,aACR,MAAOoB,EAAS,KAChB,SAAWjB,GACTkB,EAAY,CACV,GAAGD,EACH,KAAMjB,EAAE,OAAO,MAAM,cAAc,QAAQ,cAAe,GAAG,CAAA,CAC9D,EAEH,UAAU,8GAAA,CAAA,EAEZH,EAAAA,IAAC,OAAA,CAAK,UAAU,wBAAwB,SAAA,6BAAA,CAA2B,CAAA,EACrE,SACC,MAAA,CACC,SAAA,CAAAA,EAAAA,IAAC,QAAA,CAAM,UAAU,+CAA+C,SAAA,WAAQ,EACxED,EAAAA,KAAC,SAAA,CACC,SAAQ,GACR,MAAOqB,EAAS,SAChB,SAAWjB,GACTkB,EAAY,CAAE,GAAGD,EAAU,SAAUjB,EAAE,OAAO,MAA+B,EAE/E,UAAU,+GAEV,SAAA,CAAAH,EAAAA,IAAC,SAAA,CAAO,MAAM,UAAU,SAAA,0BAAuB,EAC/CA,EAAAA,IAAC,SAAA,CAAO,MAAM,YAAY,SAAA,0BAAuB,EACjDA,EAAAA,IAAC,SAAA,CAAO,MAAM,iBAAiB,SAAA,sBAAA,CAAoB,CAAA,CAAA,CAAA,CACrD,CAAA,CACF,CAAA,EACF,SAEC,MAAA,CACC,SAAA,CAAAA,EAAAA,IAAC,QAAA,CAAM,UAAU,+CAA+C,SAAA,WAAQ,EACxED,EAAAA,KAAC,SAAA,CACC,MAAOqB,EAAS,SAChB,SAAWjB,GAAMkB,EAAY,CAAE,GAAGD,EAAU,SAAUjB,EAAE,OAAO,MAAO,EACtE,UAAU,+GAEV,SAAA,CAAAH,EAAAA,IAAC,SAAA,CAAO,MAAM,KAAK,SAAA,UAAO,EAC1BA,EAAAA,IAAC,SAAA,CAAO,MAAM,KAAK,SAAA,SAAM,EACzBA,EAAAA,IAAC,SAAA,CAAO,MAAM,KAAK,SAAA,UAAO,EAC1BA,EAAAA,IAAC,SAAA,CAAO,MAAM,KAAK,SAAA,SAAM,EACzBA,EAAAA,IAAC,SAAA,CAAO,MAAM,KAAK,SAAA,QAAA,CAAM,CAAA,CAAA,CAAA,CAC3B,EACF,SAGC,MAAA,CACC,SAAA,CAAAA,EAAAA,IAAC,QAAA,CAAM,UAAU,+CAA+C,SAAA,oBAEhE,EACAA,EAAAA,IAAC,MAAA,CAAI,UAAU,kBACZ,SAAA,CACC,CAAE,MAAO,GAAI,MAAO,OAAQ,KAAMuB,CAAA,EAClC,CAAE,MAAO,OAAQ,MAAO,OAAQ,KAAM0C,EAAA,EACtC,CAAE,MAAO,QAAS,MAAO,QAAS,KAAMf,CAAA,EACxC,CAAE,MAAO,QAAS,MAAO,QAAS,KAAMgB,EAAA,EACxC,CAAE,MAAO,WAAY,MAAO,WAAY,KAAM1G,EAAA,CAAa,EAC3D,IAAK2G,GACLpE,EAAAA,KAAC,SAAA,CAEC,KAAK,SACL,QAAS,IACPsB,EAAY,CAAE,GAAGD,EAAU,YAAa+C,EAAI,MAAO,eAAgB,GAAI,EAEzE,UAAW9D,EACT,2EACAe,EAAS,cAAgB+C,EAAI,MACzB,0BACA,6CAAA,EAGN,SAAA,CAAAnE,EAAAA,IAACmE,EAAI,KAAJ,CAAS,UAAU,SAAA,CAAU,EAC7BA,EAAI,KAAA,CAAA,EAbAA,EAAI,KAAA,CAeZ,EACH,EACC/C,EAAS,cAAgB,QACxBpB,EAAAA,IAAC,QAAA,CACC,KAAK,OACL,YAAY,6BACZ,UAAW,GACX,MAAOoB,EAAS,eAChB,SAAWjB,GAAMkB,EAAY,CAAE,GAAGD,EAAU,eAAgBjB,EAAE,OAAO,MAAO,EAC5E,UAAU,8GAAA,CAAA,EAGb,CAAC,QAAS,QAAS,UAAU,EAAE,SAASiB,EAAS,WAAW,GAC3DpB,EAAAA,IAAC,QAAA,CACC,KAAK,MACL,YAAY,wBACZ,MAAOoB,EAAS,eAChB,SAAWjB,GAAMkB,EAAY,CAAE,GAAGD,EAAU,eAAgBjB,EAAE,OAAO,MAAO,EAC5E,UAAU,8GAAA,CAAA,CACZ,EAEJ,SAGC,MAAA,CACC,SAAA,CAAAH,EAAAA,IAAC,QAAA,CAAM,UAAU,+CAA+C,SAAA,YAAS,EACzEA,EAAAA,IAAC,WAAA,CACC,SAAQ,GACR,KAAM,EACN,UAAW,KACX,YAAY,oDACZ,MAAOoB,EAAS,UAChB,SAAWjB,GAAMkB,EAAY,CAAE,GAAGD,EAAU,UAAWjB,EAAE,OAAO,MAAO,EACvE,UAAU,0HAAA,CAAA,EAEZJ,EAAAA,KAAC,OAAA,CAAK,UAAU,wBAAwB,SAAA,CAAA,OACjC,QAAQ,KAAG,QAAQ,mBAAiBqB,EAAS,UAAU,OAAO,OAAA,CAAA,CACrE,CAAA,EACF,SAGC,MAAA,CACC,SAAA,CAAApB,EAAAA,IAAC,QAAA,CAAM,UAAU,+CAA+C,SAAA,oBAEhE,EACAA,EAAAA,IAAC,QAAA,CACC,KAAK,OACL,UAAW,GACX,YAAY,kCACZ,MAAOoB,EAAS,YAChB,SAAWjB,GAAMkB,EAAY,CAAE,GAAGD,EAAU,YAAajB,EAAE,OAAO,MAAO,EACzE,UAAU,8GAAA,CAAA,CACZ,EACF,SAGC,MAAA,CACC,SAAA,CAAAH,EAAAA,IAAC,QAAA,CAAM,UAAU,+CAA+C,SAAA,4BAEhE,EACAA,EAAAA,IAAC,MAAA,CAAI,UAAU,iBACZ,SAAAoB,EAAS,QAAQ,IAAI,CAACgC,EAAKxD,IAC1BG,OAAC,MAAA,CAAY,UAAU,0BACrB,SAAA,CAAAC,EAAAA,IAAC,QAAA,CACC,KAAK,OACL,YAAY,cACZ,UAAW,GACX,MAAOoD,EAAI,KACX,SAAWjD,GAAMyD,EAAahE,EAAG,CAAE,KAAMO,EAAE,OAAO,MAAO,EACzD,UAAU,yEAAA,CAAA,EAEXiD,EAAI,OAAS,OACZpD,EAAAA,IAAC,QAAA,CACC,KAAK,MACL,YAAY,MACZ,MAAOoD,EAAI,IACX,SAAWjD,GAAMyD,EAAahE,EAAG,CAAE,IAAKO,EAAE,OAAO,MAAO,EACxD,UAAU,yEAAA,CAAA,EAGbiD,EAAI,OAAS,gBACZpD,EAAAA,IAAC,QAAA,CACC,KAAK,MACL,YAAY,QACZ,MAAOoD,EAAI,MACX,SAAWjD,GAAMyD,EAAahE,EAAG,CAAE,MAAOO,EAAE,OAAO,MAAO,EAC1D,UAAU,yEAAA,CAAA,EAGdH,EAAAA,IAAC,OAAA,CAAK,UAAU,6BAA8B,WAAI,KAAK,EACvDA,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,QAAS,IAAM+D,EAAanE,CAAC,EAC7B,UAAU,kDAEV,SAAAI,EAAAA,IAACuB,EAAA,CAAU,UAAU,SAAA,CAAU,CAAA,CAAA,CACjC,GAlCQ3B,CAmCV,CACD,EACH,EACCwB,EAAS,QAAQ,OAAS,GACzBrB,EAAAA,KAAC,MAAA,CAAI,UAAU,aACb,SAAA,CAAAC,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,QAAS,IAAM0D,EAAU,aAAa,EACtC,UAAU,iEACX,SAAA,eAAA,CAAA,EAGD1D,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,QAAS,IAAM0D,EAAU,KAAK,EAC9B,UAAU,iEACX,SAAA,cAAA,CAAA,EAGD1D,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,QAAS,IAAM0D,EAAU,cAAc,EACvC,UAAU,iEACX,SAAA,eAAA,CAAA,CAED,CAAA,CACF,CAAA,EAEJ,EAGA3D,EAAAA,KAAC,MAAA,CAAI,UAAU,kBACb,SAAA,CAAAC,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,QAASkB,EACT,UAAU,uGACX,SAAA,QAAA,CAAA,EAGDlB,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,UAAU,2HACX,SAAA,yBAAA,CAAA,CAED,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,CAAA,CACF,CAAA,CAGN,CAGA,SAASwD,GAAqB,CAAE,SAAAR,EAAU,QAAA9B,GAAwD,CAChG,KAAM,CAACkD,EAAcC,CAAe,EAAInG,EAAAA,SAAmB,CAAC,OAAQ,QAAS,KAAK,CAAC,EAE7EoG,EAAkBC,GACfA,EAAK,QAAQ,iBAAkB,CAACP,EAAG,IAAM,CAC9C,MAAMQ,EAAM,SAAS,CAAC,EAAI,EAC1B,OAAOJ,EAAaI,CAAG,GAAK,IAAI,CAAC,GACnC,CAAC,EAGH,OACExE,EAAAA,IAACM,EAAO,IAAP,CACC,QAAS,CAAE,QAAS,CAAA,EACpB,QAAS,CAAE,QAAS,CAAA,EACpB,KAAM,CAAE,QAAS,CAAA,EACjB,UAAU,uFACV,QAASY,EAET,SAAAnB,EAAAA,KAACO,EAAO,IAAP,CACC,QAAS,CAAE,MAAO,IAAM,QAAS,CAAA,EACjC,QAAS,CAAE,MAAO,EAAG,QAAS,CAAA,EAC9B,KAAM,CAAE,MAAO,IAAM,QAAS,CAAA,EAC9B,UAAU,wFACV,QAAUH,GAAMA,EAAE,gBAAA,EAElB,SAAA,CAAAJ,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,wBAAwB,SAAA,mBAAgB,EACtDA,EAAAA,IAAC,SAAA,CAAO,QAASkB,EAAS,UAAU,kCAClC,SAAAlB,EAAAA,IAACuB,EAAA,CAAU,UAAU,SAAA,CAAU,CAAA,CACjC,CAAA,EACF,EAGAxB,EAAAA,KAAC,MAAA,CACC,UAAU,oCACV,MAAO,CACL,gBACE,uIAAA,EAGJ,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,oDACZ,SAAA,CAAAiD,EAAS,cAAgB,QACxBhD,EAAAA,IAAC,MAAA,CAAI,UAAU,4BACZ,SAAAsE,EAAetB,EAAS,gBAAkB,EAAE,CAAA,CAC/C,EAEDA,EAAS,cAAgB,SACxBhD,EAAAA,IAAC,MAAA,CAAI,UAAU,qEACb,SAAAA,EAAAA,IAACkD,EAAA,CAAU,UAAU,uBAAA,CAAwB,CAAA,CAC/C,QAED,MAAA,CAAI,UAAU,yCACZ,SAAAoB,EAAetB,EAAS,SAAS,EACpC,EACCA,EAAS,aACRhD,EAAAA,IAAC,OAAI,UAAU,6BAA8B,WAAS,YAAY,QAEnE,MAAA,CAAI,UAAU,wCACZ,SAAA,IAAI,OAAO,mBAAmB,CAAA,EAAI,CAAE,KAAM,UAAW,OAAQ,SAAA,CAAW,CAAA,CAC3E,CAAA,EACF,EACCgD,EAAS,QAAQ,OAAS,SACxB,MAAA,CAAI,UAAU,8EACZ,SAAAA,EAAS,QAAQ,IAAI,CAACI,EAAKxD,UACzB,MAAA,CAAY,UAAU,0CACpB,SAAAwD,EAAI,MADGxD,CAEV,CACD,CAAA,CACH,CAAA,CAAA,CAAA,EAKJG,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,oCAAoC,SAAA,yBAAsB,EACvE,CAAC,EAAG,EAAG,CAAC,EAAE,IAAKyE,GACd1E,EAAAA,KAAC,MAAA,CAAc,UAAU,0BACvB,SAAA,CAAAC,MAAC,OAAA,CAAK,UAAU,6BAA8B,SAAA,KAAKyE,CAAG,KAAK,EAC3DzE,EAAAA,IAAC,QAAA,CACC,KAAK,OACL,MAAOoE,EAAaK,EAAM,CAAC,GAAK,GAChC,SAAWtE,GAAM,CACf,MAAMuE,EAAY,CAAC,GAAGN,CAAY,EAClCM,EAAUD,EAAM,CAAC,EAAItE,EAAE,OAAO,MAC9BkE,EAAgBK,CAAS,CAC3B,EACA,YAAa,sBAAsBD,CAAG,GACtC,UAAU,yEAAA,CAAA,CACZ,CAAA,EAZQA,CAaV,CACD,CAAA,EACH,EAEAzE,EAAAA,IAAC,SAAA,CACC,QAASkB,EACT,UAAU,4GACX,SAAA,OAAA,CAAA,CAED,CAAA,CAAA,CACF,CAAA,CAGN,CCjrBA,MAAMe,GAA4B,CAChC,CACE,GAAI,EACJ,KAAM,qBACN,SAAU,UACV,UAAW,oDACX,YAAa,IAAA,EAEf,CACE,GAAI,EACJ,KAAM,uBACN,SAAU,UACV,UAAW,gEACX,YAAa,GAAA,EAEf,CACE,GAAI,EACJ,KAAM,oBACN,SAAU,iBACV,UAAW,qCACX,YAAa,IAAA,CAEjB,EAEM0C,GAA0B,CAC9B,CACE,GAAI,EACJ,KAAM,wBACN,MAAO,MACP,YAAa,iCAAA,EAEf,CAAE,GAAI,EAAG,KAAM,mBAAoB,MAAO,KAAM,YAAa,+BAAA,EAC7D,CAAE,GAAI,EAAG,KAAM,uBAAwB,MAAO,KAAM,YAAa,oBAAA,EACjE,CAAE,GAAI,EAAG,KAAM,kBAAmB,MAAO,IAAK,YAAa,uBAAA,EAC3D,CAAE,GAAI,EAAG,KAAM,iBAAkB,MAAO,IAAK,YAAa,4BAAA,CAC5D,EAEMC,GAAkC,CACtC,CACE,GAAI,EACJ,cAAe,qBACf,WAAY,IACZ,KAAM,IACN,UAAW,IACX,KAAM,IACN,OAAQ,GACR,QAAS,uBACT,OAAQ,WAAA,EAEV,CACE,GAAI,EACJ,cAAe,uBACf,WAAY,KACZ,KAAM,KACN,UAAW,KACX,KAAM,IACN,OAAQ,GACR,QAAS,uBACT,OAAQ,WAAA,EAEV,CACE,GAAI,EACJ,cAAe,oBACf,WAAY,IACZ,KAAM,KACN,UAAW,KACX,KAAM,EACN,OAAQ,IACR,QAAS,uBACT,OAAQ,aAAA,EAEV,CACE,GAAI,EACJ,cAAe,oBACf,WAAY,IACZ,KAAM,EACN,UAAW,EACX,KAAM,EACN,OAAQ,EACR,QAAS,uBACT,OAAQ,WAAA,CAEZ,EAEA,SAAwBC,IAAoB,CAC1C,KAAM,CAACvC,EAAiBC,CAAkB,EAAIrE,EAAAA,SAAS,EAAK,EACtD,CAAC4G,EAASC,CAAU,EAAI7G,EAAAA,SAA6B0G,EAAW,EAEhEI,EAAYF,EAAQ,OAAO,CAACG,EAAKC,IAAMD,EAAMC,EAAE,KAAM,CAAC,EACtDC,EAAiBL,EAAQ,OAAO,CAACG,EAAKC,IAAMD,EAAMC,EAAE,UAAW,CAAC,EAChEE,EAAYN,EAAQ,OAAO,CAACG,EAAKC,IAAMD,EAAMC,EAAE,KAAM,CAAC,EAE5D,OACEnF,EAAAA,KAAC,MAAA,CAAI,UAAU,YAEb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,kEACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,wBAAwB,SAAA,sBAAmB,EACzDA,EAAAA,IAAC,IAAA,CAAE,UAAU,wBAAwB,SAAA,8CAAA,CAA4C,CAAA,EACnF,EACAD,EAAAA,KAAC,SAAA,CACC,QAAS,IAAMwC,EAAmB,EAAI,EACtC,UAAU,gIAEV,SAAA,CAAAvC,EAAAA,IAACvC,EAAA,CAAc,UAAU,SAAA,CAAU,EAAE,eAAA,CAAA,CAAA,CAEvC,EACF,EAGAsC,EAAAA,KAAC,MAAA,CAAI,UAAU,wCACb,SAAA,CAAAC,EAAAA,IAACqF,EAAA,CACC,MAAM,mBACN,MAAOP,EAAQ,OAAO,SAAA,EACtB,SAAS,aACT,KAAMrH,CAAA,CAAA,EAERuC,EAAAA,IAACqF,EAAA,CACC,MAAM,gBACN,MAAOL,EAAU,eAAA,EACjB,SAAU,IAAKG,EAAiBH,EAAa,KAAK,QAAQ,CAAC,CAAC,cAC5D,KAAM1B,CAAA,CAAA,EAERtD,EAAAA,IAACqF,EAAA,CACC,MAAM,YACN,MAAOF,EAAe,eAAA,EACtB,SAAU,IAAKC,EAAYD,EAAkB,KAAK,QAAQ,CAAC,CAAC,SAC5D,KAAMvH,CAAA,CAAA,EAERoC,EAAAA,IAACqF,EAAA,CACC,MAAM,OACN,MAAOD,EAAU,eAAA,EACjB,SAAS,aACT,KAAME,EAAA,CAAA,CACR,EACF,EAGAvF,EAAAA,KAAC,MAAA,CAAI,UAAU,mFACb,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAI,UAAU,8BACb,SAAAA,EAAAA,IAAC,MAAG,UAAU,gBAAgB,6BAAiB,CAAA,CACjD,QACC,MAAA,CAAI,UAAU,kBACb,SAAAD,EAAAA,KAAC,QAAA,CAAM,UAAU,SACf,SAAA,CAAAC,MAAC,QAAA,CACC,SAAAD,EAAAA,KAAC,KAAA,CAAG,UAAU,0BACZ,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,kDAAkD,SAAA,WAAQ,EACxEA,EAAAA,IAAC,KAAA,CAAG,UAAU,kDAAkD,SAAA,aAAU,EAC1EA,EAAAA,IAAC,KAAA,CAAG,UAAU,kDAAkD,SAAA,WAAQ,EACxEA,EAAAA,IAAC,KAAA,CAAG,UAAU,kDAAkD,SAAA,SAAM,EACtEA,EAAAA,IAAC,KAAA,CAAG,UAAU,kDAAkD,SAAA,SAAA,CAAO,CAAA,CAAA,CACzE,CAAA,CACF,EACAA,EAAAA,IAAC,QAAA,CACE,SAAA8E,EAAQ,IAAKS,GAAc,CAC1B,MAAMC,EACJD,EAAU,KAAO,GACXA,EAAU,UAAYA,EAAU,KAAQ,KAAK,QAAQ,CAAC,EACxD,IACAE,EACJF,EAAU,UAAY,GAChBA,EAAU,KAAOA,EAAU,UAAa,KAAK,QAAQ,CAAC,EACxD,IAEN,OACExF,EAAAA,KAAC,KAAA,CAEC,UAAU,kEAEV,SAAA,CAAAC,EAAAA,IAAC,MAAG,UAAU,MACZ,SAAAD,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAC,EAAAA,IAAC,OAAI,UAAU,iCACb,eAAC0F,EAAA,CAAiB,UAAU,yBAAyB,CAAA,CACvD,EACA1F,EAAAA,IAAC,OAAA,CAAK,UAAU,cAAe,WAAU,aAAA,CAAc,CAAA,CAAA,CACzD,CAAA,CACF,QACC,KAAA,CAAG,UAAU,MACZ,SAAAD,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAC,EAAAA,IAAC2F,EAAA,CAAc,UAAU,uBAAA,CAAwB,EACjD3F,EAAAA,IAAC,OAAA,CAAM,SAAAuF,EAAU,WAAW,gBAAe,CAAE,CAAA,CAAA,CAC/C,CAAA,CACF,QACC,KAAA,CAAG,UAAU,MACZ,SAAAxF,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,kCACb,SAAA,CAAAA,EAAAA,KAAC,OAAA,CAAK,UAAU,gBAAgB,SAAA,CAAA,QACxB,UACL,OAAA,CAAK,UAAU,aAAc,SAAAwF,EAAU,KAAK,gBAAe,CAAE,CAAA,EAChE,EACAxF,EAAAA,KAAC,OAAA,CAAK,UAAU,gBAAgB,SAAA,CAAA,cACnBA,EAAAA,KAAC,OAAA,CAAK,UAAU,iBAAkB,SAAA,CAAAyF,EAAa,GAAA,CAAA,CAAC,CAAA,EAC7D,EACAzF,EAAAA,KAAC,OAAA,CAAK,UAAU,gBAAgB,SAAA,CAAA,SACxBA,EAAAA,KAAC,OAAA,CAAK,UAAU,gBAAiB,SAAA,CAAA0F,EAAS,GAAA,CAAA,CAAC,CAAA,CAAA,CACnD,CAAA,EACF,EACA1F,EAAAA,KAAC,MAAA,CAAI,UAAU,mBACb,SAAA,CAAAC,EAAAA,IAAC,MAAA,CACC,UAAU,4BACV,MAAO,CAAE,MAAO,GAAIuF,EAAU,KAAOA,EAAU,WAAc,GAAG,GAAA,CAAI,CAAA,EAEtEvF,EAAAA,IAAC,MAAA,CACC,UAAU,+BACV,MAAO,CACL,MAAO,GAAIuF,EAAU,UAAYA,EAAU,WAAc,IAAOA,EAAU,KAAOA,EAAU,WAAc,GAAG,GAAA,CAC9G,CAAA,CACF,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CACF,EACAvF,EAAAA,IAAC,MAAG,UAAU,MACZ,eAAC4F,GAAA,CAAY,OAAQL,EAAU,MAAA,CAAQ,CAAA,CACzC,EACAvF,EAAAA,IAAC,KAAA,CAAG,UAAU,4BACX,SAAA,IAAI,KAAKuF,EAAU,OAAO,EAAE,eAAA,CAAe,CAC9C,CAAA,CAAA,EAlDKA,EAAU,EAAA,CAqDrB,CAAC,CAAA,CACH,CAAA,CAAA,CACF,CAAA,CACF,CAAA,EACF,EAGAvF,EAAAA,IAACc,GACE,SAAAwB,GACCtC,EAAAA,IAAC6F,GAAA,CACC,UAAW5D,GACX,SAAU0C,GACV,QAAS,IAAMpC,EAAmB,EAAK,EACvC,SAAWgD,GAAc,CACvBR,EAAYpF,GAAS,CAAC,CAAE,GAAG4F,EAAW,GAAI5F,EAAK,OAAS,GAAK,GAAGA,CAAI,CAAC,EACrE4C,EAAmB,EAAK,CAC1B,CAAA,CAAA,CACF,CAEJ,CAAA,EACF,CAEJ,CAEA,SAAS8C,EAAS,CAChB,MAAApI,EACA,MAAA6I,EACA,SAAAC,EACA,KAAMC,CACR,EAKG,CACD,OACEjG,EAAAA,KAAC,MAAA,CAAI,UAAU,uEACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,+BACb,SAAA,CAAAC,EAAAA,IAAC,OAAI,UAAU,iCACb,eAACgG,EAAA,CAAK,UAAU,yBAAyB,CAAA,CAC3C,EACAhG,EAAAA,IAAC,OAAA,CAAK,UAAU,wBAAyB,SAAA/C,CAAA,CAAM,CAAA,EACjD,EACA+C,EAAAA,IAAC,MAAA,CAAI,UAAU,0BAA2B,SAAA8F,EAAM,EAChD9F,EAAAA,IAAC,MAAA,CAAI,UAAU,wBAAyB,SAAA+F,CAAA,CAAS,CAAA,EACnD,CAEJ,CAEA,SAASH,GAAY,CAAE,OAAAxF,GAAkD,CA4BvE,MAAM6F,EA3BS,CACb,UAAW,CACT,MAAO,YACP,MAAO,iBACP,GAAI,kBACJ,KAAMrI,CAAA,EAER,YAAa,CACX,MAAO,cACP,MAAO,gBACP,GAAI,iBACJ,KAAMC,CAAA,EAER,UAAW,CACT,MAAO,YACP,MAAO,kBACP,GAAI,mBACJ,KAAMqI,EAAA,EAER,OAAQ,CACN,MAAO,SACP,MAAO,eACP,GAAI,gBACJ,KAAMC,EAAA,CACR,EAGiB/F,CAAM,EACnB4F,EAAOC,EAAI,KAEjB,OACElG,EAAAA,KAAC,OAAA,CACC,UAAWM,EACT,gFACA4F,EAAI,GACJA,EAAI,KAAA,EAGN,SAAA,CAAAjG,EAAAA,IAACgG,EAAA,CAAK,UAAU,aAAA,CAAc,EAC7BC,EAAI,KAAA,CAAA,CAAA,CAGX,CAGA,SAASJ,GAAqB,CAC5B,UAAAzD,EACA,SAAAgE,EACA,QAAAlF,EACA,SAAAuC,CACF,EAKG,CACD,KAAM,CAAC4C,EAAMC,CAAO,EAAIpI,EAAAA,SAAS,CAAC,EAC5B,CAACqI,EAAkBC,CAAmB,EAAItI,EAAAA,SAA0B,IAAI,EACxE,CAACuI,EAAkBC,CAAmB,EAAIxI,EAAAA,SAAmB,CAAA,CAAE,EAC/D,CAACyI,EAAWC,CAAY,EAAI1I,EAAAA,SAAiC,CAAA,CAAE,EAC/D,CAAC2I,EAAcC,CAAe,EAAI5I,EAAAA,SAA8B,KAAK,EACrE,CAAC6I,EAAeC,CAAgB,EAAI9I,EAAAA,SAAS,EAAE,EAC/C,CAAC+I,EAAeC,CAAgB,EAAIhJ,EAAAA,SAAS,EAAE,EAE/CiJ,EAAkBf,EACrB,OAAQgB,GAAMX,EAAiB,SAASW,EAAE,EAAE,CAAC,EAC7C,OAAO,CAACnC,EAAKmC,IAAMnC,EAAMmC,EAAE,MAAO,CAAC,EAEhC9F,EAAe,IAAM,CACpBiF,GAEL9C,EAAS,CACP,cAAe8C,EAAiB,KAChC,WAAYY,EACZ,KAAM,EACN,UAAW,EACX,KAAM,EACN,OAAQ,EACR,QACEN,IAAiB,MAAQ,IAAI,KAAA,EAAO,YAAA,EAAgB,GAAGE,CAAa,IAAIE,CAAa,OACvF,OAAQJ,IAAiB,MAAQ,cAAgB,WAAA,CAClD,CACH,EAEMQ,EAAiB3H,GAAe,CACpCgH,EAAqB/G,GACnBA,EAAK,SAASD,CAAE,EAAIC,EAAK,OAAQyH,GAAMA,IAAM1H,CAAE,EAAI,CAAC,GAAGC,EAAMD,CAAE,CAAA,CAEnE,EAEA,OACEM,EAAAA,IAACM,EAAO,IAAP,CACC,QAAS,CAAE,QAAS,CAAA,EACpB,QAAS,CAAE,QAAS,CAAA,EACpB,KAAM,CAAE,QAAS,CAAA,EACjB,UAAU,uGACV,QAASY,EAET,SAAAnB,EAAAA,KAACO,EAAO,IAAP,CACC,QAAS,CAAE,MAAO,IAAM,QAAS,CAAA,EACjC,QAAS,CAAE,MAAO,EAAG,QAAS,CAAA,EAC9B,KAAM,CAAE,MAAO,IAAM,QAAS,CAAA,EAC9B,UAAU,8FACV,QAAUH,GAAMA,EAAE,gBAAA,EAGlB,SAAA,CAAAJ,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,wBAAwB,SAAA,mBAAgB,EACtDD,EAAAA,KAAC,IAAA,CAAE,UAAU,wBAAwB,SAAA,CAAA,QAAMsG,EAAK,OAAA,CAAA,CAAK,CAAA,EACvD,EACArG,EAAAA,IAAC,SAAA,CAAO,QAASkB,EAAS,UAAU,kCAClC,SAAAlB,EAAAA,IAACuB,EAAA,CAAU,UAAU,SAAA,CAAU,CAAA,CACjC,CAAA,EACF,EAGAvB,EAAAA,IAAC,MAAA,CAAI,UAAU,kBACZ,SAAA,CAAC,EAAG,EAAG,CAAC,EAAE,IAAKoH,GACdpH,EAAAA,IAAC,MAAA,CAEC,UAAWK,EACT,4CACA+G,GAAKf,EAAO,eAAiB,aAAA,CAC/B,EAJKe,CAAA,CAMR,EACH,EAGCf,IAAS,GACRtG,OAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,cAAc,SAAA,kBAAe,EAC3CD,EAAAA,KAAC,MAAA,CAAI,UAAU,gBACb,SAAA,CAAAC,EAAAA,IAACE,EAAA,CAAoB,UAAU,gEAAA,CAAiE,EAChGF,EAAAA,IAAC,QAAA,CACC,KAAK,OACL,YAAY,sBACZ,UAAU,oHAAA,CAAA,CACZ,EACF,QACC,MAAA,CAAI,UAAU,iEACZ,SAAAoC,EAAU,IAAKY,GACdjD,EAAAA,KAAC,SAAA,CAEC,QAAS,IAAMyG,EAAoBxD,CAAQ,EAC3C,UAAW3C,EACT,kDACAkG,GAAA,YAAAA,EAAkB,MAAOvD,EAAS,GAC9B,mCACA,oDAAA,EAGN,SAAA,CAAAjD,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAC,EAAAA,IAAC,OAAA,CAAK,UAAU,cAAe,SAAAgD,EAAS,KAAK,EAC7ChD,EAAAA,IAAC,OAAA,CAAK,UAAU,uDACb,WAAS,QAAA,CACZ,CAAA,EACF,EACAA,EAAAA,IAAC,IAAA,CAAE,UAAU,qCAAsC,WAAS,UAAU,EACtED,EAAAA,KAAC,IAAA,CAAE,UAAU,6BAA6B,SAAA,CAAA,QAAMiD,EAAS,YAAY,QAAA,CAAA,CAAM,CAAA,CAAA,EAhBtEA,EAAS,EAAA,CAkBjB,CAAA,CACH,CAAA,EACF,EAIDqD,IAAS,GACRtG,OAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,cAAc,SAAA,kBAAe,EAC3CD,EAAAA,KAAC,OAAA,CAAK,UAAU,wBACb,SAAA,CAAAoH,EAAgB,eAAA,EAAiB,sBAAA,CAAA,CACpC,CAAA,EACF,QACC,MAAA,CAAI,UAAU,qCACZ,SAAAf,EAAS,IAAKkB,GACbvH,EAAAA,KAAC,SAAA,CAEC,QAAS,IAAMsH,EAAcC,EAAQ,EAAE,EACvC,UAAWjH,EACT,gFACAoG,EAAiB,SAASa,EAAQ,EAAE,EAChC,mCACA,oDAAA,EAGN,SAAA,CAAAtH,EAAAA,IAAC,MAAA,CACC,UAAWK,EACT,8EACAoG,EAAiB,SAASa,EAAQ,EAAE,EAChC,gCACA,iBAAA,EAGL,SAAAb,EAAiB,SAASa,EAAQ,EAAE,GACnCtH,EAAAA,IAACpC,EAAA,CAAgB,UAAU,oBAAA,CAAqB,CAAA,CAAA,EAGpDmC,EAAAA,KAAC,MAAA,CAAI,UAAU,SACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAC,EAAAA,IAACuH,GAAA,CAAQ,UAAU,uBAAA,CAAwB,EAC3CvH,EAAAA,IAAC,OAAA,CAAK,UAAU,cAAe,WAAQ,IAAA,CAAK,CAAA,EAC9C,EACAA,EAAAA,IAAC,IAAA,CAAE,UAAU,wBAAyB,WAAQ,WAAA,CAAY,CAAA,EAC5D,EACAD,EAAAA,KAAC,MAAA,CAAI,UAAU,aACb,SAAA,CAAAC,MAAC,OAAI,UAAU,cAAe,SAAAsH,EAAQ,MAAM,iBAAiB,EAC7DtH,EAAAA,IAAC,MAAA,CAAI,UAAU,wBAAwB,SAAA,UAAA,CAAQ,CAAA,CAAA,CACjD,CAAA,CAAA,EA/BKsH,EAAQ,EAAA,CAiChB,CAAA,CACH,CAAA,EACF,EAIDjB,IAAS,GACRtG,OAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,mBAAmB,SAAA,qBAAkB,EACnDD,EAAAA,KAAC,MAAA,CAAI,UAAU,mCACb,SAAA,CAAAC,EAAAA,IAAC,IAAA,CAAE,UAAU,6BAA6B,SAAA,WAAQ,EAClDA,EAAAA,IAAC,IAAA,CAAE,UAAU,UACV,SAAAuG,GAAA,YAAAA,EAAkB,UAAU,QAAQ,iBAAkB,CAACvC,EAAGb,IAClDwD,EAAUxD,CAAC,GAAK,aAAaA,CAAC,IACtC,CACH,CAAA,EACF,EACAnD,EAAAA,IAAC,MAAA,CAAI,UAAU,yBACZ,SAAA,CAAC,EAAG,EAAG,CAAC,EAAE,IAAKyE,UACb,MAAA,CACC,SAAA,CAAAzE,MAAC,QAAA,CAAM,UAAU,mCAAoC,SAAA,KAAKyE,CAAG,KAAK,EAClEzE,EAAAA,IAAC,QAAA,CACC,KAAK,OACL,YAAa,YAAYyE,CAAG,GAC5B,MAAOkC,EAAUlC,CAAG,GAAK,GACzB,SAAWtE,GAAMyG,EAAa,CAAE,GAAGD,EAAW,CAAClC,CAAG,EAAGtE,EAAE,OAAO,MAAO,EACrE,UAAU,yEAAA,CAAA,CACZ,CAAA,EARQsE,CASV,CACD,CAAA,CACH,CAAA,EACF,SAEC,MAAA,CACC,SAAA,CAAAzE,EAAAA,IAAC,KAAA,CAAG,UAAU,mBAAmB,SAAA,WAAQ,EACzCD,EAAAA,KAAC,MAAA,CAAI,UAAU,aACb,SAAA,CAAAA,EAAAA,KAAC,SAAA,CACC,QAAS,IAAM+G,EAAgB,KAAK,EACpC,UAAWzG,EACT,iDACAwG,IAAiB,MACb,mCACA,uCAAA,EAGN,SAAA,CAAA7G,EAAAA,IAACsD,EAAA,CAAkB,UAAU,6BAAA,CAA8B,EAC3DtD,EAAAA,IAAC,MAAA,CAAI,UAAU,cAAc,SAAA,WAAQ,EACrCA,EAAAA,IAAC,MAAA,CAAI,UAAU,wBAAwB,SAAA,mBAAA,CAAiB,CAAA,CAAA,CAAA,EAE1DD,EAAAA,KAAC,SAAA,CACC,QAAS,IAAM+G,EAAgB,WAAW,EAC1C,UAAWzG,EACT,iDACAwG,IAAiB,YACb,mCACA,uCAAA,EAGN,SAAA,CAAA7G,EAAAA,IAACkG,GAAA,CAAa,UAAU,6BAAA,CAA8B,EACtDlG,EAAAA,IAAC,MAAA,CAAI,UAAU,cAAc,SAAA,WAAQ,EACrCA,EAAAA,IAAC,MAAA,CAAI,UAAU,wBAAwB,SAAA,kBAAA,CAAgB,CAAA,CAAA,CAAA,CACzD,EACF,EACC6G,IAAiB,aAChB9G,OAAC,MAAA,CAAI,UAAU,8BACb,SAAA,CAAAC,EAAAA,IAAC,QAAA,CACC,KAAK,OACL,MAAO+G,EACP,SAAW5G,GAAM6G,EAAiB7G,EAAE,OAAO,KAAK,EAChD,UAAU,0DAAA,CAAA,EAEZH,EAAAA,IAAC,QAAA,CACC,KAAK,OACL,MAAOiH,EACP,SAAW9G,GAAM+G,EAAiB/G,EAAE,OAAO,KAAK,EAChD,UAAU,0DAAA,CAAA,CACZ,CAAA,CACF,CAAA,EAEJ,EAGAJ,EAAAA,KAAC,MAAA,CAAI,UAAU,8BACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,mBAAmB,SAAA,UAAO,EACxCD,EAAAA,KAAC,MAAA,CAAI,UAAU,oBACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,uBACb,SAAA,CAAAC,EAAAA,IAAC,OAAA,CAAK,UAAU,gBAAgB,SAAA,WAAQ,EACxCA,EAAAA,IAAC,OAAA,CAAM,SAAAuG,GAAA,YAAAA,EAAkB,IAAA,CAAK,CAAA,EAChC,EACAxG,EAAAA,KAAC,MAAA,CAAI,UAAU,uBACb,SAAA,CAAAC,EAAAA,IAAC,OAAA,CAAK,UAAU,gBAAgB,SAAA,aAAU,EAC1CA,EAAAA,IAAC,OAAA,CAAM,SAAAmH,EAAgB,eAAA,CAAe,CAAE,CAAA,EAC1C,EACApH,EAAAA,KAAC,MAAA,CAAI,UAAU,uBACb,SAAA,CAAAC,EAAAA,IAAC,OAAA,CAAK,UAAU,gBAAgB,SAAA,WAAQ,EACxCA,EAAAA,IAAC,QACE,SAAA6G,IAAiB,MACd,mBACA,GAAGE,CAAa,IAAIE,CAAa,EAAA,CACvC,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,EACF,EAIFlH,EAAAA,KAAC,MAAA,CAAI,UAAU,kBACZ,SAAA,CAAAsG,EAAO,GACNrG,EAAAA,IAAC,SAAA,CACC,QAAS,IAAMsG,EAASc,GAAMA,EAAI,CAAC,EACnC,UAAU,gGACX,SAAA,MAAA,CAAA,EAIHpH,EAAAA,IAAC,SAAA,CACC,QAASkB,EACT,UAAU,gGACX,SAAA,QAAA,CAAA,EAGDlB,EAAAA,IAAC,MAAA,CAAI,UAAU,QAAA,CAAS,EACvBqG,EAAO,EACNrG,EAAAA,IAAC,SAAA,CACC,QAAS,IAAMsG,EAASc,GAAMA,EAAI,CAAC,EACnC,SACGf,IAAS,GAAK,CAACE,GAAsBF,IAAS,GAAKI,EAAiB,SAAW,EAElF,UAAU,wIACX,SAAA,UAAA,CAAA,EAID1G,EAAAA,KAAC,SAAA,CACC,QAASuB,EACT,UAAU,4IAEV,SAAA,CAAAtB,EAAAA,IAACsD,EAAA,CAAkB,UAAU,SAAA,CAAU,EACtCuD,IAAiB,MAAQ,iBAAmB,oBAAA,CAAA,CAAA,CAC/C,CAAA,CAEJ,CAAA,CAAA,CAAA,CACF,CAAA,CAGN,CC7nBA,MAAMW,GAA0B,CAC9B,CACE,GAAI,EACJ,aAAc,WACd,cAAe,cACf,UAAW,WACX,aAAc,WACd,cAAe,qBACf,QAAS,mDACT,OAAQ,OACR,QAAS,uBACT,aAAc,uBACd,QAAS,uBACT,cAAe,IAAA,EAEjB,CACE,GAAI,EACJ,aAAc,aACd,cAAe,cACf,UAAW,WACX,aAAc,WACd,cAAe,uBACf,QAAS,+DACT,OAAQ,YACR,QAAS,uBACT,aAAc,uBACd,QAAS,KACT,cAAe,IAAA,EAEjB,CACE,GAAI,EACJ,aAAc,WACd,cAAe,cACf,UAAW,UACX,aAAc,OACd,cAAe,KACf,QAAS,+BACT,OAAQ,YACR,QAAS,uBACT,aAAc,KACd,QAAS,KACT,cAAe,IAAA,EAEjB,CACE,GAAI,EACJ,aAAc,gBACd,cAAe,gBACf,UAAW,WACX,aAAc,WACd,cAAe,oBACf,QAAS,sCACT,OAAQ,OACR,QAAS,uBACT,aAAc,KACd,QAAS,KACT,cAAe,IAAA,EAEjB,CACE,GAAI,EACJ,aAAc,eACd,cAAe,gBACf,UAAW,WACX,aAAc,WACd,cAAe,oBACf,QAAS,4CACT,OAAQ,SACR,QAAS,uBACT,aAAc,KACd,QAAS,KACT,cAAe,yCAAA,EAEjB,CACE,GAAI,EACJ,aAAc,gBACd,cAAe,eACf,UAAW,WACX,aAAc,QACd,cAAe,KACf,QAAS,sBACT,OAAQ,OACR,QAAS,uBACT,aAAc,uBACd,QAAS,uBACT,cAAe,IAAA,CAEnB,EAEM7J,EAAe,CACnB,QAAS,CAAE,MAAO,UAAW,MAAO,gBAAiB,GAAI,iBAAkB,KAAME,CAAA,EACjF,KAAM,CAAE,MAAO,OAAQ,MAAO,gBAAiB,GAAI,iBAAkB,KAAM4J,EAAA,EAC3E,UAAW,CACT,MAAO,YACP,MAAO,iBACP,GAAI,kBACJ,KAAM7J,CAAA,EAER,KAAM,CAAE,MAAO,OAAQ,MAAO,gBAAiB,GAAI,iBAAkB,KAAMyF,EAAA,EAC3E,OAAQ,CACN,MAAO,SACP,MAAO,eACP,GAAI,gBACJ,KAAMqE,EAAA,CAEV,EAEMC,GAAmB,CACvB,SAAUjC,EACV,KAAMkC,EACN,MAAO1E,EACP,MAAOgB,GACP,SAAUwB,CACZ,EAEA,SAAwBmC,IAAmB,CACzC,KAAM,CAACC,CAAQ,EAAI5J,EAAAA,SAAoBsJ,EAAY,EAC7C,CAACrJ,EAAQC,CAAS,EAAIF,EAAAA,SAAS,EAAE,EACjC,CAACG,EAAcC,CAAe,EAAIJ,EAAAA,SAAiB,KAAK,EACxD,CAAC6J,EAAiBC,CAAkB,EAAI9J,EAAAA,SAAiB,KAAK,EAC9D,CAACW,EAAaC,CAAc,EAAIZ,EAAAA,SAAS,CAAC,EAC1C,CAAC+J,EAAaC,CAAc,EAAIhK,EAAAA,SAAS,EAAK,EAC9Ca,EAAW,GAEXoJ,EAAmBL,EAAS,OAAQM,GAAQ,CAChD,MAAMlJ,EACJkJ,EAAI,aAAa,YAAA,EAAc,SAASjK,EAAO,YAAA,CAAa,GAC5DiK,EAAI,cAAc,SAASjK,CAAM,GACjCiK,EAAI,QAAQ,cAAc,SAASjK,EAAO,aAAa,EACnDiB,EAAgBf,IAAiB,OAAS+J,EAAI,SAAW/J,EACzDgK,EAAmBN,IAAoB,OAASK,EAAI,YAAcL,EACxE,OAAO7I,GAAiBE,GAAiBiJ,CAC3C,CAAC,EAEKhJ,EAAa,KAAK,KAAK8I,EAAiB,OAASpJ,CAAQ,EACzDuJ,EAAoBH,EAAiB,OACxCtJ,EAAc,GAAKE,EACpBF,EAAcE,CAAA,EAIVwJ,EAAgBT,EAAS,OACzBU,EAAeV,EAAS,OAAQW,GAAMA,EAAE,YAAc,UAAU,EAAE,OAClEC,EAAoBZ,EAAS,OAAQW,GAAM,CAAC,YAAa,MAAM,EAAE,SAASA,EAAE,MAAM,CAAC,EAAE,OACrFE,EAAeb,EAAS,OAAQW,GAAMA,EAAE,SAAW,MAAM,EAAE,OAC3DG,EAAiBd,EAAS,OAAQW,GAAMA,EAAE,SAAW,QAAQ,EAAE,OAErE,OACE1I,EAAAA,KAAC,MAAA,CAAI,UAAU,YAEb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,wCACb,SAAA,CAAAC,EAAAA,IAAC6I,EAAA,CAAS,MAAM,QAAQ,MAAON,EAAe,QAC7CM,EAAA,CAAS,MAAM,OAAO,MAAOL,EAAc,MAAM,gBAAgB,QACjEK,EAAA,CAAS,MAAM,YAAY,MAAOH,EAAmB,MAAM,iBAAiB,QAC5EG,EAAA,CAAS,MAAM,OAAO,MAAOF,EAAc,MAAM,gBAAgB,QACjEE,EAAA,CAAS,MAAM,SAAS,MAAOD,EAAgB,MAAM,cAAA,CAAe,CAAA,EACvE,EAGA7I,EAAAA,KAAC,MAAA,CAAI,UAAU,kCACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,kBACb,SAAA,CAAAC,EAAAA,IAACE,EAAA,CAAoB,UAAU,gEAAA,CAAiE,EAChGF,EAAAA,IAAC,QAAA,CACC,KAAK,OACL,YAAY,uCACZ,MAAO7B,EACP,SAAWgC,GAAM/B,EAAU+B,EAAE,OAAO,KAAK,EACzC,UAAU,sIAAA,CAAA,CACZ,EACF,EACAJ,EAAAA,KAAC,SAAA,CACC,QAAS,IAAMmI,EAAe,CAACD,CAAW,EAC1C,UAAW5H,EACT,wEACA4H,EACI,qDACA,+EAAA,EAGN,SAAA,CAAAjI,EAAAA,IAAC8I,GAAA,CAAW,UAAU,SAAA,CAAU,EAAE,SAAA,CAAA,CAAA,EAGpC/I,EAAAA,KAAC,SAAA,CACC,QAAS,IAAM,CAEf,EACA,UAAU,sJAEV,SAAA,CAAAC,EAAAA,IAAC+I,GAAA,CAAc,UAAU,SAAA,CAAU,EAAE,SAAA,CAAA,CAAA,CAEvC,EACF,EAGCd,GACClI,EAAAA,KAACO,EAAO,IAAP,CACC,QAAS,CAAE,QAAS,EAAG,OAAQ,CAAA,EAC/B,QAAS,CAAE,QAAS,EAAG,OAAQ,MAAA,EAC/B,KAAM,CAAE,QAAS,EAAG,OAAQ,CAAA,EAC5B,UAAU,2FAEV,SAAA,CAAAP,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAAC,QAAA,CAAM,UAAU,mCAAmC,SAAA,SAAM,EAC1DA,EAAAA,IAAC,MAAA,CAAI,UAAU,aACZ,UAAC,MAAO,UAAW,OAAQ,YAAa,OAAQ,QAAQ,EAAE,IAAKI,UAC9DJ,OAAAA,EAAAA,IAAC,SAAA,CAEC,QAAS,IAAM1B,EAAgB8B,CAAM,EACrC,UAAWC,EACT,mDACAhC,IAAiB+B,EACb,0BACA,6CAAA,EAGL,SAAAA,IAAW,MACR,OACAjB,EAAAxB,EAAayC,CAAmC,IAAhD,YAAAjB,EAAmD,KAAA,EAXlDiB,CAAA,EAaR,CAAA,CACH,CAAA,EACF,SACC,MAAA,CACC,SAAA,CAAAJ,EAAAA,IAAC,QAAA,CAAM,UAAU,mCAAmC,SAAA,YAAS,EAC7DA,EAAAA,IAAC,MAAA,CAAI,UAAU,aACZ,SAAA,CAAC,MAAO,WAAY,SAAS,EAAE,IAAKgJ,GACnChJ,EAAAA,IAAC,SAAA,CAEC,QAAS,IAAMgI,EAAmBgB,CAAG,EACrC,UAAW3I,EACT,mDACA0H,IAAoBiB,EAChB,0BACA,6CAAA,EAGL,SAAAA,IAAQ,MAAQ,MAAQA,IAAQ,WAAa,OAAS,UAAA,EATlDA,CAAA,CAWR,CAAA,CACH,CAAA,CAAA,CACF,CAAA,CAAA,CAAA,EAKJjJ,EAAAA,KAAC,MAAA,CAAI,UAAU,mFACb,SAAA,CAAAC,MAAC,OAAI,UAAU,0BACZ,SAAAsI,EAAkB,IAAKW,GAAY,CAClC,MAAM7I,EAASzC,EAAasL,EAAQ,MAAM,EACpC1I,EAAaH,EAAO,KACpB8I,EAAWvB,GAAiBsB,EAAQ,YAAY,EAEtD,aACG,MAAA,CAAqB,UAAU,8CAC9B,SAAAlJ,EAAAA,KAAC,MAAA,CAAI,UAAU,yBAEb,SAAA,CAAAC,EAAAA,IAAC,MAAA,CACC,UAAWK,EACT,sEACA4I,EAAQ,YAAc,WAClB,gDACA,6CAAA,EAGL,SAAAA,EAAQ,aAAa,CAAC,CAAA,CAAA,EAIzBlJ,EAAAA,KAAC,MAAA,CAAI,UAAU,iBACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,+BACb,SAAA,CAAAC,EAAAA,IAAC,OAAA,CAAK,UAAU,cAAe,SAAAiJ,EAAQ,aAAa,EACpDjJ,EAAAA,IAAC,OAAA,CAAK,UAAU,wBAAyB,WAAQ,cAAc,EAC9DiJ,EAAQ,YAAc,WACrBjJ,EAAAA,IAACsD,GAAkB,UAAU,4BAA4B,MAAM,MAAA,CAAO,EAEtEtD,EAAAA,IAAC4H,EAAA,CACC,UAAU,4BACV,MAAM,UAAA,CAAA,CACR,EAEJ,EAEA7H,EAAAA,KAAC,MAAA,CAAI,UAAU,+BACb,SAAA,CAAAC,EAAAA,IAACkJ,EAAA,CAAS,UAAU,uBAAA,CAAwB,EAC3CD,EAAQ,eACPjJ,EAAAA,IAAC,QAAK,UAAU,+DACb,WAAQ,aAAA,CACX,CAAA,EAEJ,EAEAA,EAAAA,IAAC,IAAA,CAAE,UAAU,qCAAsC,WAAQ,QAAQ,EAElEiJ,EAAQ,eACPjJ,EAAAA,IAAC,KAAE,UAAU,4BAA6B,WAAQ,aAAA,CAAc,CAAA,EAEpE,EAGAD,EAAAA,KAAC,MAAA,CAAI,UAAU,aACb,SAAA,CAAAA,EAAAA,KAAC,OAAA,CACC,UAAWM,EACT,4EACAD,EAAO,GACPA,EAAO,KAAA,EAGT,SAAA,CAAAJ,EAAAA,IAACO,EAAA,CAAW,UAAU,aAAA,CAAc,EACnCH,EAAO,KAAA,CAAA,CAAA,EAEVJ,EAAAA,IAAC,MAAA,CAAI,UAAU,6BACZ,SAAAiJ,EAAQ,SAAW,IAAI,KAAKA,EAAQ,OAAO,EAAE,eAAA,CAAe,CAC/D,EAGCA,EAAQ,YAAc,YACrBlJ,EAAAA,KAAC,MAAA,CAAI,UAAU,2CACb,SAAA,CAAAC,MAACmJ,GAAY,OAAQ,CAAC,CAACF,EAAQ,QAAS,MAAM,OAAO,QACpDG,EAAA,CAAa,OAAQ,CAAC,CAACH,EAAQ,aAAc,EAC9CjJ,MAACmJ,GAAY,OAAQ,CAAC,CAACF,EAAQ,aAAc,MAAM,YAAY,QAC9DG,EAAA,CAAa,OAAQ,CAAC,CAACH,EAAQ,QAAS,EACzCjJ,MAACmJ,GAAY,OAAQ,CAAC,CAACF,EAAQ,QAAS,MAAM,MAAA,CAAO,CAAA,CAAA,CACvD,CAAA,CAAA,CAEJ,CAAA,EACF,CAAA,EAxEQA,EAAQ,EAyElB,CAEJ,CAAC,CAAA,CACH,EAGAlJ,EAAAA,KAAC,MAAA,CAAI,UAAU,gEACb,SAAA,CAAAA,EAAAA,KAAC,OAAA,CAAK,UAAU,wBAAwB,SAAA,CAAA,YAC5BlB,EAAc,GAAKE,EAAW,EAAE,IACzC,KAAK,IAAIF,EAAcE,EAAUoJ,EAAiB,MAAM,EAAE,OAAKA,EAAiB,MAAA,EACnF,EACApI,EAAAA,KAAC,MAAA,CAAI,UAAU,aACb,SAAA,CAAAC,EAAAA,IAAC,SAAA,CACC,QAAS,IAAMlB,EAAgB6B,GAAM,KAAK,IAAI,EAAGA,EAAI,CAAC,CAAC,EACvD,SAAU9B,IAAgB,EAC1B,UAAU,uFAEV,SAAAmB,EAAAA,IAACY,EAAA,CAAgB,UAAU,SAAA,CAAU,CAAA,CAAA,EAEvCZ,EAAAA,IAAC,SAAA,CACC,QAAS,IAAMlB,EAAgB6B,GAAM,KAAK,IAAItB,EAAYsB,EAAI,CAAC,CAAC,EAChE,SAAU9B,IAAgBQ,EAC1B,UAAU,uFAEV,SAAAW,EAAAA,IAACa,GAAA,CAAiB,UAAU,SAAA,CAAU,CAAA,CAAA,CACxC,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,EACF,CAEJ,CAEA,SAASgI,EAAS,CAChB,MAAAQ,EACA,MAAAvD,EACA,MAAAwD,EAAQ,YACV,EAIG,CACD,OACEvJ,EAAAA,KAAC,MAAA,CAAI,UAAU,kFACb,SAAA,CAAAC,MAAC,OAAI,UAAWK,EAAG,oBAAqBiJ,CAAK,EAAI,SAAAxD,EAAM,EACvD9F,EAAAA,IAAC,MAAA,CAAI,UAAU,wBAAyB,SAAAqJ,CAAA,CAAM,CAAA,EAChD,CAEJ,CAEA,SAASF,EAAY,CAAE,OAAAI,EAAQ,MAAAF,GAA6C,CAC1E,OACErJ,EAAAA,IAAC,MAAA,CACC,UAAWK,EAAG,uBAAwBkJ,EAAS,eAAiB,aAAa,EAC7E,MAAOF,CAAA,CAAA,CAGb,CAEA,SAASD,EAAa,CAAE,OAAAG,GAA+B,CACrD,OAAOvJ,EAAAA,IAAC,OAAI,UAAWK,EAAG,YAAakJ,EAAS,eAAiB,aAAa,EAAG,CACnF,CCzYA,MAAMC,GAAoB,CACxB,CACE,GAAI,WACJ,MAAO,WACP,KAAMlE,GACN,YAAa,uBAAA,EAEf,CACE,GAAI,WACJ,MAAO,WACP,KAAMK,EACN,YAAa,mBAAA,EAEf,CACE,GAAI,YACJ,MAAO,YACP,KAAMD,EACN,YAAa,mBAAA,EAEf,CACE,GAAI,YACJ,MAAO,YACP,KAAMjI,EACN,YAAa,gBAAA,EAEf,CACE,GAAI,WACJ,MAAO,WACP,KAAMI,EACN,YAAa,iBAAA,CAEjB,EAGM4L,GAAY,CAChB,cAAe,MACf,QAAS,MACT,SAAU,KACV,UAAW,EACX,kBAAmB,EACnB,iBAAkB,EAClB,aAAc,MACd,kBAAmB,MACnB,aAAc,MACd,oBAAqB,EACvB,EAEA,SAAwBC,IAAkB,CACxC,KAAM,CAACC,EAAWC,CAAY,EAAI1L,EAAAA,SAAgB,UAAU,EAEtD2L,EAAgB,IAAM,CAC1B,OAAQF,EAAA,CACN,IAAK,WACH,aAAQ5L,GAAA,EAAiB,EAC3B,IAAK,YACH,aAAQoE,GAAA,EAAkB,EAC5B,IAAK,YACH,aAAQ0C,GAAA,EAAkB,EAC5B,IAAK,WACH,aAAQgD,GAAA,EAAiB,EAC3B,QACE,OAAO7H,EAAAA,IAAC8J,GAAA,CAAkB,MAAOL,GAAW,WAAYG,EAAc,CAAA,CAE5E,EAEA,OACE7J,EAAAA,KAAC,MAAA,CAAI,UAAU,2CAEb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,OACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,+BACb,SAAA,CAAAC,EAAAA,IAAC,OAAI,UAAU,+DACb,eAAC4H,EAAA,CAAwB,UAAU,qBAAqB,CAAA,CAC1D,EACA5H,EAAAA,IAAC,KAAA,CAAG,UAAU,qBAAqB,SAAA,2BAAA,CAAyB,CAAA,EAC9D,EACAA,EAAAA,IAAC,IAAA,CAAE,UAAU,gBAAgB,SAAA,qDAAA,CAAmD,CAAA,EAClF,QAGC,MAAA,CAAI,UAAU,uCACZ,SAAAwJ,GAAK,IAAKO,GAAQ,CACjB,MAAM/D,EAAO+D,EAAI,KACXC,EAAWL,IAAcI,EAAI,GACnC,OACEhK,EAAAA,KAAC,SAAA,CAEC,QAAS,IAAM6J,EAAaG,EAAI,EAAE,EAClC,UAAW1J,EACT,gFACA2J,EACI,wFACA,wGAAA,EAGN,SAAA,CAAAhK,EAAAA,IAACgG,EAAA,CAAK,UAAU,SAAA,CAAU,EAC1BhG,EAAAA,IAAC,OAAA,CAAK,UAAU,cAAe,WAAI,KAAA,CAAM,CAAA,CAAA,EAVpC+J,EAAI,EAAA,CAaf,CAAC,CAAA,CACH,EAGA/J,EAAAA,IAACM,EAAO,IAAP,CAEC,QAAS,CAAE,QAAS,EAAG,EAAG,EAAA,EAC1B,QAAS,CAAE,QAAS,EAAG,EAAG,CAAA,EAC1B,WAAY,CAAE,SAAU,EAAA,EAEvB,SAAAuJ,EAAA,CAAc,EALVF,CAAA,CAMP,EACF,CAEJ,CAGA,SAASG,GAAkB,CACzB,MAAAG,EACA,WAAAC,CACF,EAGG,CACD,MAAM1E,GAAiByE,EAAM,kBAAoBA,EAAM,aAAgB,KAAK,QAAQ,CAAC,EAC/ExE,GAAawE,EAAM,aAAeA,EAAM,kBAAqB,KAAK,QAAQ,CAAC,EAC3EE,GAAcF,EAAM,QAAUA,EAAM,cAAiB,KAAK,QAAQ,CAAC,EAEzE,OACElK,EAAAA,KAAC,MAAA,CAAI,UAAU,YAEb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,uDACb,SAAA,CAAAC,EAAAA,IAACqF,EAAA,CACC,MAAM,iBACN,MAAO4E,EAAM,cAAc,eAAA,EAC3B,SAAU,GAAGE,CAAS,aACtB,KAAMxE,EACN,MAAM,OACN,QAAS,IAAMuE,EAAW,UAAU,CAAA,CAAA,EAEtClK,EAAAA,IAACqF,EAAA,CACC,MAAM,YACN,MAAO4E,EAAM,UAAU,SAAA,EACvB,SAAU,GAAGA,EAAM,iBAAiB,cAAcA,EAAM,gBAAgB,WACxE,KAAMvE,EACN,MAAM,SACN,QAAS,IAAMwE,EAAW,WAAW,CAAA,CAAA,EAEvClK,EAAAA,IAACqF,EAAA,CACC,MAAM,gBACN,MAAO4E,EAAM,aAAa,eAAA,EAC1B,SAAU,GAAGzE,CAAY,cACzB,KAAMlC,EACN,MAAM,QACN,QAAS,IAAM4G,EAAW,UAAU,CAAA,CAAA,EAEtClK,EAAAA,IAACqF,EAAA,CACC,MAAM,aACN,MAAO4E,EAAM,oBAAoB,SAAA,EACjC,SAAS,aACT,KAAMxM,EACN,MAAM,SACN,QAAS,IAAMyM,EAAW,WAAW,CAAA,CAAA,CACvC,EACF,EAGAnK,EAAAA,KAAC,MAAA,CAAI,UAAU,wCACb,SAAA,CAAAC,EAAAA,IAACoK,EAAA,CACC,MAAM,kBACN,YAAY,kDACZ,KAAM1E,EACN,QAAS,IAAMwE,EAAW,WAAW,EACrC,MAAM,QAAA,CAAA,EAERlK,EAAAA,IAACoK,EAAA,CACC,MAAM,iBACN,YAAY,8CACZ,KAAM3M,EACN,QAAS,IAAMyM,EAAW,WAAW,EACrC,MAAM,OAAA,CAAA,EAERlK,EAAAA,IAACoK,EAAA,CACC,MAAM,kBACN,YAAY,4CACZ,KAAMzE,EACN,QAAS,IAAMuE,EAAW,UAAU,EACpC,MAAM,MAAA,CAAA,CACR,EACF,EAGAnK,EAAAA,KAAC,MAAA,CAAI,UAAU,uEACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,6BAA6B,SAAA,+BAA4B,EACvED,EAAAA,KAAC,MAAA,CAAI,UAAU,wCACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,+BACb,SAAA,CAAAC,EAAAA,IAAC,OAAA,CAAK,UAAU,gBAAgB,SAAA,gBAAa,EAC7CD,EAAAA,KAAC,OAAA,CAAK,UAAU,6BAA8B,SAAA,CAAAyF,EAAa,GAAA,CAAA,CAAC,CAAA,EAC9D,EACAxF,EAAAA,IAAC,MAAA,CAAI,UAAU,gDACb,SAAAA,EAAAA,IAAC,MAAA,CACC,UAAU,mEACV,MAAO,CAAE,MAAO,GAAGwF,CAAY,GAAA,CAAI,CAAA,CACrC,CACF,CAAA,EACF,EACAzF,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,+BACb,SAAA,CAAAC,EAAAA,IAAC,OAAA,CAAK,UAAU,gBAAgB,SAAA,YAAS,EACzCD,EAAAA,KAAC,OAAA,CAAK,UAAU,4BAA6B,SAAA,CAAA0F,EAAS,GAAA,CAAA,CAAC,CAAA,EACzD,EACAzF,EAAAA,IAAC,MAAA,CAAI,UAAU,gDACb,SAAAA,EAAAA,IAAC,MAAA,CACC,UAAU,iEACV,MAAO,CAAE,MAAO,GAAGyF,CAAQ,GAAA,CAAI,CAAA,CACjC,CACF,CAAA,EACF,EACA1F,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,+BACb,SAAA,CAAAC,EAAAA,IAAC,OAAA,CAAK,UAAU,gBAAgB,SAAA,cAAW,EAC3CD,EAAAA,KAAC,OAAA,CAAK,UAAU,8BAA+B,SAAA,CAAAoK,EAAU,GAAA,CAAA,CAAC,CAAA,EAC5D,EACAnK,EAAAA,IAAC,MAAA,CAAI,UAAU,gDACb,SAAAA,EAAAA,IAAC,MAAA,CACC,UAAU,qEACV,MAAO,CAAE,MAAO,GAAGmK,CAAS,GAAA,CAAI,CAAA,CAClC,CACF,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,EACF,EAGApK,EAAAA,KAAC,MAAA,CAAI,UAAU,uEACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,6BAA6B,SAAA,kBAAe,EAC1DD,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAC,EAAAA,IAACqK,EAAA,CACC,KAAMzM,EACN,MAAM,qBACN,MAAOqM,EAAM,kBACb,MAAM,OAAA,CAAA,EAERjK,EAAAA,IAACqK,EAAA,CACC,KAAMxM,EACN,MAAM,mBACN,MAAOoM,EAAM,iBACb,MAAM,QAAA,CAAA,EAERjK,EAAAA,IAACqK,EAAA,CACC,KAAM3C,GACN,MAAM,qBACN,MAAO,EACP,MAAM,KAAA,CAAA,CACR,CAAA,CACF,CAAA,CAAA,CACF,CAAA,EACF,CAEJ,CAGA,SAASrC,EAAS,CAChB,MAAApI,EACA,MAAA6I,EACA,SAAAC,EACA,KAAMC,EACN,MAAAsD,EACA,QAAAgB,CACF,EAOG,CACD,MAAMC,EAAe,CACnB,KAAM,oDACN,OAAQ,0DACR,MAAO,uDACP,OAAQ,yDAAA,EAGJC,EAAa,CACjB,KAAM,gBACN,OAAQ,kBACR,MAAO,iBACP,OAAQ,iBAAA,EAGV,OACEzK,EAAAA,KAAC,SAAA,CACC,QAAAuK,EACA,UAAWjK,EACT,uGACAkK,EAAajB,CAAK,CAAA,EAGpB,SAAA,CAAAtJ,EAAAA,IAAC,MAAA,CAAI,UAAU,wCACb,SAAAA,EAAAA,IAACgG,EAAA,CAAK,UAAW3F,EAAG,UAAWmK,EAAWlB,CAAK,CAAC,CAAA,CAAG,EACrD,EACAtJ,EAAAA,IAAC,MAAA,CAAI,UAAU,0BAA2B,SAAA8F,EAAM,EAChD9F,EAAAA,IAAC,MAAA,CAAI,UAAU,wBAAyB,SAAA/C,EAAM,EAC9C+C,EAAAA,IAAC,MAAA,CAAI,UAAU,6BAA8B,SAAA+F,CAAA,CAAS,CAAA,CAAA,CAAA,CAG5D,CAGA,SAASqE,EAAgB,CACvB,MAAAnN,EACA,YAAAwN,EACA,KAAMzE,EACN,QAAAsE,EACA,MAAAhB,CACF,EAMG,CACD,MAAMiB,EAAe,CACnB,KAAM,qDACN,OAAQ,yDACR,MAAO,sDAAA,EAGT,OACExK,EAAAA,KAAC,SAAA,CACC,QAAAuK,EACA,UAAWjK,EACT,yHACAkK,EAAajB,CAAK,CAAA,EAGpB,SAAA,CAAAtJ,EAAAA,IAACgG,EAAA,CAAK,UAAU,uEAAA,CAAwE,EACxFhG,EAAAA,IAAC,KAAA,CAAG,UAAU,qBAAsB,SAAA/C,EAAM,EAC1C+C,EAAAA,IAAC,IAAA,CAAE,UAAU,wBAAyB,SAAAyK,CAAA,CAAY,CAAA,CAAA,CAAA,CAGxD,CAGA,SAASJ,EAAU,CACjB,KAAMrE,EACN,MAAAqD,EACA,MAAAvD,EACA,MAAAwD,CACF,EAKG,CACD,MAAMiB,EAAe,CACnB,MAAO,iBACP,OAAQ,kBACR,IAAK,cAAA,EAGP,OACExK,EAAAA,KAAC,MAAA,CAAI,UAAU,+EACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAC,MAACgG,GAAK,UAAW3F,EAAG,UAAWkK,EAAajB,CAAK,CAAC,EAAG,EACrDtJ,EAAAA,IAAC,OAAA,CAAK,UAAU,gBAAiB,SAAAqJ,CAAA,CAAM,CAAA,EACzC,EACArJ,EAAAA,IAAC,OAAA,CAAK,UAAU,cAAe,SAAA8F,CAAA,CAAM,CAAA,EACvC,CAEJ","x_google_ignoreList":[0,1,2]}