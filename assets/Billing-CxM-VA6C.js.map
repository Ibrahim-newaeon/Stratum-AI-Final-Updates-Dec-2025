{"version":3,"file":"Billing-CxM-VA6C.js","sources":["../../node_modules/@heroicons/react/24/outline/esm/CreditCardIcon.js","../../src/views/superadmin/Billing.tsx"],"sourcesContent":["import * as React from \"react\";\nfunction CreditCardIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(CreditCardIcon);\nexport default ForwardRef;","/**\r\n * Billing (Super Admin View)\r\n *\r\n * Platform billing management - plans, invoices, subscriptions\r\n * Revenue metrics and dunning management\r\n */\r\n\r\nimport { useState } from 'react';\r\nimport { cn } from '@/lib/utils';\r\nimport {\r\n  useBillingInvoices,\r\n  useBillingPlans,\r\n  useBillingSubscriptions,\r\n  useRetryPayment,\r\n  useRevenue,\r\n} from '@/api/hooks';\r\nimport { useToast } from '@/components/ui/use-toast';\r\nimport {\r\n  ArrowDownTrayIcon,\r\n  ArrowTrendingUpIcon,\r\n  CheckCircleIcon,\r\n  ClockIcon,\r\n  CreditCardIcon,\r\n  CurrencyDollarIcon,\r\n  DocumentTextIcon,\r\n  EnvelopeIcon,\r\n  ExclamationTriangleIcon,\r\n  PencilSquareIcon,\r\n  UserGroupIcon,\r\n  XCircleIcon,\r\n  XMarkIcon,\r\n} from '@heroicons/react/24/outline';\r\n\r\ntype PlanType = 'starter' | 'pro' | 'enterprise';\r\ntype SubscriptionStatus = 'active' | 'past_due' | 'canceled' | 'trialing';\r\ntype InvoiceStatus = 'paid' | 'pending' | 'overdue' | 'failed';\r\n\r\ninterface Subscription {\r\n  id: string;\r\n  tenantId: string;\r\n  tenantName: string;\r\n  plan: PlanType;\r\n  status: SubscriptionStatus;\r\n  mrr: number;\r\n  startDate: Date;\r\n  nextBilling: Date;\r\n  paymentMethod: string;\r\n  failedPayments: number;\r\n}\r\n\r\ninterface Invoice {\r\n  id: string;\r\n  tenantName: string;\r\n  amount: number;\r\n  status: InvoiceStatus;\r\n  dueDate: Date;\r\n  paidAt: Date | null;\r\n}\r\n\r\nexport default function Billing() {\r\n  const [activeTab, setActiveTab] = useState<'overview' | 'subscriptions' | 'invoices' | 'plans'>(\r\n    'overview'\r\n  );\r\n  const { toast } = useToast();\r\n\r\n  // Modal states\r\n  const [selectedInvoice, setSelectedInvoice] = useState<Invoice | null>(null);\r\n  const [selectedSubscription, setSelectedSubscription] = useState<Subscription | null>(null);\r\n  const [selectedPlan, setSelectedPlan] = useState<(typeof mockPlans)[0] | null>(null);\r\n  const [showInvoiceModal, setShowInvoiceModal] = useState(false);\r\n  const [showSubscriptionModal, setShowSubscriptionModal] = useState(false);\r\n  const [showEditPlanModal, setShowEditPlanModal] = useState(false);\r\n\r\n  // Fetch data from API\r\n  const { data: revenueData } = useRevenue();\r\n  const { data: plansData } = useBillingPlans();\r\n  const { data: invoicesData } = useBillingInvoices();\r\n  const { data: subscriptionsData } = useBillingSubscriptions();\r\n  const retryPaymentMutation = useRetryPayment();\r\n\r\n  // Default mock data\r\n  const mockMetrics = {\r\n    mrr: 45890,\r\n    mrrGrowth: 8.5,\r\n    arr: 550680,\r\n    activeSubscriptions: 89,\r\n    churnRate: 2.3,\r\n    pastDue: 4,\r\n    totalRevenue: 1250000,\r\n  };\r\n\r\n  // Use API data or fallback to mock\r\n  const metrics = {\r\n    mrr: revenueData?.mrr ?? mockMetrics.mrr,\r\n    mrrGrowth: revenueData?.mrrGrowth ?? mockMetrics.mrrGrowth,\r\n    arr: revenueData?.arr ?? mockMetrics.arr,\r\n    activeSubscriptions:\r\n      subscriptionsData?.items?.filter((s) => s.status === 'active').length ??\r\n      mockMetrics.activeSubscriptions,\r\n    churnRate: revenueData?.churnRate ?? mockMetrics.churnRate,\r\n    pastDue:\r\n      subscriptionsData?.items?.filter((s) => s.status === 'past_due').length ??\r\n      mockMetrics.pastDue,\r\n    totalRevenue: mockMetrics.totalRevenue,\r\n  };\r\n\r\n  const mockSubscriptions: Subscription[] = [\r\n    {\r\n      id: 's1',\r\n      tenantId: 't1',\r\n      tenantName: 'Acme Corporation',\r\n      plan: 'enterprise',\r\n      status: 'active',\r\n      mrr: 1999,\r\n      startDate: new Date('2024-01-15'),\r\n      nextBilling: new Date(Date.now() + 15 * 24 * 60 * 60 * 1000),\r\n      paymentMethod: 'Visa ****4242',\r\n      failedPayments: 0,\r\n    },\r\n    {\r\n      id: 's2',\r\n      tenantId: 't2',\r\n      tenantName: 'TechStart Inc',\r\n      plan: 'pro',\r\n      status: 'active',\r\n      mrr: 499,\r\n      startDate: new Date('2024-03-01'),\r\n      nextBilling: new Date(Date.now() + 5 * 24 * 60 * 60 * 1000),\r\n      paymentMethod: 'Mastercard ****5555',\r\n      failedPayments: 0,\r\n    },\r\n    {\r\n      id: 's3',\r\n      tenantId: 't3',\r\n      tenantName: 'Fashion Forward',\r\n      plan: 'pro',\r\n      status: 'past_due',\r\n      mrr: 499,\r\n      startDate: new Date('2024-02-15'),\r\n      nextBilling: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000),\r\n      paymentMethod: 'Visa ****1234',\r\n      failedPayments: 2,\r\n    },\r\n    {\r\n      id: 's4',\r\n      tenantId: 't4',\r\n      tenantName: 'HealthPlus',\r\n      plan: 'starter',\r\n      status: 'trialing',\r\n      mrr: 0,\r\n      startDate: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000),\r\n      nextBilling: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000),\r\n      paymentMethod: 'Not set',\r\n      failedPayments: 0,\r\n    },\r\n  ];\r\n\r\n  const mockInvoices: Invoice[] = [\r\n    {\r\n      id: 'inv-001',\r\n      tenantName: 'Acme Corporation',\r\n      amount: 1999,\r\n      status: 'paid',\r\n      dueDate: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000),\r\n      paidAt: new Date(Date.now() - 6 * 24 * 60 * 60 * 1000),\r\n    },\r\n    {\r\n      id: 'inv-002',\r\n      tenantName: 'TechStart Inc',\r\n      amount: 499,\r\n      status: 'pending',\r\n      dueDate: new Date(Date.now() + 5 * 24 * 60 * 60 * 1000),\r\n      paidAt: null,\r\n    },\r\n    {\r\n      id: 'inv-003',\r\n      tenantName: 'Fashion Forward',\r\n      amount: 499,\r\n      status: 'overdue',\r\n      dueDate: new Date(Date.now() - 10 * 24 * 60 * 60 * 1000),\r\n      paidAt: null,\r\n    },\r\n  ];\r\n\r\n  const mockPlans = [\r\n    {\r\n      id: 'starter',\r\n      name: 'Starter',\r\n      price: 99,\r\n      features: ['2 platforms', '5 campaigns', 'Basic analytics', 'Email support'],\r\n      subscribers: 23,\r\n    },\r\n    {\r\n      id: 'pro',\r\n      name: 'Pro',\r\n      price: 499,\r\n      features: [\r\n        '5 platforms',\r\n        'Unlimited campaigns',\r\n        'Advanced analytics',\r\n        'Priority support',\r\n        'Autopilot',\r\n      ],\r\n      subscribers: 52,\r\n      highlighted: true,\r\n    },\r\n    {\r\n      id: 'enterprise',\r\n      name: 'Enterprise',\r\n      price: 1999,\r\n      features: [\r\n        'Unlimited platforms',\r\n        'Unlimited campaigns',\r\n        'Custom analytics',\r\n        'Dedicated support',\r\n        'Full Autopilot',\r\n        'SLA',\r\n      ],\r\n      subscribers: 14,\r\n    },\r\n  ];\r\n\r\n  // Use API data or fallback to mock\r\n  const subscriptions: Subscription[] =\r\n    subscriptionsData?.items?.map((s) => ({\r\n      id: s.id,\r\n      tenantId: String(s.tenantId),\r\n      tenantName: s.tenantName,\r\n      plan: s.plan as PlanType,\r\n      status: s.status,\r\n      mrr: s.mrr,\r\n      startDate: new Date(s.startDate),\r\n      nextBilling: new Date(s.nextBillingDate),\r\n      paymentMethod: s.paymentMethod,\r\n      failedPayments: s.failedPayments,\r\n    })) ?? mockSubscriptions;\r\n\r\n  const invoices: Invoice[] =\r\n    invoicesData?.items?.map((i) => ({\r\n      id: i.id,\r\n      tenantName: i.tenantName,\r\n      amount: i.amount,\r\n      status: i.status,\r\n      dueDate: new Date(i.dueDate),\r\n      paidAt: i.paidAt ? new Date(i.paidAt) : null,\r\n    })) ?? mockInvoices;\r\n\r\n  const plans =\r\n    plansData?.map((p) => ({\r\n      id: p.id,\r\n      name: p.name,\r\n      price: p.price,\r\n      features: p.features,\r\n      subscribers: p.subscriberCount,\r\n      highlighted: p.name === 'Pro',\r\n    })) ?? mockPlans;\r\n\r\n  const handleRetryPayment = async (subscriptionId: string) => {\r\n    try {\r\n      await retryPaymentMutation.mutateAsync(subscriptionId);\r\n      toast({\r\n        title: 'Success',\r\n        description: 'Payment retry initiated successfully',\r\n      });\r\n    } catch (error) {\r\n      console.error('Failed to retry payment:', error);\r\n      toast({\r\n        title: 'Error',\r\n        description: 'Failed to retry payment. Please try again.',\r\n        variant: 'destructive',\r\n      });\r\n    }\r\n  };\r\n\r\n  // Export billing report to CSV\r\n  const handleExportReport = () => {\r\n    try {\r\n      const csvData = [\r\n        ['Invoice ID', 'Tenant', 'Amount', 'Status', 'Due Date', 'Paid At'],\r\n        ...invoices.map((inv) => [\r\n          inv.id,\r\n          inv.tenantName,\r\n          `$${inv.amount}`,\r\n          inv.status,\r\n          inv.dueDate.toLocaleDateString(),\r\n          inv.paidAt ? inv.paidAt.toLocaleDateString() : 'N/A',\r\n        ]),\r\n      ];\r\n      const csvContent = csvData.map((row) => row.join(',')).join('\\n');\r\n      const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\r\n      const url = URL.createObjectURL(blob);\r\n      const link = document.createElement('a');\r\n      link.href = url;\r\n      link.download = `billing-report-${new Date().toISOString().split('T')[0]}.csv`;\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      document.body.removeChild(link);\r\n      URL.revokeObjectURL(url);\r\n      toast({\r\n        title: 'Export Successful',\r\n        description: 'Billing report downloaded as CSV',\r\n      });\r\n    } catch (error) {\r\n      toast({\r\n        title: 'Export Failed',\r\n        description: 'Unable to export billing report',\r\n        variant: 'destructive',\r\n      });\r\n    }\r\n  };\r\n\r\n  // Contact customer - open email client\r\n  const handleContactCustomer = (tenantName: string) => {\r\n    // In production, this would fetch actual email from backend\r\n    const email = `billing@${tenantName.toLowerCase().replace(/\\s+/g, '')}.com`;\r\n    window.location.href = `mailto:${email}?subject=Payment%20Issue%20-%20${encodeURIComponent(tenantName)}&body=Dear%20${encodeURIComponent(tenantName)}%20Team,%0A%0AWe%20noticed%20there%20is%20an%20issue%20with%20your%20payment.%20Please%20contact%20us%20to%20resolve%20this.`;\r\n    toast({\r\n      title: 'Email Client Opened',\r\n      description: `Opening email to contact ${tenantName}`,\r\n    });\r\n  };\r\n\r\n  // Manage subscription - show modal\r\n  const handleManageSubscription = (subscription: Subscription) => {\r\n    setSelectedSubscription(subscription);\r\n    setShowSubscriptionModal(true);\r\n  };\r\n\r\n  // View invoice - show modal\r\n  const handleViewInvoice = (invoice: Invoice) => {\r\n    setSelectedInvoice(invoice);\r\n    setShowInvoiceModal(true);\r\n  };\r\n\r\n  // Download invoice as PDF (placeholder)\r\n  const handleDownloadInvoice = (invoice: Invoice) => {\r\n    try {\r\n      // In production, this would call an API to generate actual PDF\r\n      const invoiceContent = `\r\nINVOICE\r\n=======\r\nInvoice ID: ${invoice.id}\r\nTenant: ${invoice.tenantName}\r\nAmount: $${invoice.amount.toLocaleString()}\r\nStatus: ${invoice.status}\r\nDue Date: ${invoice.dueDate.toLocaleDateString()}\r\n${invoice.paidAt ? `Paid At: ${invoice.paidAt.toLocaleDateString()}` : ''}\r\n      `.trim();\r\n\r\n      const blob = new Blob([invoiceContent], { type: 'text/plain' });\r\n      const url = URL.createObjectURL(blob);\r\n      const link = document.createElement('a');\r\n      link.href = url;\r\n      link.download = `invoice-${invoice.id}.txt`;\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      document.body.removeChild(link);\r\n      URL.revokeObjectURL(url);\r\n\r\n      toast({\r\n        title: 'Invoice Downloaded',\r\n        description: `Invoice ${invoice.id} has been downloaded`,\r\n      });\r\n    } catch (error) {\r\n      toast({\r\n        title: 'Download Failed',\r\n        description: 'Unable to download invoice',\r\n        variant: 'destructive',\r\n      });\r\n    }\r\n  };\r\n\r\n  // Edit plan - show modal\r\n  const handleEditPlan = (plan: (typeof mockPlans)[0]) => {\r\n    setSelectedPlan(plan);\r\n    setShowEditPlanModal(true);\r\n  };\r\n\r\n  const getStatusColor = (status: SubscriptionStatus | InvoiceStatus) => {\r\n    switch (status) {\r\n      case 'active':\r\n      case 'paid':\r\n        return 'text-success bg-success/10';\r\n      case 'past_due':\r\n      case 'overdue':\r\n        return 'text-danger bg-danger/10';\r\n      case 'pending':\r\n      case 'trialing':\r\n        return 'text-warning bg-warning/10';\r\n      case 'canceled':\r\n      case 'failed':\r\n        return 'text-text-muted bg-surface-tertiary';\r\n    }\r\n  };\r\n\r\n  const getStatusIcon = (status: SubscriptionStatus | InvoiceStatus) => {\r\n    switch (status) {\r\n      case 'active':\r\n      case 'paid':\r\n        return <CheckCircleIcon className=\"w-4 h-4\" />;\r\n      case 'past_due':\r\n      case 'overdue':\r\n      case 'failed':\r\n        return <ExclamationTriangleIcon className=\"w-4 h-4\" />;\r\n      case 'pending':\r\n      case 'trialing':\r\n        return <ClockIcon className=\"w-4 h-4\" />;\r\n      case 'canceled':\r\n        return <XCircleIcon className=\"w-4 h-4\" />;\r\n    }\r\n  };\r\n\r\n  const tabs = [\r\n    { id: 'overview' as const, label: 'Overview' },\r\n    { id: 'subscriptions' as const, label: 'Subscriptions' },\r\n    { id: 'invoices' as const, label: 'Invoices' },\r\n    { id: 'plans' as const, label: 'Plans' },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h1 className=\"text-2xl font-bold text-white\">Billing</h1>\r\n          <p className=\"text-text-muted\">Revenue and subscription management</p>\r\n        </div>\r\n        <div className=\"flex items-center gap-3\">\r\n          <button\r\n            onClick={handleExportReport}\r\n            className=\"flex items-center gap-2 px-4 py-2 rounded-lg bg-surface-secondary border border-white/10 text-text-secondary hover:text-white transition-colors\"\r\n          >\r\n            <DocumentTextIcon className=\"w-4 h-4\" />\r\n            Export Report\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Tabs */}\r\n      <div className=\"flex items-center gap-2 border-b border-white/10 pb-4\">\r\n        {tabs.map((tab) => (\r\n          <button\r\n            key={tab.id}\r\n            onClick={() => setActiveTab(tab.id)}\r\n            className={cn(\r\n              'px-4 py-2 rounded-lg transition-colors',\r\n              activeTab === tab.id\r\n                ? 'bg-stratum-500/10 text-stratum-400'\r\n                : 'text-text-muted hover:text-white hover:bg-white/5'\r\n            )}\r\n          >\r\n            {tab.label}\r\n          </button>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Overview Tab */}\r\n      {activeTab === 'overview' && (\r\n        <div className=\"space-y-6\">\r\n          {/* Revenue Metrics */}\r\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n            <div className=\"p-4 rounded-xl bg-gradient-to-br from-stratum-500/10 to-stratum-600/5 border border-stratum-500/20\">\r\n              <div className=\"flex items-center gap-2 text-text-muted text-sm mb-2\">\r\n                <CurrencyDollarIcon className=\"w-4 h-4\" />\r\n                Monthly Recurring Revenue\r\n              </div>\r\n              <div className=\"text-3xl font-bold text-white\">${metrics.mrr.toLocaleString()}</div>\r\n              <div className=\"flex items-center gap-1 text-success text-sm mt-2\">\r\n                <ArrowTrendingUpIcon className=\"w-4 h-4\" />+{metrics.mrrGrowth}% vs last month\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"p-4 rounded-xl bg-surface-secondary border border-white/10\">\r\n              <div className=\"text-text-muted text-sm mb-2\">Annual Recurring Revenue</div>\r\n              <div className=\"text-3xl font-bold text-white\">${metrics.arr.toLocaleString()}</div>\r\n            </div>\r\n\r\n            <div className=\"p-4 rounded-xl bg-surface-secondary border border-white/10\">\r\n              <div className=\"flex items-center gap-2 text-text-muted text-sm mb-2\">\r\n                <UserGroupIcon className=\"w-4 h-4\" />\r\n                Active Subscriptions\r\n              </div>\r\n              <div className=\"text-3xl font-bold text-white\">{metrics.activeSubscriptions}</div>\r\n            </div>\r\n\r\n            <div className=\"p-4 rounded-xl bg-surface-secondary border border-white/10\">\r\n              <div className=\"text-text-muted text-sm mb-2\">Churn Rate</div>\r\n              <div className=\"text-3xl font-bold text-warning\">{metrics.churnRate}%</div>\r\n              <div className=\"flex items-center gap-1 text-danger text-sm mt-2\">\r\n                <ExclamationTriangleIcon className=\"w-4 h-4\" />\r\n                {metrics.pastDue} past due\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Plan Distribution */}\r\n          <div className=\"rounded-2xl bg-surface-secondary border border-white/10 p-6\">\r\n            <h2 className=\"font-semibold text-white mb-4\">Plan Distribution</h2>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n              {plans.map((plan) => (\r\n                <div\r\n                  key={plan.id}\r\n                  className={cn(\r\n                    'p-4 rounded-xl border',\r\n                    plan.highlighted\r\n                      ? 'bg-stratum-500/10 border-stratum-500/30'\r\n                      : 'bg-surface-tertiary border-white/5'\r\n                  )}\r\n                >\r\n                  <div className=\"flex items-center justify-between mb-2\">\r\n                    <span className=\"font-medium text-white\">{plan.name}</span>\r\n                    <span className=\"text-stratum-400\">${plan.price}/mo</span>\r\n                  </div>\r\n                  <div className=\"text-3xl font-bold text-white\">{plan.subscribers}</div>\r\n                  <div className=\"text-sm text-text-muted\">subscribers</div>\r\n                  <div className=\"mt-2 text-sm text-text-muted\">\r\n                    ${(plan.price * plan.subscribers).toLocaleString()} MRR\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Recent Activity */}\r\n          <div className=\"rounded-2xl bg-surface-secondary border border-white/10 p-6\">\r\n            <h2 className=\"font-semibold text-white mb-4\">Dunning Alerts</h2>\r\n            <div className=\"space-y-3\">\r\n              {subscriptions\r\n                .filter((s) => s.status === 'past_due' || s.failedPayments > 0)\r\n                .map((sub) => (\r\n                  <div\r\n                    key={sub.id}\r\n                    className=\"flex items-center justify-between p-3 rounded-lg bg-danger/5 border border-danger/20\"\r\n                  >\r\n                    <div className=\"flex items-center gap-3\">\r\n                      <ExclamationTriangleIcon className=\"w-5 h-5 text-danger\" />\r\n                      <div>\r\n                        <div className=\"font-medium text-white\">{sub.tenantName}</div>\r\n                        <div className=\"text-sm text-text-muted\">\r\n                          {sub.failedPayments} failed payment(s) - {sub.paymentMethod}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <button\r\n                        onClick={() => handleContactCustomer(sub.tenantName)}\r\n                        className=\"px-3 py-1 rounded-lg bg-surface-tertiary text-text-secondary hover:text-white text-sm transition-colors\"\r\n                      >\r\n                        Contact\r\n                      </button>\r\n                      <button\r\n                        onClick={() => handleRetryPayment(sub.id)}\r\n                        disabled={retryPaymentMutation.isPending}\r\n                        className=\"px-3 py-1 rounded-lg bg-danger/10 text-danger hover:bg-danger/20 text-sm transition-colors disabled:opacity-50\"\r\n                      >\r\n                        {retryPaymentMutation.isPending ? 'Retrying...' : 'Retry Payment'}\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              {subscriptions.filter((s) => s.status === 'past_due' || s.failedPayments > 0)\r\n                .length === 0 && (\r\n                <div className=\"flex items-center gap-2 text-success p-3\">\r\n                  <CheckCircleIcon className=\"w-5 h-5\" />\r\n                  No dunning alerts - all payments up to date\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Subscriptions Tab */}\r\n      {activeTab === 'subscriptions' && (\r\n        <div className=\"rounded-2xl bg-surface-secondary border border-white/10 overflow-hidden\">\r\n          <table className=\"w-full\">\r\n            <thead>\r\n              <tr className=\"border-b border-white/10\">\r\n                <th className=\"text-left p-4 text-text-muted font-medium\">Tenant</th>\r\n                <th className=\"text-left p-4 text-text-muted font-medium\">Plan</th>\r\n                <th className=\"text-left p-4 text-text-muted font-medium\">Status</th>\r\n                <th className=\"text-left p-4 text-text-muted font-medium\">MRR</th>\r\n                <th className=\"text-left p-4 text-text-muted font-medium\">Next Billing</th>\r\n                <th className=\"text-left p-4 text-text-muted font-medium\">Payment Method</th>\r\n                <th className=\"text-left p-4 text-text-muted font-medium\">Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody className=\"divide-y divide-white/5\">\r\n              {subscriptions.map((sub) => (\r\n                <tr key={sub.id} className=\"hover:bg-white/5 transition-colors\">\r\n                  <td className=\"p-4\">\r\n                    <span className=\"font-medium text-white\">{sub.tenantName}</span>\r\n                  </td>\r\n                  <td className=\"p-4\">\r\n                    <span className=\"px-2 py-1 rounded bg-stratum-500/10 text-stratum-400 text-sm capitalize\">\r\n                      {sub.plan}\r\n                    </span>\r\n                  </td>\r\n                  <td className=\"p-4\">\r\n                    <span\r\n                      className={cn(\r\n                        'flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium w-fit',\r\n                        getStatusColor(sub.status)\r\n                      )}\r\n                    >\r\n                      {getStatusIcon(sub.status)}\r\n                      {sub.status.replace('_', ' ')}\r\n                    </span>\r\n                  </td>\r\n                  <td className=\"p-4 text-white font-medium\">${sub.mrr.toLocaleString()}</td>\r\n                  <td className=\"p-4 text-text-muted\">{sub.nextBilling.toLocaleDateString()}</td>\r\n                  <td className=\"p-4\">\r\n                    <div className=\"flex items-center gap-2 text-text-muted\">\r\n                      <CreditCardIcon className=\"w-4 h-4\" />\r\n                      {sub.paymentMethod}\r\n                    </div>\r\n                  </td>\r\n                  <td className=\"p-4\">\r\n                    <button\r\n                      onClick={() => handleManageSubscription(sub)}\r\n                      className=\"text-stratum-400 hover:text-stratum-300 text-sm\"\r\n                    >\r\n                      Manage\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      )}\r\n\r\n      {/* Invoices Tab */}\r\n      {activeTab === 'invoices' && (\r\n        <div className=\"rounded-2xl bg-surface-secondary border border-white/10 overflow-hidden\">\r\n          <table className=\"w-full\">\r\n            <thead>\r\n              <tr className=\"border-b border-white/10\">\r\n                <th className=\"text-left p-4 text-text-muted font-medium\">Invoice ID</th>\r\n                <th className=\"text-left p-4 text-text-muted font-medium\">Tenant</th>\r\n                <th className=\"text-left p-4 text-text-muted font-medium\">Amount</th>\r\n                <th className=\"text-left p-4 text-text-muted font-medium\">Status</th>\r\n                <th className=\"text-left p-4 text-text-muted font-medium\">Due Date</th>\r\n                <th className=\"text-left p-4 text-text-muted font-medium\">Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody className=\"divide-y divide-white/5\">\r\n              {invoices.map((invoice) => (\r\n                <tr key={invoice.id} className=\"hover:bg-white/5 transition-colors\">\r\n                  <td className=\"p-4 font-mono text-stratum-400\">{invoice.id}</td>\r\n                  <td className=\"p-4 text-white\">{invoice.tenantName}</td>\r\n                  <td className=\"p-4 text-white font-medium\">${invoice.amount.toLocaleString()}</td>\r\n                  <td className=\"p-4\">\r\n                    <span\r\n                      className={cn(\r\n                        'flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium w-fit',\r\n                        getStatusColor(invoice.status)\r\n                      )}\r\n                    >\r\n                      {getStatusIcon(invoice.status)}\r\n                      {invoice.status}\r\n                    </span>\r\n                  </td>\r\n                  <td className=\"p-4 text-text-muted\">{invoice.dueDate.toLocaleDateString()}</td>\r\n                  <td className=\"p-4\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <button\r\n                        onClick={() => handleViewInvoice(invoice)}\r\n                        className=\"text-stratum-400 hover:text-stratum-300 text-sm\"\r\n                      >\r\n                        View\r\n                      </button>\r\n                      <button\r\n                        onClick={() => handleDownloadInvoice(invoice)}\r\n                        className=\"text-text-muted hover:text-white text-sm\"\r\n                      >\r\n                        Download\r\n                      </button>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      )}\r\n\r\n      {/* Plans Tab */}\r\n      {activeTab === 'plans' && (\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n          {plans.map((plan) => (\r\n            <div\r\n              key={plan.id}\r\n              className={cn(\r\n                'rounded-2xl border p-6',\r\n                plan.highlighted\r\n                  ? 'bg-gradient-to-br from-stratum-500/10 to-stratum-600/5 border-stratum-500/30'\r\n                  : 'bg-surface-secondary border-white/10'\r\n              )}\r\n            >\r\n              <h3 className=\"text-xl font-semibold text-white mb-2\">{plan.name}</h3>\r\n              <div className=\"flex items-baseline gap-1 mb-4\">\r\n                <span className=\"text-3xl font-bold text-white\">${plan.price}</span>\r\n                <span className=\"text-text-muted\">/month</span>\r\n              </div>\r\n\r\n              <div className=\"py-4 border-t border-b border-white/10 mb-4\">\r\n                <div className=\"text-lg font-semibold text-white\">{plan.subscribers}</div>\r\n                <div className=\"text-sm text-text-muted\">active subscribers</div>\r\n              </div>\r\n\r\n              <ul className=\"space-y-2\">\r\n                {plan.features.map((feature, i) => (\r\n                  <li key={i} className=\"flex items-center gap-2 text-sm text-text-secondary\">\r\n                    <CheckCircleIcon className=\"w-4 h-4 text-success\" />\r\n                    {feature}\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n\r\n              <button\r\n                onClick={() => handleEditPlan(plan)}\r\n                className=\"w-full mt-6 py-2 rounded-lg bg-surface-tertiary text-text-secondary hover:text-white transition-colors\"\r\n              >\r\n                Edit Plan\r\n              </button>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      {/* Invoice Detail Modal */}\r\n      {showInvoiceModal && selectedInvoice && (\r\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\">\r\n          <div className=\"bg-surface-secondary rounded-2xl border border-white/10 p-6 w-full max-w-md mx-4\">\r\n            <div className=\"flex items-center justify-between mb-6\">\r\n              <h2 className=\"text-xl font-semibold text-white\">Invoice Details</h2>\r\n              <button\r\n                onClick={() => {\r\n                  setShowInvoiceModal(false);\r\n                  setSelectedInvoice(null);\r\n                }}\r\n                className=\"text-text-muted hover:text-white\"\r\n              >\r\n                <XMarkIcon className=\"w-5 h-5\" />\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"space-y-4\">\r\n              <div className=\"flex justify-between\">\r\n                <span className=\"text-text-muted\">Invoice ID</span>\r\n                <span className=\"text-white font-mono\">{selectedInvoice.id}</span>\r\n              </div>\r\n              <div className=\"flex justify-between\">\r\n                <span className=\"text-text-muted\">Tenant</span>\r\n                <span className=\"text-white\">{selectedInvoice.tenantName}</span>\r\n              </div>\r\n              <div className=\"flex justify-between\">\r\n                <span className=\"text-text-muted\">Amount</span>\r\n                <span className=\"text-white font-semibold\">\r\n                  ${selectedInvoice.amount.toLocaleString()}\r\n                </span>\r\n              </div>\r\n              <div className=\"flex justify-between\">\r\n                <span className=\"text-text-muted\">Status</span>\r\n                <span\r\n                  className={cn(\r\n                    'px-2 py-1 rounded-full text-xs font-medium',\r\n                    getStatusColor(selectedInvoice.status)\r\n                  )}\r\n                >\r\n                  {selectedInvoice.status}\r\n                </span>\r\n              </div>\r\n              <div className=\"flex justify-between\">\r\n                <span className=\"text-text-muted\">Due Date</span>\r\n                <span className=\"text-white\">{selectedInvoice.dueDate.toLocaleDateString()}</span>\r\n              </div>\r\n              {selectedInvoice.paidAt && (\r\n                <div className=\"flex justify-between\">\r\n                  <span className=\"text-text-muted\">Paid At</span>\r\n                  <span className=\"text-white\">{selectedInvoice.paidAt.toLocaleDateString()}</span>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"flex gap-3 mt-6\">\r\n              <button\r\n                onClick={() => handleDownloadInvoice(selectedInvoice)}\r\n                className=\"flex-1 flex items-center justify-center gap-2 py-2 rounded-lg bg-stratum-500 text-white hover:bg-stratum-600 transition-colors\"\r\n              >\r\n                <ArrowDownTrayIcon className=\"w-4 h-4\" />\r\n                Download\r\n              </button>\r\n              <button\r\n                onClick={() => {\r\n                  setShowInvoiceModal(false);\r\n                  setSelectedInvoice(null);\r\n                }}\r\n                className=\"flex-1 py-2 rounded-lg bg-surface-tertiary text-text-secondary hover:text-white transition-colors\"\r\n              >\r\n                Close\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Subscription Management Modal */}\r\n      {showSubscriptionModal && selectedSubscription && (\r\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\">\r\n          <div className=\"bg-surface-secondary rounded-2xl border border-white/10 p-6 w-full max-w-md mx-4\">\r\n            <div className=\"flex items-center justify-between mb-6\">\r\n              <h2 className=\"text-xl font-semibold text-white\">Manage Subscription</h2>\r\n              <button\r\n                onClick={() => {\r\n                  setShowSubscriptionModal(false);\r\n                  setSelectedSubscription(null);\r\n                }}\r\n                className=\"text-text-muted hover:text-white\"\r\n              >\r\n                <XMarkIcon className=\"w-5 h-5\" />\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"space-y-4\">\r\n              <div className=\"flex justify-between\">\r\n                <span className=\"text-text-muted\">Tenant</span>\r\n                <span className=\"text-white font-semibold\">{selectedSubscription.tenantName}</span>\r\n              </div>\r\n              <div className=\"flex justify-between\">\r\n                <span className=\"text-text-muted\">Plan</span>\r\n                <span className=\"px-2 py-1 rounded bg-stratum-500/10 text-stratum-400 text-sm capitalize\">\r\n                  {selectedSubscription.plan}\r\n                </span>\r\n              </div>\r\n              <div className=\"flex justify-between\">\r\n                <span className=\"text-text-muted\">Status</span>\r\n                <span\r\n                  className={cn(\r\n                    'px-2 py-1 rounded-full text-xs font-medium',\r\n                    getStatusColor(selectedSubscription.status)\r\n                  )}\r\n                >\r\n                  {selectedSubscription.status.replace('_', ' ')}\r\n                </span>\r\n              </div>\r\n              <div className=\"flex justify-between\">\r\n                <span className=\"text-text-muted\">MRR</span>\r\n                <span className=\"text-white font-semibold\">\r\n                  ${selectedSubscription.mrr.toLocaleString()}\r\n                </span>\r\n              </div>\r\n              <div className=\"flex justify-between\">\r\n                <span className=\"text-text-muted\">Payment Method</span>\r\n                <span className=\"text-white\">{selectedSubscription.paymentMethod}</span>\r\n              </div>\r\n              <div className=\"flex justify-between\">\r\n                <span className=\"text-text-muted\">Next Billing</span>\r\n                <span className=\"text-white\">\r\n                  {selectedSubscription.nextBilling.toLocaleDateString()}\r\n                </span>\r\n              </div>\r\n              <div className=\"flex justify-between\">\r\n                <span className=\"text-text-muted\">Start Date</span>\r\n                <span className=\"text-white\">\r\n                  {selectedSubscription.startDate.toLocaleDateString()}\r\n                </span>\r\n              </div>\r\n              {selectedSubscription.failedPayments > 0 && (\r\n                <div className=\"flex justify-between\">\r\n                  <span className=\"text-text-muted\">Failed Payments</span>\r\n                  <span className=\"text-danger font-semibold\">\r\n                    {selectedSubscription.failedPayments}\r\n                  </span>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"flex gap-3 mt-6\">\r\n              <button\r\n                onClick={() => handleContactCustomer(selectedSubscription.tenantName)}\r\n                className=\"flex-1 flex items-center justify-center gap-2 py-2 rounded-lg bg-surface-tertiary text-text-secondary hover:text-white transition-colors\"\r\n              >\r\n                <EnvelopeIcon className=\"w-4 h-4\" />\r\n                Contact\r\n              </button>\r\n              {selectedSubscription.status === 'past_due' && (\r\n                <button\r\n                  onClick={() => {\r\n                    handleRetryPayment(selectedSubscription.id);\r\n                    setShowSubscriptionModal(false);\r\n                    setSelectedSubscription(null);\r\n                  }}\r\n                  disabled={retryPaymentMutation.isPending}\r\n                  className=\"flex-1 py-2 rounded-lg bg-danger/10 text-danger hover:bg-danger/20 transition-colors disabled:opacity-50\"\r\n                >\r\n                  {retryPaymentMutation.isPending ? 'Retrying...' : 'Retry Payment'}\r\n                </button>\r\n              )}\r\n              <button\r\n                onClick={() => {\r\n                  setShowSubscriptionModal(false);\r\n                  setSelectedSubscription(null);\r\n                }}\r\n                className=\"flex-1 py-2 rounded-lg bg-stratum-500 text-white hover:bg-stratum-600 transition-colors\"\r\n              >\r\n                Close\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Edit Plan Modal */}\r\n      {showEditPlanModal && selectedPlan && (\r\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\">\r\n          <div className=\"bg-surface-secondary rounded-2xl border border-white/10 p-6 w-full max-w-md mx-4\">\r\n            <div className=\"flex items-center justify-between mb-6\">\r\n              <h2 className=\"text-xl font-semibold text-white\">Edit Plan: {selectedPlan.name}</h2>\r\n              <button\r\n                onClick={() => {\r\n                  setShowEditPlanModal(false);\r\n                  setSelectedPlan(null);\r\n                }}\r\n                className=\"text-text-muted hover:text-white\"\r\n              >\r\n                <XMarkIcon className=\"w-5 h-5\" />\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <label className=\"block text-sm text-text-muted mb-2\">Plan Name</label>\r\n                <input\r\n                  type=\"text\"\r\n                  defaultValue={selectedPlan.name}\r\n                  className=\"w-full px-4 py-2 rounded-lg bg-surface-tertiary border border-white/10 text-white focus:outline-none focus:ring-2 focus:ring-stratum-500/50\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm text-text-muted mb-2\">Price ($/month)</label>\r\n                <input\r\n                  type=\"number\"\r\n                  defaultValue={selectedPlan.price}\r\n                  className=\"w-full px-4 py-2 rounded-lg bg-surface-tertiary border border-white/10 text-white focus:outline-none focus:ring-2 focus:ring-stratum-500/50\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm text-text-muted mb-2\">\r\n                  Features (one per line)\r\n                </label>\r\n                <textarea\r\n                  defaultValue={selectedPlan.features.join('\\n')}\r\n                  rows={4}\r\n                  className=\"w-full px-4 py-2 rounded-lg bg-surface-tertiary border border-white/10 text-white focus:outline-none focus:ring-2 focus:ring-stratum-500/50 resize-none\"\r\n                />\r\n              </div>\r\n              <div className=\"pt-2 border-t border-white/10\">\r\n                <div className=\"text-sm text-text-muted\">\r\n                  Current Subscribers:{' '}\r\n                  <span className=\"text-white font-semibold\">{selectedPlan.subscribers}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex gap-3 mt-6\">\r\n              <button\r\n                onClick={() => {\r\n                  toast({\r\n                    title: 'Plan Updated',\r\n                    description: `${selectedPlan.name} plan has been updated successfully`,\r\n                  });\r\n                  setShowEditPlanModal(false);\r\n                  setSelectedPlan(null);\r\n                }}\r\n                className=\"flex-1 flex items-center justify-center gap-2 py-2 rounded-lg bg-stratum-500 text-white hover:bg-stratum-600 transition-colors\"\r\n              >\r\n                <PencilSquareIcon className=\"w-4 h-4\" />\r\n                Save Changes\r\n              </button>\r\n              <button\r\n                onClick={() => {\r\n                  setShowEditPlanModal(false);\r\n                  setSelectedPlan(null);\r\n                }}\r\n                className=\"flex-1 py-2 rounded-lg bg-surface-tertiary text-text-secondary hover:text-white transition-colors\"\r\n              >\r\n                Cancel\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":["CreditCardIcon","title","titleId","props","svgRef","React.createElement","ForwardRef","React.forwardRef","Billing","activeTab","setActiveTab","useState","toast","useToast","selectedInvoice","setSelectedInvoice","selectedSubscription","setSelectedSubscription","selectedPlan","setSelectedPlan","showInvoiceModal","setShowInvoiceModal","showSubscriptionModal","setShowSubscriptionModal","showEditPlanModal","setShowEditPlanModal","revenueData","useRevenue","plansData","useBillingPlans","invoicesData","useBillingInvoices","subscriptionsData","useBillingSubscriptions","retryPaymentMutation","useRetryPayment","mockMetrics","metrics","_a","s","_b","mockSubscriptions","mockInvoices","mockPlans","subscriptions","_c","invoices","_d","i","plans","p","handleRetryPayment","subscriptionId","error","handleExportReport","csvContent","inv","row","blob","url","link","handleContactCustomer","tenantName","email","handleManageSubscription","subscription","handleViewInvoice","invoice","handleDownloadInvoice","invoiceContent","handleEditPlan","plan","getStatusColor","status","getStatusIcon","jsx","CheckCircleIcon","ExclamationTriangleIcon","ClockIcon","XCircleIcon","tabs","jsxs","DocumentTextIcon","tab","cn","CurrencyDollarIcon","ArrowTrendingUpIcon","UserGroupIcon","sub","feature","XMarkIcon","ArrowDownTrayIcon","EnvelopeIcon","PencilSquareIcon"],"mappings":"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","x_google_ignoreList":[0]}