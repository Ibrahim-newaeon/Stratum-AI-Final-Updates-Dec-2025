import{j as e}from"./vendor-ui-B0DL0VNC.js";import{u as S,k as P,r as p,L as i}from"./vendor-react-Dz7uKsMg.js";import{u as F,o as E,s as b}from"./vendor-forms-632EpTya.js";import{a as M}from"./zod-XktyJAuT.js";import{b as C}from"./auth-BmOk07v4.js";import{h as R,f as $,g as L,e as y}from"./index-BQex3859.js";import{F as T}from"./ExclamationCircleIcon-C8aTdMTs.js";import{F as h}from"./LockClosedIcon-CqmLNRs4.js";import{F as w}from"./EyeSlashIcon-CnEq8eRz.js";import"./vendor-charts-Cj11RBfc.js";import"./vendor-utils-L2YjCnAZ.js";import"./vendor-query-BPt-n81V.js";import"./vendor-motion-CR45sdSp.js";const s={primary:"#00c7be",primaryHover:"#c49a2c",primaryLight:"rgba(0, 199, 190, 0.15)",bgElevated:"rgba(255, 255, 255, 0.05)",bgSurface:"rgba(255, 255, 255, 0.03)",textPrimary:"#FFFFFF",textSecondary:"rgba(255, 255, 255, 0.7)",textMuted:"rgba(255, 255, 255, 0.5)",border:"rgba(255, 255, 255, 0.08)",success:"#34c759",danger:"#ef4444"},B=E({password:b().min(8,"Password must be at least 8 characters"),confirmPassword:b()}).refine(t=>t.password===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function Q(){var u;const t=S(),[f]=P(),d=f.get("token"),[l,g]=p.useState(!1),[n,j]=p.useState(!1),a=C(),c=a.isPending,N=a.isSuccess,m=(u=a.error)==null?void 0:u.message,{register:x,handleSubmit:v,formState:{errors:o}}=F({resolver:M(B)});if(!d)return e.jsx("div",{className:"min-h-screen flex items-center justify-center p-6",style:{background:s.bgElevated},children:e.jsx("div",{className:"max-w-md w-full text-center",children:e.jsxs("div",{className:"p-8 rounded-2xl",style:{background:s.bgSurface,border:`1px solid ${s.border}`,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.08)"},children:[e.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6",style:{background:"#FEF2F2"},children:e.jsx(R,{className:"w-8 h-8",style:{color:s.danger}})}),e.jsx("h1",{className:"text-2xl font-semibold mb-3",style:{color:s.textPrimary},children:"Invalid reset link"}),e.jsx("p",{className:"mb-6",style:{color:s.textMuted},children:"This password reset link is invalid or has expired."}),e.jsx(i,{to:"/forgot-password",className:"block w-full py-3 rounded-xl text-black font-semibold text-center transition-all duration-200",style:{background:s.primary},children:"Request new link"})]})})});const k=async r=>{a.mutate({token:d,password:r.password})};return N?e.jsx("div",{className:"min-h-screen flex items-center justify-center p-6",style:{background:s.bgElevated},children:e.jsx("div",{className:"max-w-md w-full text-center",children:e.jsxs("div",{className:"p-8 rounded-2xl",style:{background:s.bgSurface,border:`1px solid ${s.border}`,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.08)"},children:[e.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6",style:{background:`${s.success}15`},children:e.jsx($,{className:"w-8 h-8",style:{color:s.success}})}),e.jsx("h1",{className:"text-2xl font-semibold mb-3",style:{color:s.textPrimary},children:"Password reset successful"}),e.jsx("p",{className:"mb-6",style:{color:s.textMuted},children:"You can now sign in with your new password."}),e.jsx("button",{onClick:()=>t("/login"),className:"w-full py-3 rounded-xl text-black font-semibold transition-all duration-200",style:{background:s.primary},onMouseEnter:r=>r.currentTarget.style.background=s.primaryHover,onMouseLeave:r=>r.currentTarget.style.background=s.primary,children:"Sign in"})]})})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center p-6",style:{background:s.bgElevated},children:e.jsxs("div",{className:"max-w-md w-full",children:[e.jsxs(i,{to:"/login",className:"inline-flex items-center gap-2 text-sm transition-colors mb-8 hover:underline",style:{color:s.textMuted},children:[e.jsx(L,{className:"w-4 h-4"}),"Back to login"]}),e.jsxs(i,{to:"/",className:"flex items-center gap-3 mb-8",children:[e.jsx("div",{className:"h-10 w-10 rounded-xl flex items-center justify-center",style:{background:s.primary},children:e.jsx("span",{className:"text-white font-semibold text-lg",children:"S"})}),e.jsx("span",{className:"text-xl font-semibold",style:{color:s.textPrimary},children:"Stratum AI"})]}),e.jsxs("div",{className:"p-8 rounded-2xl",style:{background:s.bgSurface,border:`1px solid ${s.border}`,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.08)"},children:[e.jsx("h1",{className:"text-2xl font-semibold mb-2",style:{color:s.textPrimary},children:"Reset your password"}),e.jsx("p",{className:"mb-6",style:{color:s.textMuted},children:"Enter your new password below."}),e.jsxs("form",{onSubmit:v(k),className:"space-y-5",children:[m&&e.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-xl text-sm",style:{background:"#FEF2F2",border:"1px solid #FEE2E2",color:"#DC2626"},children:[e.jsx(T,{className:"w-5 h-5 flex-shrink-0"}),e.jsx("span",{children:m})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",style:{color:s.textSecondary},children:"New password"}),e.jsxs("div",{className:"relative",children:[e.jsx(h,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5",style:{color:s.textMuted}}),e.jsx("input",{...x("password"),type:l?"text":"password",placeholder:"Min. 8 characters",className:"w-full pl-12 pr-12 py-3 rounded-xl outline-none transition-all duration-200",style:{background:s.bgElevated,border:`1px solid ${s.border}`,color:s.textPrimary},onFocus:r=>{r.target.style.borderColor=s.primary,r.target.style.boxShadow=`0 0 0 3px ${s.primaryLight}`},onBlur:r=>{r.target.style.borderColor=s.border,r.target.style.boxShadow="none"}}),e.jsx("button",{type:"button",onClick:()=>g(!l),className:"absolute right-4 top-1/2 -translate-y-1/2 transition-colors",style:{color:s.textMuted},children:l?e.jsx(w,{className:"w-5 h-5"}):e.jsx(y,{className:"w-5 h-5"})})]}),o.password&&e.jsx("p",{className:"text-sm text-red-500",children:o.password.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",style:{color:s.textSecondary},children:"Confirm password"}),e.jsxs("div",{className:"relative",children:[e.jsx(h,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5",style:{color:s.textMuted}}),e.jsx("input",{...x("confirmPassword"),type:n?"text":"password",placeholder:"Confirm password",className:"w-full pl-12 pr-12 py-3 rounded-xl outline-none transition-all duration-200",style:{background:s.bgElevated,border:`1px solid ${s.border}`,color:s.textPrimary},onFocus:r=>{r.target.style.borderColor=s.primary,r.target.style.boxShadow=`0 0 0 3px ${s.primaryLight}`},onBlur:r=>{r.target.style.borderColor=s.border,r.target.style.boxShadow="none"}}),e.jsx("button",{type:"button",onClick:()=>j(!n),className:"absolute right-4 top-1/2 -translate-y-1/2 transition-colors",style:{color:s.textMuted},children:n?e.jsx(w,{className:"w-5 h-5"}):e.jsx(y,{className:"w-5 h-5"})})]}),o.confirmPassword&&e.jsx("p",{className:"text-sm text-red-500",children:o.confirmPassword.message})]}),e.jsx("button",{type:"submit",disabled:c,className:"w-full py-3 rounded-xl font-semibold text-black transition-all duration-200 disabled:opacity-50",style:{background:s.primary},onMouseEnter:r=>{c||(r.currentTarget.style.background=s.primaryHover)},onMouseLeave:r=>{r.currentTarget.style.background=s.primary},children:c?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsxs("svg",{className:"animate-spin w-5 h-5",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Resetting..."]}):"Reset password"})]})]})]})})}export{Q as default};
//# sourceMappingURL=ResetPassword-ChWEXoW1.js.map
