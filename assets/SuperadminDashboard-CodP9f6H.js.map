{"version":3,"file":"SuperadminDashboard-CodP9f6H.js","sources":["../../node_modules/lucide-react/dist/esm/icons/arrow-down-right.js","../../node_modules/lucide-react/dist/esm/icons/ban.js","../../node_modules/lucide-react/dist/esm/icons/hard-drive.js","../../node_modules/lucide-react/dist/esm/icons/receipt.js","../../src/views/SuperadminDashboard.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"m7 7 10 10\", key: \"1fmybs\" }],\n  [\"path\", { d: \"M17 7v10H7\", key: \"6fjiku\" }]\n];\nconst ArrowDownRight = createLucideIcon(\"arrow-down-right\", __iconNode);\n\nexport { __iconNode, ArrowDownRight as default };\n//# sourceMappingURL=arrow-down-right.js.map\n","/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M4.929 4.929 19.07 19.071\", key: \"196cmz\" }],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }]\n];\nconst Ban = createLucideIcon(\"ban\", __iconNode);\n\nexport { __iconNode, Ban as default };\n//# sourceMappingURL=ban.js.map\n","/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"line\", { x1: \"22\", x2: \"2\", y1: \"12\", y2: \"12\", key: \"1y58io\" }],\n  [\n    \"path\",\n    {\n      d: \"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z\",\n      key: \"oot6mr\"\n    }\n  ],\n  [\"line\", { x1: \"6\", x2: \"6.01\", y1: \"16\", y2: \"16\", key: \"sgf278\" }],\n  [\"line\", { x1: \"10\", x2: \"10.01\", y1: \"16\", y2: \"16\", key: \"1l4acy\" }]\n];\nconst HardDrive = createLucideIcon(\"hard-drive\", __iconNode);\n\nexport { __iconNode, HardDrive as default };\n//# sourceMappingURL=hard-drive.js.map\n","/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    { d: \"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z\", key: \"q3az6g\" }\n  ],\n  [\"path\", { d: \"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8\", key: \"1h4pet\" }],\n  [\"path\", { d: \"M12 17.5v-11\", key: \"1jc1ny\" }]\n];\nconst Receipt = createLucideIcon(\"receipt\", __iconNode);\n\nexport { __iconNode, Receipt as default };\n//# sourceMappingURL=receipt.js.map\n","/**\r\n * Superadmin Dashboard\r\n * Comprehensive dashboard for system-wide management and monitoring\r\n * Blends MRR/ARR metrics, churn prediction, system health, and tenant management\r\n */\r\n\r\nimport { useCallback, useEffect, useMemo, useState } from 'react';\r\nimport {\r\n  Activity,\r\n  AlertCircle,\r\n  AlertTriangle,\r\n  ArrowDownRight,\r\n  ArrowUpRight,\r\n  Ban,\r\n  BarChart3,\r\n  Building2,\r\n  Calendar,\r\n  CheckCircle2,\r\n  ChevronRight,\r\n  Cpu,\r\n  CreditCard,\r\n  Crown,\r\n  Database,\r\n  DollarSign,\r\n  Edit,\r\n  Eye,\r\n  FileText,\r\n  Globe,\r\n  HardDrive,\r\n  Key,\r\n  Loader2,\r\n  Package,\r\n  PieChart,\r\n  Plus,\r\n  Receipt,\r\n  RefreshCw,\r\n  Search,\r\n  Server,\r\n  Settings,\r\n  Shield,\r\n  TrendingUp,\r\n  Users,\r\n  XCircle,\r\n  Zap,\r\n} from 'lucide-react';\r\nimport { cn } from '@/lib/utils';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport axios from 'axios';\r\n\r\nconst API_BASE_URL = import.meta.env.VITE_API_BASE_URL || 'http://localhost:8000';\r\n\r\n// =============================================================================\r\n// Types\r\n// =============================================================================\r\ninterface RevenueMetrics {\r\n  mrr: number;\r\n  arr: number;\r\n  mrr_growth_pct: number;\r\n  gross_margin_pct: number;\r\n  arpa: number;\r\n  nrr: number;\r\n  churn_rate: number;\r\n  active_tenants: number;\r\n  trial_tenants: number;\r\n  total_tenants: number;\r\n}\r\n\r\ninterface TenantPortfolioItem {\r\n  id: number;\r\n  name: string;\r\n  slug: string;\r\n  plan: string;\r\n  status: string;\r\n  mrr: number;\r\n  users_count: number;\r\n  users_limit: number;\r\n  campaigns_count: number;\r\n  connectors: string[];\r\n  signal_health: string;\r\n  churn_risk: number | null;\r\n  last_admin_login: string | null;\r\n  created_at: string;\r\n}\r\n\r\ninterface ChurnRisk {\r\n  tenant_id: number;\r\n  tenant_name: string;\r\n  plan: string;\r\n  risk_score: number;\r\n  risk_factors: string[];\r\n  recommended_actions: string[];\r\n  mrr_at_risk: number;\r\n}\r\n\r\ninterface SystemHealth {\r\n  pipeline: { success_rate_24h: number; jobs_total_24h: number; jobs_failed_24h: number };\r\n  api: {\r\n    requests_24h: number;\r\n    error_rate: number;\r\n    latency_p50_ms: number;\r\n    latency_p99_ms?: number;\r\n  };\r\n  platforms: Record<string, { status: string; success_rate: number }>;\r\n  resources: { cpu_percent: number; memory_percent: number; disk_percent: number };\r\n}\r\n\r\ninterface SystemAlert {\r\n  id: string;\r\n  type: 'error' | 'warning' | 'info';\r\n  message: string;\r\n  component: string;\r\n  timestamp: string;\r\n}\r\n\r\n// =============================================================================\r\n// Mock data for features not yet connected\r\n// =============================================================================\r\nconst mockAlerts: SystemAlert[] = [\r\n  {\r\n    id: '1',\r\n    type: 'warning',\r\n    message: 'High API latency detected on Meta endpoints',\r\n    component: 'API Gateway',\r\n    timestamp: '5 mins ago',\r\n  },\r\n  {\r\n    id: '2',\r\n    type: 'info',\r\n    message: 'Database backup completed successfully',\r\n    component: 'Database',\r\n    timestamp: '30 mins ago',\r\n  },\r\n  {\r\n    id: '3',\r\n    type: 'error',\r\n    message: 'Failed to sync TikTok campaigns for 3 tenants',\r\n    component: 'Sync Service',\r\n    timestamp: '1 hour ago',\r\n  },\r\n  {\r\n    id: '4',\r\n    type: 'info',\r\n    message: 'New version v2.4.1 deployed successfully',\r\n    component: 'Deployment',\r\n    timestamp: '2 hours ago',\r\n  },\r\n];\r\n\r\n// =============================================================================\r\n// Main Component\r\n// =============================================================================\r\nexport default function SuperadminDashboard() {\r\n  const { user } = useAuth();\r\n  const [isRefreshing, setIsRefreshing] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [activeTab, setActiveTab] = useState<\r\n    'overview' | 'tenants' | 'system' | 'churn' | 'billing' | 'audit'\r\n  >('overview');\r\n  const [billingSubTab, setBillingSubTab] = useState<\r\n    'overview' | 'plans' | 'invoices' | 'subscriptions'\r\n  >('overview');\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [auditFilter, setAuditFilter] = useState({ action: '', tenant_id: '' });\r\n\r\n  // API Data\r\n  const [revenueMetrics, setRevenueMetrics] = useState<RevenueMetrics | null>(null);\r\n  const [tenants, setTenants] = useState<TenantPortfolioItem[]>([]);\r\n  const [churnRisks, setChurnRisks] = useState<ChurnRisk[]>([]);\r\n  const [systemHealth, setSystemHealth] = useState<SystemHealth | null>(null);\r\n  const [plans, setPlans] = useState<any[]>([]);\r\n  const [invoices, setInvoices] = useState<any[]>([]);\r\n  const [auditLogs, setAuditLogs] = useState<any[]>([]);\r\n\r\n  const getAuthHeaders = () => {\r\n    const token = localStorage.getItem('access_token');\r\n    return token ? { Authorization: `Bearer ${token}` } : {};\r\n  };\r\n\r\n  const fetchData = useCallback(async () => {\r\n    setIsLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const [revenueRes, tenantsRes, healthRes, churnRes, plansRes, invoicesRes, auditRes] =\r\n        await Promise.allSettled([\r\n          axios.get(`${API_BASE_URL}/api/v1/superadmin/revenue`, { headers: getAuthHeaders() }),\r\n          axios.get(`${API_BASE_URL}/api/v1/superadmin/tenants/portfolio`, {\r\n            headers: getAuthHeaders(),\r\n          }),\r\n          axios.get(`${API_BASE_URL}/api/v1/superadmin/system/health`, {\r\n            headers: getAuthHeaders(),\r\n          }),\r\n          axios.get(`${API_BASE_URL}/api/v1/superadmin/churn/risks`, { headers: getAuthHeaders() }),\r\n          axios.get(`${API_BASE_URL}/api/v1/superadmin/billing/plans`, {\r\n            headers: getAuthHeaders(),\r\n          }),\r\n          axios.get(`${API_BASE_URL}/api/v1/superadmin/billing/invoices`, {\r\n            headers: getAuthHeaders(),\r\n          }),\r\n          axios.get(`${API_BASE_URL}/api/v1/superadmin/audit?limit=100`, {\r\n            headers: getAuthHeaders(),\r\n          }),\r\n        ]);\r\n\r\n      // Handle each response individually\r\n      if (revenueRes.status === 'fulfilled' && revenueRes.value.data.success) {\r\n        setRevenueMetrics(revenueRes.value.data.data);\r\n      }\r\n      if (tenantsRes.status === 'fulfilled' && tenantsRes.value.data.success) {\r\n        setTenants(tenantsRes.value.data.data.tenants || []);\r\n      }\r\n      if (healthRes.status === 'fulfilled' && healthRes.value.data.success) {\r\n        setSystemHealth(healthRes.value.data.data);\r\n      }\r\n      if (churnRes.status === 'fulfilled' && churnRes.value.data.success) {\r\n        setChurnRisks(churnRes.value.data.data.at_risk_tenants || []);\r\n      }\r\n      if (plansRes.status === 'fulfilled' && plansRes.value.data.success) {\r\n        setPlans(plansRes.value.data.data.plans || []);\r\n      }\r\n      if (invoicesRes.status === 'fulfilled' && invoicesRes.value.data.success) {\r\n        setInvoices(invoicesRes.value.data.data.invoices || []);\r\n      }\r\n      if (auditRes.status === 'fulfilled' && auditRes.value.data.success) {\r\n        setAuditLogs(auditRes.value.data.data.logs || []);\r\n      }\r\n    } catch (err: any) {\r\n      setError(err.response?.data?.detail || 'Failed to load dashboard data');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, [fetchData]);\r\n\r\n  const handleRefresh = () => {\r\n    setIsRefreshing(true);\r\n    fetchData().finally(() => setIsRefreshing(false));\r\n  };\r\n\r\n  const filteredTenants = useMemo(() => {\r\n    if (!searchQuery) return tenants;\r\n    const query = searchQuery.toLowerCase();\r\n    return tenants.filter(\r\n      (t) =>\r\n        t.name.toLowerCase().includes(query) ||\r\n        t.slug.toLowerCase().includes(query) ||\r\n        t.plan.toLowerCase().includes(query)\r\n    );\r\n  }, [tenants, searchQuery]);\r\n\r\n  const formatCurrency = (num: number) => {\r\n    return new Intl.NumberFormat('en-US', {\r\n      style: 'currency',\r\n      currency: 'USD',\r\n      minimumFractionDigits: 0,\r\n      maximumFractionDigits: 0,\r\n    }).format(num);\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-96 motion-enter\">\r\n        <Loader2 className=\"h-8 w-8 animate-spin text-primary\" />\r\n        <span className=\"ml-3 text-muted-foreground\">Loading Super Admin Dashboard...</span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex flex-col lg:flex-row lg:items-center justify-between gap-4 motion-enter\">\r\n        <div>\r\n          <h1 className=\"text-2xl font-bold flex items-center gap-2\">\r\n            <Crown className=\"w-7 h-7 text-amber-500\" />\r\n            Superadmin Dashboard\r\n          </h1>\r\n          <p className=\"text-muted-foreground mt-1\">\r\n            System-wide management and monitoring â€¢ Welcome back, {user?.name}\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"flex items-center gap-3\">\r\n          <button\r\n            onClick={handleRefresh}\r\n            disabled={isRefreshing}\r\n            className=\"flex items-center gap-2 px-4 py-2 rounded-lg border hover:bg-muted transition-colors motion-card\"\r\n          >\r\n            <RefreshCw className={cn('w-4 h-4', isRefreshing && 'animate-spin')} />\r\n            Refresh\r\n          </button>\r\n          <button className=\"flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-stratum text-white shadow-glow hover:shadow-glow-lg transition-all motion-card\">\r\n            <Plus className=\"w-4 h-4\" />\r\n            New Tenant\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {error && (\r\n        <div className=\"flex items-center gap-2 p-4 rounded-lg bg-destructive/10 text-destructive border border-destructive/20 motion-critical\">\r\n          <AlertTriangle className=\"h-5 w-5 flex-shrink-0\" />\r\n          <span>{error}</span>\r\n        </div>\r\n      )}\r\n\r\n      {/* Tab Navigation */}\r\n      <div className=\"flex items-center gap-1 p-1 rounded-lg bg-muted/50 w-fit motion-enter overflow-x-auto\">\r\n        {[\r\n          { id: 'overview', label: 'Overview', icon: BarChart3 },\r\n          { id: 'tenants', label: 'Tenants', icon: Building2 },\r\n          { id: 'system', label: 'System', icon: Server },\r\n          { id: 'churn', label: 'Churn Risk', icon: AlertTriangle },\r\n          { id: 'billing', label: 'Billing', icon: CreditCard },\r\n          { id: 'audit', label: 'Audit Log', icon: FileText },\r\n        ].map((tab) => (\r\n          <button\r\n            key={tab.id}\r\n            onClick={() => setActiveTab(tab.id as any)}\r\n            className={cn(\r\n              'flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-all whitespace-nowrap',\r\n              activeTab === tab.id\r\n                ? 'bg-background shadow text-foreground'\r\n                : 'text-muted-foreground hover:text-foreground'\r\n            )}\r\n          >\r\n            <tab.icon className=\"w-4 h-4\" />\r\n            {tab.label}\r\n          </button>\r\n        ))}\r\n      </div>\r\n\r\n      {/* =========================================================================\r\n          Overview Tab - Revenue KPIs + Quick Stats\r\n      ========================================================================= */}\r\n      {activeTab === 'overview' && (\r\n        <div className=\"space-y-6 motion-enter\">\r\n          {/* Revenue KPIs */}\r\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n            <KPICard\r\n              icon={DollarSign}\r\n              label=\"MRR\"\r\n              value={revenueMetrics ? formatCurrency(revenueMetrics.mrr) : '$0'}\r\n              delta={revenueMetrics?.mrr_growth_pct}\r\n              deltaLabel=\"vs last month\"\r\n              color=\"green\"\r\n            />\r\n            <KPICard\r\n              icon={TrendingUp}\r\n              label=\"ARR\"\r\n              value={revenueMetrics ? formatCurrency(revenueMetrics.arr) : '$0'}\r\n              color=\"purple\"\r\n            />\r\n            <KPICard\r\n              icon={Building2}\r\n              label=\"Active Tenants\"\r\n              value={revenueMetrics?.active_tenants || 0}\r\n              subValue={`${revenueMetrics?.trial_tenants || 0} trials`}\r\n              color=\"blue\"\r\n            />\r\n            <KPICard\r\n              icon={BarChart3}\r\n              label=\"ARPA\"\r\n              value={revenueMetrics ? formatCurrency(revenueMetrics.arpa) : '$0'}\r\n              color=\"amber\"\r\n            />\r\n          </div>\r\n\r\n          {/* Secondary Metrics */}\r\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n            <MetricCard\r\n              label=\"NRR\"\r\n              value={`${revenueMetrics?.nrr || 0}%`}\r\n              status={(revenueMetrics?.nrr || 0) >= 100 ? 'green' : 'amber'}\r\n            />\r\n            <MetricCard\r\n              label=\"Churn Rate\"\r\n              value={`${revenueMetrics?.churn_rate || 0}%`}\r\n              status={(revenueMetrics?.churn_rate || 0) < 5 ? 'green' : 'red'}\r\n            />\r\n            <MetricCard\r\n              label=\"Gross Margin\"\r\n              value={`${revenueMetrics?.gross_margin_pct || 0}%`}\r\n              status=\"green\"\r\n            />\r\n            <MetricCard\r\n              label=\"Total Tenants\"\r\n              value={revenueMetrics?.total_tenants || 0}\r\n              status=\"blue\"\r\n            />\r\n          </div>\r\n\r\n          {/* Quick Stats Grid */}\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n            {/* At Risk Tenants */}\r\n            <div className=\"rounded-xl border bg-card p-5 shadow-card motion-card\">\r\n              <h3 className=\"font-semibold mb-4 flex items-center gap-2\">\r\n                <AlertTriangle className=\"w-5 h-5 text-amber-500\" />\r\n                Tenants at Churn Risk\r\n                {churnRisks.length > 0 && (\r\n                  <span className=\"ml-auto text-sm font-normal text-amber-500\">\r\n                    ${churnRisks.reduce((sum, r) => sum + r.mrr_at_risk, 0).toLocaleString()}/mo at\r\n                    risk\r\n                  </span>\r\n                )}\r\n              </h3>\r\n              {churnRisks.length === 0 ? (\r\n                <p className=\"text-muted-foreground py-4 text-center\">\r\n                  No tenants at high churn risk ðŸŽ‰\r\n                </p>\r\n              ) : (\r\n                <div className=\"space-y-3\">\r\n                  {churnRisks.slice(0, 5).map((risk, idx) => (\r\n                    <div\r\n                      key={risk.tenant_id}\r\n                      className=\"flex items-center justify-between p-3 rounded-lg bg-muted/50 motion-enter\"\r\n                      style={{ animationDelay: `${idx * 50}ms` }}\r\n                    >\r\n                      <div>\r\n                        <p className=\"font-medium\">{risk.tenant_name}</p>\r\n                        <p className=\"text-xs text-muted-foreground\">{risk.risk_factors[0]}</p>\r\n                      </div>\r\n                      <div className=\"text-right\">\r\n                        <p\r\n                          className={cn(\r\n                            'font-bold',\r\n                            risk.risk_score >= 0.7\r\n                              ? 'text-red-500'\r\n                              : risk.risk_score >= 0.5\r\n                                ? 'text-amber-500'\r\n                                : 'text-green-500'\r\n                          )}\r\n                        >\r\n                          {(risk.risk_score * 100).toFixed(0)}% risk\r\n                        </p>\r\n                        <p className=\"text-xs text-muted-foreground\">${risk.mrr_at_risk}/mo</p>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* System Health Summary */}\r\n            <div className=\"rounded-xl border bg-card p-5 shadow-card motion-card\">\r\n              <h3 className=\"font-semibold mb-4 flex items-center gap-2\">\r\n                <Activity className=\"w-5 h-5 text-green-500\" />\r\n                System Health\r\n              </h3>\r\n              {systemHealth ? (\r\n                <div className=\"space-y-3\">\r\n                  <HealthRow\r\n                    label=\"Pipeline Success Rate\"\r\n                    value={`${systemHealth.pipeline.success_rate_24h}%`}\r\n                    status={systemHealth.pipeline.success_rate_24h >= 99 ? 'green' : 'amber'}\r\n                  />\r\n                  <HealthRow\r\n                    label=\"API Error Rate\"\r\n                    value={`${systemHealth.api.error_rate}%`}\r\n                    status={systemHealth.api.error_rate < 1 ? 'green' : 'amber'}\r\n                  />\r\n                  <HealthRow\r\n                    label=\"API Latency (p50)\"\r\n                    value={`${systemHealth.api.latency_p50_ms}ms`}\r\n                    status={systemHealth.api.latency_p50_ms < 100 ? 'green' : 'amber'}\r\n                  />\r\n                  <HealthRow\r\n                    label=\"CPU Usage\"\r\n                    value={`${systemHealth.resources.cpu_percent}%`}\r\n                    status={systemHealth.resources.cpu_percent < 70 ? 'green' : 'amber'}\r\n                  />\r\n                </div>\r\n              ) : (\r\n                <p className=\"text-muted-foreground py-4 text-center\">Loading health metrics...</p>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* System Alerts */}\r\n          <div className=\"rounded-xl border bg-card p-6 shadow-card motion-card\">\r\n            <h3 className=\"font-semibold mb-4 flex items-center gap-2\">\r\n              <AlertCircle className=\"w-5 h-5 text-primary\" />\r\n              System Alerts\r\n            </h3>\r\n            <div className=\"space-y-3\">\r\n              {mockAlerts.map((alert, idx) => (\r\n                <div\r\n                  key={alert.id}\r\n                  className={cn(\r\n                    'flex items-start gap-3 p-3 rounded-lg border motion-enter',\r\n                    alert.type === 'error' && 'bg-red-500/5 border-red-500/20',\r\n                    alert.type === 'warning' && 'bg-amber-500/5 border-amber-500/20',\r\n                    alert.type === 'info' && 'bg-blue-500/5 border-blue-500/20'\r\n                  )}\r\n                  style={{ animationDelay: `${idx * 30}ms` }}\r\n                >\r\n                  {alert.type === 'error' && (\r\n                    <XCircle className=\"w-5 h-5 text-red-500 flex-shrink-0\" />\r\n                  )}\r\n                  {alert.type === 'warning' && (\r\n                    <AlertTriangle className=\"w-5 h-5 text-amber-500 flex-shrink-0\" />\r\n                  )}\r\n                  {alert.type === 'info' && (\r\n                    <CheckCircle2 className=\"w-5 h-5 text-blue-500 flex-shrink-0\" />\r\n                  )}\r\n                  <div className=\"flex-1\">\r\n                    <p className=\"text-sm font-medium\">{alert.message}</p>\r\n                    <p className=\"text-xs text-muted-foreground mt-1\">\r\n                      {alert.component} â€¢ {alert.timestamp}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Usage Limits & Overage Warnings */}\r\n          <div className=\"rounded-xl border bg-card p-6 shadow-card motion-card\">\r\n            <h3 className=\"font-semibold mb-4 flex items-center gap-2\">\r\n              <Package className=\"w-5 h-5 text-purple-500\" />\r\n              Usage Limits\r\n              <span className=\"ml-auto text-xs font-normal text-muted-foreground\">\r\n                Tenants approaching plan limits\r\n              </span>\r\n            </h3>\r\n            {(() => {\r\n              // Calculate tenants near limits\r\n              const tenantsNearLimits = tenants.filter((t) => {\r\n                const usersPct = (t.users_count / t.users_limit) * 100;\r\n                return usersPct >= 75;\r\n              });\r\n\r\n              if (tenantsNearLimits.length === 0) {\r\n                return (\r\n                  <p className=\"text-muted-foreground text-center py-4\">\r\n                    All tenants are within their usage limits\r\n                  </p>\r\n                );\r\n              }\r\n\r\n              return (\r\n                <div className=\"space-y-3\">\r\n                  {tenantsNearLimits.slice(0, 5).map((tenant, idx) => {\r\n                    const usersPct = (tenant.users_count / tenant.users_limit) * 100;\r\n                    const isOverLimit = usersPct >= 100;\r\n                    const isNearLimit = usersPct >= 90;\r\n\r\n                    return (\r\n                      <div\r\n                        key={tenant.id}\r\n                        className={cn(\r\n                          'flex items-center justify-between p-3 rounded-lg border motion-enter',\r\n                          isOverLimit\r\n                            ? 'bg-red-500/5 border-red-500/20'\r\n                            : isNearLimit\r\n                              ? 'bg-amber-500/5 border-amber-500/20'\r\n                              : 'bg-blue-500/5 border-blue-500/20'\r\n                        )}\r\n                        style={{ animationDelay: `${idx * 40}ms` }}\r\n                      >\r\n                        <div className=\"flex items-center gap-3\">\r\n                          <div\r\n                            className={cn(\r\n                              'w-8 h-8 rounded-lg flex items-center justify-center text-white font-bold text-xs',\r\n                              isOverLimit\r\n                                ? 'bg-red-500'\r\n                                : isNearLimit\r\n                                  ? 'bg-amber-500'\r\n                                  : 'bg-blue-500'\r\n                            )}\r\n                          >\r\n                            {tenant.name.charAt(0)}\r\n                          </div>\r\n                          <div>\r\n                            <p className=\"font-medium\">{tenant.name}</p>\r\n                            <p className=\"text-xs text-muted-foreground capitalize\">\r\n                              {tenant.plan} plan\r\n                            </p>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"text-right\">\r\n                          <div className=\"flex items-center gap-2\">\r\n                            <Users className=\"w-4 h-4 text-muted-foreground\" />\r\n                            <span\r\n                              className={cn(\r\n                                'font-medium',\r\n                                isOverLimit\r\n                                  ? 'text-red-500'\r\n                                  : isNearLimit\r\n                                    ? 'text-amber-500'\r\n                                    : 'text-blue-500'\r\n                              )}\r\n                            >\r\n                              {tenant.users_count}/{tenant.users_limit}\r\n                            </span>\r\n                          </div>\r\n                          <div className=\"w-20 h-1.5 bg-muted rounded-full mt-1\">\r\n                            <div\r\n                              className={cn(\r\n                                'h-full rounded-full transition-all',\r\n                                isOverLimit\r\n                                  ? 'bg-red-500'\r\n                                  : isNearLimit\r\n                                    ? 'bg-amber-500'\r\n                                    : 'bg-blue-500'\r\n                              )}\r\n                              style={{ width: `${Math.min(100, usersPct)}%` }}\r\n                            />\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    );\r\n                  })}\r\n                  {tenantsNearLimits.length > 5 && (\r\n                    <button\r\n                      onClick={() => setActiveTab('tenants')}\r\n                      className=\"w-full text-center text-sm text-primary hover:underline py-2\"\r\n                    >\r\n                      View all {tenantsNearLimits.length} tenants approaching limits â†’\r\n                    </button>\r\n                  )}\r\n                </div>\r\n              );\r\n            })()}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* =========================================================================\r\n          Tenants Tab - Tenant Portfolio with Health & Churn Indicators\r\n      ========================================================================= */}\r\n      {activeTab === 'tenants' && (\r\n        <div className=\"space-y-4 motion-enter\">\r\n          {/* Search and Filters */}\r\n          <div className=\"flex items-center gap-4\">\r\n            <div className=\"relative flex-1 max-w-md\">\r\n              <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground\" />\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Search tenants...\"\r\n                value={searchQuery}\r\n                onChange={(e) => setSearchQuery(e.target.value)}\r\n                className=\"w-full pl-10 pr-4 py-2 rounded-lg border bg-background focus:ring-2 focus:ring-primary/20\"\r\n              />\r\n            </div>\r\n            <select className=\"px-3 py-2 rounded-lg border bg-background\">\r\n              <option>All Plans</option>\r\n              <option>Enterprise</option>\r\n              <option>Professional</option>\r\n              <option>Starter</option>\r\n              <option>Free</option>\r\n            </select>\r\n            <select className=\"px-3 py-2 rounded-lg border bg-background\">\r\n              <option>All Status</option>\r\n              <option>Active</option>\r\n              <option>Trial</option>\r\n              <option>Suspended</option>\r\n            </select>\r\n          </div>\r\n\r\n          {/* Tenants Table */}\r\n          <div className=\"rounded-xl border bg-card overflow-hidden shadow-card\">\r\n            <table className=\"w-full text-sm\">\r\n              <thead className=\"bg-muted/30\">\r\n                <tr>\r\n                  <th className=\"text-left py-3 px-4 font-medium\">Tenant</th>\r\n                  <th className=\"text-left py-3 px-4 font-medium\">Plan</th>\r\n                  <th className=\"text-right py-3 px-4 font-medium\">MRR</th>\r\n                  <th className=\"text-center py-3 px-4 font-medium\">Users</th>\r\n                  <th className=\"text-center py-3 px-4 font-medium\">Signal Health</th>\r\n                  <th className=\"text-center py-3 px-4 font-medium\">Churn Risk</th>\r\n                  <th className=\"text-right py-3 px-4 font-medium\">Actions</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody className=\"divide-y\">\r\n                {filteredTenants.length === 0 ? (\r\n                  <tr>\r\n                    <td colSpan={7} className=\"py-8 text-center text-muted-foreground\">\r\n                      No tenants found\r\n                    </td>\r\n                  </tr>\r\n                ) : (\r\n                  filteredTenants.map((tenant, idx) => (\r\n                    <tr\r\n                      key={tenant.id}\r\n                      className=\"hover:bg-muted/30 motion-enter\"\r\n                      style={{ animationDelay: `${idx * 20}ms` }}\r\n                    >\r\n                      <td className=\"py-3 px-4\">\r\n                        <div className=\"flex items-center gap-3\">\r\n                          <div className=\"w-9 h-9 rounded-lg bg-gradient-stratum flex items-center justify-center text-white font-bold\">\r\n                            {tenant.name.charAt(0)}\r\n                          </div>\r\n                          <div>\r\n                            <p className=\"font-medium\">{tenant.name}</p>\r\n                            <p className=\"text-xs text-muted-foreground\">{tenant.slug}</p>\r\n                          </div>\r\n                        </div>\r\n                      </td>\r\n                      <td className=\"py-3 px-4\">\r\n                        <PlanBadge plan={tenant.plan} />\r\n                      </td>\r\n                      <td className=\"text-right py-3 px-4 font-medium\">\r\n                        {formatCurrency(tenant.mrr)}\r\n                      </td>\r\n                      <td className=\"text-center py-3 px-4\">\r\n                        <div className=\"flex items-center justify-center gap-2\">\r\n                          <span>\r\n                            {tenant.users_count}/{tenant.users_limit}\r\n                          </span>\r\n                          <div className=\"w-12 h-1.5 bg-muted rounded-full\">\r\n                            <div\r\n                              className={cn(\r\n                                'h-full rounded-full',\r\n                                tenant.users_count / tenant.users_limit >= 0.9\r\n                                  ? 'bg-red-500'\r\n                                  : tenant.users_count / tenant.users_limit >= 0.7\r\n                                    ? 'bg-amber-500'\r\n                                    : 'bg-green-500'\r\n                              )}\r\n                              style={{\r\n                                width: `${Math.min(100, (tenant.users_count / tenant.users_limit) * 100)}%`,\r\n                              }}\r\n                            />\r\n                          </div>\r\n                        </div>\r\n                      </td>\r\n                      <td className=\"text-center py-3 px-4\">\r\n                        <HealthBadge status={tenant.signal_health} />\r\n                      </td>\r\n                      <td className=\"text-center py-3 px-4\">\r\n                        {tenant.churn_risk !== null ? (\r\n                          <span\r\n                            className={cn(\r\n                              'font-medium',\r\n                              tenant.churn_risk >= 0.7\r\n                                ? 'text-red-500'\r\n                                : tenant.churn_risk >= 0.4\r\n                                  ? 'text-amber-500'\r\n                                  : 'text-green-500'\r\n                            )}\r\n                          >\r\n                            {(tenant.churn_risk * 100).toFixed(0)}%\r\n                          </span>\r\n                        ) : (\r\n                          <span className=\"text-muted-foreground\">-</span>\r\n                        )}\r\n                      </td>\r\n                      <td className=\"text-right py-3 px-4\">\r\n                        <div className=\"flex items-center justify-end gap-1\">\r\n                          <button className=\"p-1.5 rounded hover:bg-muted\" title=\"View\">\r\n                            <Eye className=\"w-4 h-4\" />\r\n                          </button>\r\n                          <button className=\"p-1.5 rounded hover:bg-muted\" title=\"Edit\">\r\n                            <Edit className=\"w-4 h-4\" />\r\n                          </button>\r\n                          <button\r\n                            className=\"p-1.5 rounded hover:bg-muted text-red-500\"\r\n                            title=\"Suspend\"\r\n                          >\r\n                            <Ban className=\"w-4 h-4\" />\r\n                          </button>\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  ))\r\n                )}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* =========================================================================\r\n          System Tab - Infrastructure Status & Platform Health\r\n      ========================================================================= */}\r\n      {activeTab === 'system' && (\r\n        <div className=\"space-y-6 motion-enter\">\r\n          {/* Platform Health Grid */}\r\n          {systemHealth && (\r\n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n              {Object.entries(systemHealth.platforms).map(([platform, data], idx) => (\r\n                <div\r\n                  key={platform}\r\n                  className=\"rounded-xl border bg-card p-4 shadow-card motion-card\"\r\n                  style={{ animationDelay: `${idx * 50}ms` }}\r\n                >\r\n                  <div className=\"flex items-center justify-between mb-3\">\r\n                    <span className=\"font-medium capitalize\">{platform}</span>\r\n                    <HealthBadge status={data.status} />\r\n                  </div>\r\n                  <p className=\"text-2xl font-bold\">{data.success_rate}%</p>\r\n                  <p className=\"text-xs text-muted-foreground\">Success Rate</p>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n            {/* Infrastructure Status */}\r\n            <div className=\"rounded-xl border bg-card p-6 shadow-card motion-card\">\r\n              <h3 className=\"font-semibold mb-4 flex items-center gap-2\">\r\n                <Server className=\"w-5 h-5 text-primary\" />\r\n                Infrastructure Status\r\n              </h3>\r\n              <div className=\"space-y-4\">\r\n                {[\r\n                  {\r\n                    name: 'API Server',\r\n                    status: 'healthy',\r\n                    cpu: systemHealth?.resources.cpu_percent || 45,\r\n                    memory: systemHealth?.resources.memory_percent || 62,\r\n                  },\r\n                  { name: 'Worker Nodes', status: 'healthy', cpu: 78, memory: 84 },\r\n                  { name: 'Database', status: 'healthy', cpu: 23, memory: 56 },\r\n                  { name: 'Redis Cache', status: 'healthy', cpu: 12, memory: 45 },\r\n                  { name: 'ML Service', status: 'healthy', cpu: 67, memory: 71 },\r\n                ].map((service, idx) => (\r\n                  <div\r\n                    key={idx}\r\n                    className=\"flex items-center justify-between p-3 rounded-lg bg-muted/30 motion-enter\"\r\n                    style={{ animationDelay: `${idx * 30}ms` }}\r\n                  >\r\n                    <div className=\"flex items-center gap-3\">\r\n                      <div\r\n                        className={cn(\r\n                          'w-2 h-2 rounded-full',\r\n                          service.status === 'healthy' ? 'bg-green-500' : 'bg-red-500'\r\n                        )}\r\n                      />\r\n                      <span className=\"font-medium\">{service.name}</span>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-4 text-sm\">\r\n                      <span className=\"flex items-center gap-1\">\r\n                        <Cpu className=\"w-4 h-4 text-muted-foreground\" />\r\n                        {service.cpu}%\r\n                      </span>\r\n                      <span className=\"flex items-center gap-1\">\r\n                        <HardDrive className=\"w-4 h-4 text-muted-foreground\" />\r\n                        {service.memory}%\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Detailed API Metrics */}\r\n            {systemHealth && (\r\n              <div className=\"rounded-xl border bg-card p-6 shadow-card motion-card\">\r\n                <h3 className=\"font-semibold mb-4 flex items-center gap-2\">\r\n                  <Zap className=\"w-5 h-5 text-amber-500\" />\r\n                  API Metrics (24h)\r\n                </h3>\r\n                <div className=\"grid grid-cols-2 gap-4 mb-4\">\r\n                  <div className=\"p-4 rounded-lg bg-muted/30\">\r\n                    <p className=\"text-2xl font-bold\">\r\n                      {systemHealth.api.requests_24h.toLocaleString()}\r\n                    </p>\r\n                    <p className=\"text-xs text-muted-foreground\">Total Requests</p>\r\n                  </div>\r\n                  <div className=\"p-4 rounded-lg bg-muted/30\">\r\n                    <p\r\n                      className={cn(\r\n                        'text-2xl font-bold',\r\n                        systemHealth.api.error_rate < 1 ? 'text-green-500' : 'text-red-500'\r\n                      )}\r\n                    >\r\n                      {systemHealth.api.error_rate}%\r\n                    </p>\r\n                    <p className=\"text-xs text-muted-foreground\">Error Rate</p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"space-y-3\">\r\n                  <ResourceBar\r\n                    label=\"Latency p50\"\r\n                    value={systemHealth.api.latency_p50_ms}\r\n                    max={500}\r\n                    unit=\"ms\"\r\n                  />\r\n                  <ResourceBar\r\n                    label=\"CPU\"\r\n                    value={systemHealth.resources.cpu_percent}\r\n                    max={100}\r\n                    unit=\"%\"\r\n                  />\r\n                  <ResourceBar\r\n                    label=\"Memory\"\r\n                    value={systemHealth.resources.memory_percent}\r\n                    max={100}\r\n                    unit=\"%\"\r\n                  />\r\n                  <ResourceBar\r\n                    label=\"Disk\"\r\n                    value={systemHealth.resources.disk_percent}\r\n                    max={100}\r\n                    unit=\"%\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Quick Actions */}\r\n          <div className=\"rounded-xl border bg-card p-6 shadow-card motion-card\">\r\n            <h3 className=\"font-semibold mb-4 flex items-center gap-2\">\r\n              <Settings className=\"w-5 h-5 text-primary\" />\r\n              Quick Actions\r\n            </h3>\r\n            <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3\">\r\n              {[\r\n                { icon: Database, label: 'Backup Database', color: 'text-blue-500' },\r\n                { icon: RefreshCw, label: 'Clear Cache', color: 'text-green-500' },\r\n                { icon: Key, label: 'Rotate Keys', color: 'text-amber-500' },\r\n                { icon: Globe, label: 'CDN Purge', color: 'text-purple-500' },\r\n                { icon: Activity, label: 'Health Check', color: 'text-cyan-500' },\r\n                { icon: Shield, label: 'Security Scan', color: 'text-red-500' },\r\n              ].map((action, idx) => (\r\n                <button\r\n                  key={idx}\r\n                  className=\"flex flex-col items-center gap-2 p-4 rounded-lg border hover:bg-muted transition-colors motion-card\"\r\n                >\r\n                  <action.icon className={cn('w-6 h-6', action.color)} />\r\n                  <span className=\"text-xs font-medium text-center\">{action.label}</span>\r\n                </button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* =========================================================================\r\n          Churn Risk Tab - Detailed Churn Analysis\r\n      ========================================================================= */}\r\n      {activeTab === 'churn' && (\r\n        <div className=\"space-y-6 motion-enter\">\r\n          {/* Summary */}\r\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n            <div className=\"rounded-xl border bg-card p-5 shadow-card motion-card\">\r\n              <p className=\"text-muted-foreground text-sm mb-2\">Tenants at Risk</p>\r\n              <p className=\"text-3xl font-bold text-red-500\">{churnRisks.length}</p>\r\n            </div>\r\n            <div className=\"rounded-xl border bg-card p-5 shadow-card motion-card\">\r\n              <p className=\"text-muted-foreground text-sm mb-2\">MRR at Risk</p>\r\n              <p className=\"text-3xl font-bold text-amber-500\">\r\n                {formatCurrency(churnRisks.reduce((sum, r) => sum + r.mrr_at_risk, 0))}\r\n              </p>\r\n            </div>\r\n            <div className=\"rounded-xl border bg-card p-5 shadow-card motion-card\">\r\n              <p className=\"text-muted-foreground text-sm mb-2\">Avg Risk Score</p>\r\n              <p className=\"text-3xl font-bold\">\r\n                {churnRisks.length > 0\r\n                  ? (\r\n                      (churnRisks.reduce((sum, r) => sum + r.risk_score, 0) / churnRisks.length) *\r\n                      100\r\n                    ).toFixed(0)\r\n                  : 0}\r\n                %\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Churn Risk List */}\r\n          {churnRisks.length === 0 ? (\r\n            <div className=\"rounded-xl border bg-card p-8 text-center shadow-card motion-card\">\r\n              <CheckCircle2 className=\"w-12 h-12 text-green-500 mx-auto mb-4\" />\r\n              <p className=\"text-lg font-medium\">All Clear!</p>\r\n              <p className=\"text-muted-foreground\">\r\n                No tenants are at high churn risk at this time.\r\n              </p>\r\n            </div>\r\n          ) : (\r\n            <div className=\"space-y-4\">\r\n              {churnRisks.map((risk, idx) => (\r\n                <div\r\n                  key={risk.tenant_id}\r\n                  className=\"rounded-xl border bg-card p-5 shadow-card motion-enter\"\r\n                  style={{ animationDelay: `${idx * 50}ms` }}\r\n                >\r\n                  <div className=\"flex items-start justify-between mb-4\">\r\n                    <div>\r\n                      <h3 className=\"text-lg font-semibold\">{risk.tenant_name}</h3>\r\n                      <p className=\"text-sm text-muted-foreground\">{risk.plan} plan</p>\r\n                    </div>\r\n                    <div className=\"text-right\">\r\n                      <p\r\n                        className={cn(\r\n                          'text-2xl font-bold motion-delta',\r\n                          risk.risk_score >= 0.7\r\n                            ? 'text-red-500'\r\n                            : risk.risk_score >= 0.5\r\n                              ? 'text-amber-500'\r\n                              : 'text-green-500'\r\n                        )}\r\n                      >\r\n                        {(risk.risk_score * 100).toFixed(0)}%\r\n                      </p>\r\n                      <p className=\"text-sm text-muted-foreground\">\r\n                        {formatCurrency(risk.mrr_at_risk)}/mo at risk\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                    <div>\r\n                      <p className=\"text-sm font-medium text-muted-foreground mb-2\">Risk Factors</p>\r\n                      <ul className=\"space-y-2\">\r\n                        {risk.risk_factors.map((factor, i) => (\r\n                          <li\r\n                            key={i}\r\n                            className=\"flex items-center gap-2 text-sm motion-enter\"\r\n                            style={{ animationDelay: `${i * 30}ms` }}\r\n                          >\r\n                            <AlertCircle className=\"w-4 h-4 text-amber-500 flex-shrink-0\" />\r\n                            {factor}\r\n                          </li>\r\n                        ))}\r\n                      </ul>\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"text-sm font-medium text-muted-foreground mb-2\">\r\n                        Recommended Actions\r\n                      </p>\r\n                      <ul className=\"space-y-2\">\r\n                        {risk.recommended_actions.map((action, i) => (\r\n                          <li\r\n                            key={i}\r\n                            className=\"flex items-center gap-2 text-sm motion-enter\"\r\n                            style={{ animationDelay: `${i * 30}ms` }}\r\n                          >\r\n                            <ChevronRight className=\"w-4 h-4 text-primary flex-shrink-0\" />\r\n                            {action}\r\n                          </li>\r\n                        ))}\r\n                      </ul>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* =========================================================================\r\n          Billing Tab - Enhanced with Sub-tabs\r\n      ========================================================================= */}\r\n      {activeTab === 'billing' && (\r\n        <div className=\"space-y-6 motion-enter\">\r\n          {/* Billing Sub-tabs */}\r\n          <div className=\"flex items-center gap-2 border-b pb-3\">\r\n            {[\r\n              { id: 'overview', label: 'Overview', icon: BarChart3 },\r\n              { id: 'plans', label: 'Plans Catalog', icon: Package },\r\n              { id: 'invoices', label: 'Invoices', icon: Receipt },\r\n              { id: 'subscriptions', label: 'Subscriptions', icon: Calendar },\r\n            ].map((tab) => (\r\n              <button\r\n                key={tab.id}\r\n                onClick={() => setBillingSubTab(tab.id as any)}\r\n                className={cn(\r\n                  'flex items-center gap-2 px-3 py-1.5 rounded-md text-sm transition-all',\r\n                  billingSubTab === tab.id\r\n                    ? 'bg-primary/10 text-primary font-medium'\r\n                    : 'text-muted-foreground hover:text-foreground'\r\n                )}\r\n              >\r\n                <tab.icon className=\"w-4 h-4\" />\r\n                {tab.label}\r\n              </button>\r\n            ))}\r\n          </div>\r\n\r\n          {/* Billing Overview */}\r\n          {billingSubTab === 'overview' && (\r\n            <>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n                <div className=\"p-5 rounded-xl bg-green-500/10 border border-green-500/20 shadow-card motion-card\">\r\n                  <p className=\"text-sm text-muted-foreground\">MRR</p>\r\n                  <p className=\"text-3xl font-bold text-green-500\">\r\n                    {revenueMetrics ? formatCurrency(revenueMetrics.mrr) : '$0'}\r\n                  </p>\r\n                  <p className=\"text-xs text-green-600 flex items-center gap-1 mt-2\">\r\n                    <TrendingUp className=\"w-3 h-3\" />+{revenueMetrics?.mrr_growth_pct || 0}% growth\r\n                  </p>\r\n                </div>\r\n                <div className=\"p-5 rounded-xl bg-purple-500/10 border border-purple-500/20 shadow-card motion-card\">\r\n                  <p className=\"text-sm text-muted-foreground\">ARR</p>\r\n                  <p className=\"text-3xl font-bold text-purple-500\">\r\n                    {revenueMetrics ? formatCurrency(revenueMetrics.arr) : '$0'}\r\n                  </p>\r\n                </div>\r\n                <div className=\"p-5 rounded-xl bg-blue-500/10 border border-blue-500/20 shadow-card motion-card\">\r\n                  <p className=\"text-sm text-muted-foreground\">Pending</p>\r\n                  <p className=\"text-3xl font-bold text-blue-500\">\r\n                    {formatCurrency(\r\n                      invoices\r\n                        .filter((i) => i.status === 'pending')\r\n                        .reduce((s, i) => s + i.total, 0)\r\n                    )}\r\n                  </p>\r\n                  <p className=\"text-xs text-muted-foreground mt-2\">\r\n                    {invoices.filter((i) => i.status === 'pending').length} invoices\r\n                  </p>\r\n                </div>\r\n                <div className=\"p-5 rounded-xl bg-amber-500/10 border border-amber-500/20 shadow-card motion-card\">\r\n                  <p className=\"text-sm text-muted-foreground\">Overdue</p>\r\n                  <p className=\"text-3xl font-bold text-amber-500\">\r\n                    {formatCurrency(\r\n                      invoices\r\n                        .filter((i) => i.status === 'overdue')\r\n                        .reduce((s, i) => s + i.total, 0)\r\n                    )}\r\n                  </p>\r\n                  <p className=\"text-xs text-amber-600 mt-2\">\r\n                    {invoices.filter((i) => i.status === 'overdue').length} invoices\r\n                  </p>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Plan Distribution */}\r\n              <div className=\"rounded-xl border bg-card p-6 shadow-card motion-card\">\r\n                <h3 className=\"font-semibold flex items-center gap-2 mb-4\">\r\n                  <PieChart className=\"w-5 h-5 text-primary\" />\r\n                  Revenue by Plan\r\n                </h3>\r\n                <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n                  {plans.map((plan, idx) => (\r\n                    <div\r\n                      key={plan.id}\r\n                      className=\"p-4 rounded-lg bg-muted/30 motion-enter\"\r\n                      style={{ animationDelay: `${idx * 50}ms` }}\r\n                    >\r\n                      <div className=\"flex items-center gap-2 mb-2\">\r\n                        <div\r\n                          className={cn(\r\n                            'w-3 h-3 rounded-full',\r\n                            plan.tier === 'enterprise'\r\n                              ? 'bg-purple-500'\r\n                              : plan.tier === 'professional'\r\n                                ? 'bg-blue-500'\r\n                                : plan.tier === 'starter'\r\n                                  ? 'bg-green-500'\r\n                                  : 'bg-gray-500'\r\n                          )}\r\n                        />\r\n                        <span className=\"font-medium\">{plan.display_name || plan.name}</span>\r\n                      </div>\r\n                      <p className=\"text-xl font-bold\">{formatCurrency(plan.price || 0)}/mo</p>\r\n                      <p className=\"text-xs text-muted-foreground\">\r\n                        {plan.limits?.max_users || 0} users, {plan.limits?.max_campaigns || 0}{' '}\r\n                        campaigns\r\n                      </p>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </>\r\n          )}\r\n\r\n          {/* Plans Catalog */}\r\n          {billingSubTab === 'plans' && (\r\n            <div className=\"rounded-xl border bg-card shadow-card overflow-hidden\">\r\n              <div className=\"p-4 border-b flex items-center justify-between\">\r\n                <h3 className=\"font-semibold\">Subscription Plans</h3>\r\n                <button className=\"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-primary text-primary-foreground text-sm\">\r\n                  <Plus className=\"w-4 h-4\" />\r\n                  Add Plan\r\n                </button>\r\n              </div>\r\n              <table className=\"w-full text-sm\">\r\n                <thead className=\"bg-muted/30\">\r\n                  <tr>\r\n                    <th className=\"text-left py-3 px-4 font-medium\">Plan</th>\r\n                    <th className=\"text-left py-3 px-4 font-medium\">Tier</th>\r\n                    <th className=\"text-right py-3 px-4 font-medium\">Price</th>\r\n                    <th className=\"text-center py-3 px-4 font-medium\">Users</th>\r\n                    <th className=\"text-center py-3 px-4 font-medium\">Campaigns</th>\r\n                    <th className=\"text-center py-3 px-4 font-medium\">Connectors</th>\r\n                    <th className=\"text-center py-3 px-4 font-medium\">Status</th>\r\n                    <th className=\"text-right py-3 px-4 font-medium\">Actions</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody className=\"divide-y\">\r\n                  {plans.map((plan, idx) => (\r\n                    <tr\r\n                      key={plan.id}\r\n                      className=\"hover:bg-muted/30 motion-enter\"\r\n                      style={{ animationDelay: `${idx * 20}ms` }}\r\n                    >\r\n                      <td className=\"py-3 px-4 font-medium\">{plan.display_name || plan.name}</td>\r\n                      <td className=\"py-3 px-4\">\r\n                        <PlanBadge plan={plan.tier} />\r\n                      </td>\r\n                      <td className=\"py-3 px-4 text-right font-medium\">\r\n                        {formatCurrency(plan.price || 0)}\r\n                        <span className=\"text-muted-foreground text-xs\">\r\n                          /{plan.billing_period || 'mo'}\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"py-3 px-4 text-center\">{plan.limits?.max_users || '-'}</td>\r\n                      <td className=\"py-3 px-4 text-center\">{plan.limits?.max_campaigns || '-'}</td>\r\n                      <td className=\"py-3 px-4 text-center\">\r\n                        {plan.limits?.max_connectors || '-'}\r\n                      </td>\r\n                      <td className=\"py-3 px-4 text-center\">\r\n                        <span\r\n                          className={cn(\r\n                            'px-2 py-1 rounded-full text-xs',\r\n                            plan.is_active !== false\r\n                              ? 'bg-green-500/10 text-green-500'\r\n                              : 'bg-gray-500/10 text-gray-500'\r\n                          )}\r\n                        >\r\n                          {plan.is_active !== false ? 'Active' : 'Inactive'}\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"py-3 px-4 text-right\">\r\n                        <button className=\"p-1.5 rounded hover:bg-muted\" title=\"Edit\">\r\n                          <Edit className=\"w-4 h-4\" />\r\n                        </button>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          )}\r\n\r\n          {/* Invoices */}\r\n          {billingSubTab === 'invoices' && (\r\n            <div className=\"rounded-xl border bg-card shadow-card overflow-hidden\">\r\n              <div className=\"p-4 border-b flex items-center justify-between\">\r\n                <h3 className=\"font-semibold\">Invoices</h3>\r\n                <div className=\"flex items-center gap-2\">\r\n                  <select className=\"px-3 py-1.5 rounded-lg border bg-background text-sm\">\r\n                    <option>All Status</option>\r\n                    <option>Paid</option>\r\n                    <option>Pending</option>\r\n                    <option>Overdue</option>\r\n                  </select>\r\n                  <button className=\"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-primary text-primary-foreground text-sm\">\r\n                    <Plus className=\"w-4 h-4\" />\r\n                    Generate Invoice\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              {invoices.length === 0 ? (\r\n                <div className=\"p-8 text-center text-muted-foreground\">\r\n                  <Receipt className=\"w-12 h-12 mx-auto mb-3 opacity-50\" />\r\n                  <p>No invoices found</p>\r\n                </div>\r\n              ) : (\r\n                <table className=\"w-full text-sm\">\r\n                  <thead className=\"bg-muted/30\">\r\n                    <tr>\r\n                      <th className=\"text-left py-3 px-4 font-medium\">Invoice</th>\r\n                      <th className=\"text-left py-3 px-4 font-medium\">Tenant</th>\r\n                      <th className=\"text-right py-3 px-4 font-medium\">Amount</th>\r\n                      <th className=\"text-center py-3 px-4 font-medium\">Status</th>\r\n                      <th className=\"text-left py-3 px-4 font-medium\">Due Date</th>\r\n                      <th className=\"text-right py-3 px-4 font-medium\">Actions</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody className=\"divide-y\">\r\n                    {invoices.map((inv) => (\r\n                      <tr key={inv.id} className=\"hover:bg-muted/30\">\r\n                        <td className=\"py-3 px-4 font-medium\">{inv.invoice_number}</td>\r\n                        <td className=\"py-3 px-4\">{inv.tenant_name}</td>\r\n                        <td className=\"py-3 px-4 text-right font-medium\">\r\n                          {formatCurrency(inv.total)}\r\n                        </td>\r\n                        <td className=\"py-3 px-4 text-center\">\r\n                          <span\r\n                            className={cn(\r\n                              'px-2 py-1 rounded-full text-xs',\r\n                              inv.status === 'paid'\r\n                                ? 'bg-green-500/10 text-green-500'\r\n                                : inv.status === 'pending'\r\n                                  ? 'bg-blue-500/10 text-blue-500'\r\n                                  : inv.status === 'overdue'\r\n                                    ? 'bg-red-500/10 text-red-500'\r\n                                    : 'bg-gray-500/10 text-gray-500'\r\n                            )}\r\n                          >\r\n                            {inv.status}\r\n                          </span>\r\n                        </td>\r\n                        <td className=\"py-3 px-4\">{inv.due_date || '-'}</td>\r\n                        <td className=\"py-3 px-4 text-right\">\r\n                          <button className=\"p-1.5 rounded hover:bg-muted\" title=\"View\">\r\n                            <Eye className=\"w-4 h-4\" />\r\n                          </button>\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Subscriptions */}\r\n          {billingSubTab === 'subscriptions' && (\r\n            <div className=\"rounded-xl border bg-card p-6 shadow-card\">\r\n              <h3 className=\"font-semibold mb-4\">Active Subscriptions</h3>\r\n              <p className=\"text-muted-foreground text-center py-8\">\r\n                Subscription management coming soon. View and manage tenant subscriptions, trials,\r\n                and upgrades.\r\n              </p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* =========================================================================\r\n          Audit Log Tab\r\n      ========================================================================= */}\r\n      {activeTab === 'audit' && (\r\n        <div className=\"space-y-4 motion-enter\">\r\n          {/* Filters */}\r\n          <div className=\"flex items-center gap-4\">\r\n            <div className=\"relative flex-1 max-w-md\">\r\n              <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground\" />\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Search actions...\"\r\n                value={auditFilter.action}\r\n                onChange={(e) => setAuditFilter((f) => ({ ...f, action: e.target.value }))}\r\n                className=\"w-full pl-10 pr-4 py-2 rounded-lg border bg-background focus:ring-2 focus:ring-primary/20\"\r\n              />\r\n            </div>\r\n            <select\r\n              className=\"px-3 py-2 rounded-lg border bg-background\"\r\n              value={auditFilter.tenant_id}\r\n              onChange={(e) => setAuditFilter((f) => ({ ...f, tenant_id: e.target.value }))}\r\n            >\r\n              <option value=\"\">All Tenants</option>\r\n              {tenants.map((t) => (\r\n                <option key={t.id} value={t.id}>\r\n                  {t.name}\r\n                </option>\r\n              ))}\r\n            </select>\r\n            <button\r\n              onClick={handleRefresh}\r\n              className=\"flex items-center gap-2 px-3 py-2 rounded-lg border hover:bg-muted\"\r\n            >\r\n              <RefreshCw className=\"w-4 h-4\" />\r\n              Refresh\r\n            </button>\r\n          </div>\r\n\r\n          {/* Audit Log Table */}\r\n          <div className=\"rounded-xl border bg-card shadow-card overflow-hidden\">\r\n            <table className=\"w-full text-sm\">\r\n              <thead className=\"bg-muted/30\">\r\n                <tr>\r\n                  <th className=\"text-left py-3 px-4 font-medium\">Timestamp</th>\r\n                  <th className=\"text-left py-3 px-4 font-medium\">Action</th>\r\n                  <th className=\"text-left py-3 px-4 font-medium\">User</th>\r\n                  <th className=\"text-left py-3 px-4 font-medium\">Resource</th>\r\n                  <th className=\"text-center py-3 px-4 font-medium\">Status</th>\r\n                  <th className=\"text-left py-3 px-4 font-medium\">Details</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody className=\"divide-y\">\r\n                {auditLogs.length === 0 ? (\r\n                  <tr>\r\n                    <td colSpan={6} className=\"py-8 text-center text-muted-foreground\">\r\n                      <FileText className=\"w-12 h-12 mx-auto mb-3 opacity-50\" />\r\n                      <p>No audit logs found</p>\r\n                      <p className=\"text-xs mt-1\">\r\n                        Admin actions will appear here after the database migration\r\n                      </p>\r\n                    </td>\r\n                  </tr>\r\n                ) : (\r\n                  auditLogs\r\n                    .filter((log) => {\r\n                      if (\r\n                        auditFilter.action &&\r\n                        !log.action?.toLowerCase().includes(auditFilter.action.toLowerCase())\r\n                      ) {\r\n                        return false;\r\n                      }\r\n                      if (\r\n                        auditFilter.tenant_id &&\r\n                        log.tenant_id !== parseInt(auditFilter.tenant_id)\r\n                      ) {\r\n                        return false;\r\n                      }\r\n                      return true;\r\n                    })\r\n                    .map((log, idx) => (\r\n                      <tr\r\n                        key={log.id}\r\n                        className=\"hover:bg-muted/30 motion-enter\"\r\n                        style={{ animationDelay: `${idx * 10}ms` }}\r\n                      >\r\n                        <td className=\"py-3 px-4 text-muted-foreground\">\r\n                          {log.timestamp ? new Date(log.timestamp).toLocaleString() : '-'}\r\n                        </td>\r\n                        <td className=\"py-3 px-4\">\r\n                          <span className=\"font-medium\">{log.action}</span>\r\n                        </td>\r\n                        <td className=\"py-3 px-4\">{log.user_email || `User #${log.user_id}`}</td>\r\n                        <td className=\"py-3 px-4\">\r\n                          {log.resource_type && (\r\n                            <span className=\"text-muted-foreground\">\r\n                              {log.resource_type}\r\n                              {log.resource_id && <span className=\"ml-1\">#{log.resource_id}</span>}\r\n                            </span>\r\n                          )}\r\n                        </td>\r\n                        <td className=\"py-3 px-4 text-center\">\r\n                          {log.success ? (\r\n                            <CheckCircle2 className=\"w-4 h-4 text-green-500 mx-auto\" />\r\n                          ) : (\r\n                            <XCircle className=\"w-4 h-4 text-red-500 mx-auto\" />\r\n                          )}\r\n                        </td>\r\n                        <td className=\"py-3 px-4 text-muted-foreground text-xs max-w-[200px] truncate\">\r\n                          {log.details ? JSON.stringify(log.details) : '-'}\r\n                        </td>\r\n                      </tr>\r\n                    ))\r\n                )}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n// =============================================================================\r\n// Sub-Components\r\n// =============================================================================\r\nfunction KPICard({\r\n  icon: Icon,\r\n  label,\r\n  value,\r\n  delta,\r\n  deltaLabel,\r\n  subValue,\r\n  color = 'blue',\r\n}: {\r\n  icon: React.ComponentType<{ className?: string }>;\r\n  label: string;\r\n  value: string | number;\r\n  delta?: number;\r\n  deltaLabel?: string;\r\n  subValue?: string;\r\n  color?: 'blue' | 'green' | 'amber' | 'red' | 'purple';\r\n}) {\r\n  const colorClasses = {\r\n    blue: 'bg-blue-500/10 text-blue-500',\r\n    green: 'bg-green-500/10 text-green-500',\r\n    amber: 'bg-amber-500/10 text-amber-500',\r\n    red: 'bg-red-500/10 text-red-500',\r\n    purple: 'bg-purple-500/10 text-purple-500',\r\n  };\r\n\r\n  return (\r\n    <div className=\"rounded-xl border bg-card p-5 shadow-card hover:shadow-card-hover transition-all motion-card\">\r\n      <div className=\"flex items-center gap-3 mb-3\">\r\n        <div className={cn('p-2 rounded-lg', colorClasses[color])}>\r\n          <Icon className=\"w-5 h-5\" />\r\n        </div>\r\n        <span className=\"text-sm text-muted-foreground\">{label}</span>\r\n      </div>\r\n      <p className=\"text-2xl font-bold\">{value}</p>\r\n      {delta !== undefined && (\r\n        <div className=\"flex items-center gap-1 mt-1\">\r\n          {delta >= 0 ? (\r\n            <ArrowUpRight className=\"w-4 h-4 text-green-500\" />\r\n          ) : (\r\n            <ArrowDownRight className=\"w-4 h-4 text-red-500\" />\r\n          )}\r\n          <span\r\n            className={cn('text-sm font-medium', delta >= 0 ? 'text-green-500' : 'text-red-500')}\r\n          >\r\n            {delta >= 0 ? '+' : ''}\r\n            {delta}%\r\n          </span>\r\n          {deltaLabel && <span className=\"text-xs text-muted-foreground\">{deltaLabel}</span>}\r\n        </div>\r\n      )}\r\n      {subValue && <p className=\"text-sm text-muted-foreground mt-1\">{subValue}</p>}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction MetricCard({\r\n  label,\r\n  value,\r\n  status,\r\n}: {\r\n  label: string;\r\n  value: string | number;\r\n  status: 'green' | 'amber' | 'red' | 'blue';\r\n}) {\r\n  const statusColors = {\r\n    green: 'text-green-500',\r\n    amber: 'text-amber-500',\r\n    red: 'text-red-500',\r\n    blue: 'text-blue-500',\r\n  };\r\n\r\n  return (\r\n    <div className=\"rounded-xl border bg-card p-4 shadow-card motion-card\">\r\n      <p className=\"text-sm text-muted-foreground mb-1\">{label}</p>\r\n      <p className={cn('text-xl font-bold', statusColors[status])}>{value}</p>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction HealthRow({\r\n  label,\r\n  value,\r\n  status,\r\n}: {\r\n  label: string;\r\n  value: string;\r\n  status: 'green' | 'amber' | 'red';\r\n}) {\r\n  const icons = {\r\n    green: <CheckCircle2 className=\"w-4 h-4 text-green-500\" />,\r\n    amber: <AlertCircle className=\"w-4 h-4 text-amber-500\" />,\r\n    red: <AlertTriangle className=\"w-4 h-4 text-red-500\" />,\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex items-center justify-between p-3 rounded-lg bg-muted/30\">\r\n      <span className=\"text-sm\">{label}</span>\r\n      <div className=\"flex items-center gap-2\">\r\n        <span className=\"font-medium\">{value}</span>\r\n        {icons[status]}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction PlanBadge({ plan }: { plan: string }) {\r\n  const colors: Record<string, string> = {\r\n    free: 'bg-gray-500/10 text-gray-500',\r\n    trial: 'bg-cyan-500/10 text-cyan-500',\r\n    starter: 'bg-green-500/10 text-green-500',\r\n    professional: 'bg-blue-500/10 text-blue-500',\r\n    enterprise: 'bg-purple-500/10 text-purple-500',\r\n  };\r\n\r\n  return (\r\n    <span\r\n      className={cn(\r\n        'px-2 py-1 rounded-md text-xs font-medium capitalize',\r\n        colors[plan] || colors.free\r\n      )}\r\n    >\r\n      {plan}\r\n    </span>\r\n  );\r\n}\r\n\r\nfunction HealthBadge({ status }: { status: string }) {\r\n  const colors: Record<string, string> = {\r\n    healthy: 'bg-green-500/10 text-green-500',\r\n    risk: 'bg-amber-500/10 text-amber-500',\r\n    degraded: 'bg-orange-500/10 text-orange-500',\r\n    critical: 'bg-red-500/10 text-red-500',\r\n  };\r\n\r\n  const icons: Record<string, React.ReactNode> = {\r\n    healthy: <CheckCircle2 className=\"w-3 h-3\" />,\r\n    risk: <AlertCircle className=\"w-3 h-3\" />,\r\n    degraded: <AlertTriangle className=\"w-3 h-3\" />,\r\n    critical: <XCircle className=\"w-3 h-3\" />,\r\n  };\r\n\r\n  return (\r\n    <span\r\n      className={cn(\r\n        'inline-flex items-center gap-1 px-2 py-1 rounded-md text-xs font-medium capitalize',\r\n        colors[status] || colors.healthy\r\n      )}\r\n    >\r\n      {icons[status]}\r\n      {status}\r\n    </span>\r\n  );\r\n}\r\n\r\nfunction ResourceBar({\r\n  label,\r\n  value,\r\n  max = 100,\r\n  unit = '%',\r\n}: {\r\n  label: string;\r\n  value: number;\r\n  max?: number;\r\n  unit?: string;\r\n}) {\r\n  const percentage = (value / max) * 100;\r\n  const getColor = (v: number) => {\r\n    if (v >= 80) return 'bg-red-500';\r\n    if (v >= 60) return 'bg-amber-500';\r\n    return 'bg-green-500';\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"flex justify-between text-sm mb-1\">\r\n        <span className=\"text-muted-foreground\">{label}</span>\r\n        <span className=\"font-medium\">\r\n          {value}\r\n          {unit}\r\n        </span>\r\n      </div>\r\n      <div className=\"w-full h-2 bg-muted rounded-full\">\r\n        <div\r\n          className={cn('h-full rounded-full transition-all', getColor(percentage))}\r\n          style={{ width: `${Math.min(100, percentage)}%` }}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["__iconNode","ArrowDownRight","createLucideIcon","Ban","HardDrive","Receipt","API_BASE_URL","mockAlerts","SuperadminDashboard","user","useAuth","isRefreshing","setIsRefreshing","useState","isLoading","setIsLoading","error","setError","activeTab","setActiveTab","billingSubTab","setBillingSubTab","searchQuery","setSearchQuery","auditFilter","setAuditFilter","revenueMetrics","setRevenueMetrics","tenants","setTenants","churnRisks","setChurnRisks","systemHealth","setSystemHealth","plans","setPlans","invoices","setInvoices","auditLogs","setAuditLogs","getAuthHeaders","token","fetchData","useCallback","revenueRes","tenantsRes","healthRes","churnRes","plansRes","invoicesRes","auditRes","axios","err","_b","_a","useEffect","handleRefresh","filteredTenants","useMemo","query","formatCurrency","num","jsxs","jsx","Loader2","Crown","RefreshCw","cn","Plus","AlertTriangle","BarChart3","Building2","Server","CreditCard","FileText","tab","KPICard","DollarSign","TrendingUp","MetricCard","sum","r","risk","idx","Activity","HealthRow","AlertCircle","alert","XCircle","CheckCircle2","Package","tenantsNearLimits","tenant","usersPct","isOverLimit","isNearLimit","Users","Search","e","PlanBadge","HealthBadge","Eye","Edit","platform","data","service","Cpu","Zap","ResourceBar","Settings","Database","Key","Globe","Shield","action","factor","i","ChevronRight","Calendar","Fragment","PieChart","plan","_c","inv","f","t","log","Icon","label","value","delta","deltaLabel","subValue","color","colorClasses","ArrowUpRight","status","statusColors","icons","colors","max","unit","percentage","getColor","v"],"mappings":"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","x_google_ignoreList":[0,1,2,3]}