import{j as e}from"./vendor-ui-B0DL0VNC.js";import{r as n}from"./vendor-react-Dz7uKsMg.js";import{a as k,i as F,G as S,j as _}from"./cms-Bf3FZYRT.js";import{F as w}from"./PlusIcon-ByQcgXHI.js";import{ah as f,F as B}from"./index-BQex3859.js";import{F as E}from"./PencilSquareIcon-8mqFv-8U.js";import{F as D}from"./TrashIcon-DR9paOX4.js";import"./vendor-charts-Cj11RBfc.js";import"./vendor-utils-L2YjCnAZ.js";import"./vendor-query-BPt-n81V.js";import"./vendor-motion-CR45sdSp.js";const P=["#8B5CF6","#6366F1","#3B82F6","#06B6D4","#10B981","#F59E0B","#EF4444","#EC4899","#6B7280","#14B8A6"];function q(){const{data:d,isLoading:j}=k(),c=F(),x=S(),m=_(),[N,l]=n.useState(!1),[o,p]=n.useState(null),[g,h]=n.useState(null),[i,r]=n.useState({name:"",slug:"",description:"",color:"#8B5CF6",display_order:0,is_active:!0}),a=(d==null?void 0:d.categories)||[],u=t=>{t?(p(t),r({name:t.name,slug:t.slug,description:t.description||"",color:t.color||"#8B5CF6",icon:t.icon||"",display_order:t.display_order,is_active:t.is_active})):(p(null),r({name:"",slug:"",description:"",color:"#8B5CF6",display_order:a.length,is_active:!0})),l(!0)},y=()=>{o?x.mutate({id:o.id,data:i},{onSuccess:()=>l(!1)}):c.mutate(i,{onSuccess:()=>l(!1)})},v=t=>{m.mutate(t,{onSuccess:()=>h(null)})},C=t=>t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[-\s]+/g,"-");return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Categories"}),e.jsxs("p",{className:"text-white/60 mt-1",children:[a.length," categor",a.length!==1?"ies":"y"]})]}),e.jsxs("button",{onClick:()=>u(),className:"flex items-center gap-2 px-4 py-2.5 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-medium transition-colors",children:[e.jsx(w,{className:"w-5 h-5"}),"New Category"]})]}),j?e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-purple-500 border-t-transparent rounded-full"})}):a.length===0?e.jsxs("div",{className:"rounded-2xl bg-white/5 border border-white/10 text-center py-20",children:[e.jsx(f,{className:"w-12 h-12 text-white/20 mx-auto mb-4"}),e.jsx("p",{className:"text-white/60 mb-4",children:"No categories yet"}),e.jsxs("button",{onClick:()=>u(),className:"inline-flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[e.jsx(w,{className:"w-4 h-4"}),"Create your first category"]})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(t=>e.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-white/5 border border-white/10 p-6 hover:border-white/20 transition-all group",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-1",style:{backgroundColor:t.color||"#8B5CF6"}}),e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:`${t.color||"#8B5CF6"}20`},children:e.jsx(f,{className:"w-5 h-5",style:{color:t.color||"#8B5CF6"}})}),e.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:()=>u(t),className:"p-1.5 text-white/40 hover:text-white transition-colors",children:e.jsx(E,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>h(t.id),className:"p-1.5 text-white/40 hover:text-red-400 transition-colors",children:e.jsx(D,{className:"w-4 h-4"})})]})]}),e.jsx("h3",{className:"text-white font-semibold mb-1",children:t.name}),e.jsx("p",{className:"text-white/50 text-sm mb-3 line-clamp-2",children:t.description||"No description"}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-white/40",children:[e.jsxs("span",{children:["/",t.slug]}),e.jsx("span",{className:`px-2 py-0.5 rounded-full ${t.is_active?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:t.is_active?"Active":"Inactive"})]})]},t.id))}),N&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4",children:e.jsxs("div",{className:"bg-neutral-900 border border-white/10 rounded-xl w-full max-w-lg",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[e.jsx("h2",{className:"text-lg font-semibold text-white",children:o?"Edit Category":"New Category"}),e.jsx("button",{onClick:()=>l(!1),className:"p-2 text-white/40 hover:text-white",children:e.jsx(B,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-1.5",children:"Name *"}),e.jsx("input",{type:"text",value:i.name,onChange:t=>{const s=t.target.value;r(b=>({...b,name:s,slug:b.slug||C(s)}))},className:"w-full px-4 py-2.5 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/30 focus:outline-none focus:border-purple-500/50",placeholder:"Category name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-1.5",children:"Slug"}),e.jsx("input",{type:"text",value:i.slug,onChange:t=>r(s=>({...s,slug:t.target.value})),className:"w-full px-4 py-2.5 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/30 focus:outline-none focus:border-purple-500/50",placeholder:"category-slug"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-1.5",children:"Description"}),e.jsx("textarea",{value:i.description,onChange:t=>r(s=>({...s,description:t.target.value})),rows:3,className:"w-full px-4 py-2.5 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/30 focus:outline-none focus:border-purple-500/50 resize-none",placeholder:"Category description..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-1.5",children:"Color"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:P.map(t=>e.jsx("button",{type:"button",onClick:()=>r(s=>({...s,color:t})),className:`w-8 h-8 rounded-full transition-all ${i.color===t?"ring-2 ring-white ring-offset-2 ring-offset-neutral-900 scale-110":"hover:scale-105"}`,style:{backgroundColor:t}},t))})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-1.5",children:"Display Order"}),e.jsx("input",{type:"number",value:i.display_order,onChange:t=>r(s=>({...s,display_order:Number(t.target.value)})),className:"w-full px-4 py-2.5 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-purple-500/50"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer pt-6",children:[e.jsx("input",{type:"checkbox",checked:i.is_active,onChange:t=>r(s=>({...s,is_active:t.target.checked})),className:"w-4 h-4 rounded bg-white/5 border-white/20 text-purple-600 focus:ring-purple-500"}),e.jsx("span",{className:"text-sm text-white/70",children:"Active"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 p-4 border-t border-white/10",children:[e.jsx("button",{onClick:()=>l(!1),className:"px-4 py-2 text-white/60 hover:text-white transition-colors",children:"Cancel"}),e.jsx("button",{onClick:y,disabled:!i.name||c.isPending||x.isPending,className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:c.isPending||x.isPending?"Saving...":o?"Update":"Create"})]})]})}),g&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60",children:e.jsxs("div",{className:"bg-neutral-900 border border-white/10 rounded-xl p-6 max-w-md w-full mx-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Delete Category"}),e.jsx("p",{className:"text-white/60 mb-6",children:"Posts using this category will become uncategorized."}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>h(null),className:"px-4 py-2 text-white/60 hover:text-white",children:"Cancel"}),e.jsx("button",{onClick:()=>v(g),disabled:m.isPending,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium disabled:opacity-50",children:m.isPending?"Deleting...":"Delete"})]})]})})]})}export{q as default};
//# sourceMappingURL=CMSCategories-Zvd7rEay.js.map
