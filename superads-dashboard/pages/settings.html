<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Settings - Stratum AI</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Space+Grotesk:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../shared/styles.css">
</head>
<body>
    <!-- SVG Icon Definitions -->
    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
        <symbol id="icon-chart" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <line x1="18" y1="20" x2="18" y2="10"></line>
            <line x1="12" y1="20" x2="12" y2="4"></line>
            <line x1="6" y1="20" x2="6" y2="14"></line>
        </symbol>
        <symbol id="icon-trending" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline>
            <polyline points="17 6 23 6 23 12"></polyline>
        </symbol>
        <symbol id="icon-target" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="10"></circle>
            <circle cx="12" cy="12" r="6"></circle>
            <circle cx="12" cy="12" r="2"></circle>
        </symbol>
        <symbol id="icon-signal" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M2 20h.01"></path>
            <path d="M7 20v-4"></path>
            <path d="M12 20v-8"></path>
            <path d="M17 20V8"></path>
            <path d="M22 4v16"></path>
        </symbol>
        <symbol id="icon-megaphone" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M3 11l18-5v12L3 13v-2z"></path>
            <path d="M11.6 16.8a3 3 0 1 1-5.8-1.6"></path>
        </symbol>
        <symbol id="icon-cpu" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <rect x="4" y="4" width="16" height="16" rx="2" ry="2"></rect>
            <rect x="9" y="9" width="6" height="6"></rect>
            <line x1="9" y1="1" x2="9" y2="4"></line>
            <line x1="15" y1="1" x2="15" y2="4"></line>
            <line x1="9" y1="20" x2="9" y2="23"></line>
            <line x1="15" y1="20" x2="15" y2="23"></line>
            <line x1="20" y1="9" x2="23" y2="9"></line>
            <line x1="20" y1="14" x2="23" y2="14"></line>
            <line x1="1" y1="9" x2="4" y2="9"></line>
            <line x1="1" y1="14" x2="4" y2="14"></line>
        </symbol>
        <symbol id="icon-dollar" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <line x1="12" y1="1" x2="12" y2="23"></line>
            <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
        </symbol>
        <symbol id="icon-phone" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <rect x="5" y="2" width="14" height="20" rx="2" ry="2"></rect>
            <line x1="12" y1="18" x2="12.01" y2="18"></line>
        </symbol>
        <symbol id="icon-plug" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M12 22v-5"></path>
            <path d="M9 8V2"></path>
            <path d="M15 8V2"></path>
            <path d="M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z"></path>
        </symbol>
        <symbol id="icon-users" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
            <circle cx="9" cy="7" r="4"></circle>
            <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
            <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
        </symbol>
        <symbol id="icon-clipboard" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path>
            <rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect>
        </symbol>
        <symbol id="icon-settings" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="3"></circle>
            <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
        </symbol>
        <symbol id="icon-moon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
        </symbol>
        <symbol id="icon-sun" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="5"></circle>
            <line x1="12" y1="1" x2="12" y2="3"></line>
            <line x1="12" y1="21" x2="12" y2="23"></line>
            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
            <line x1="1" y1="12" x2="3" y2="12"></line>
            <line x1="21" y1="12" x2="23" y2="12"></line>
            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
        </symbol>
        <symbol id="icon-building" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <rect x="4" y="2" width="16" height="20" rx="2" ry="2"></rect>
            <path d="M9 22v-4h6v4"></path>
            <path d="M8 6h.01"></path>
            <path d="M16 6h.01"></path>
            <path d="M12 6h.01"></path>
            <path d="M12 10h.01"></path>
            <path d="M12 14h.01"></path>
            <path d="M16 10h.01"></path>
            <path d="M16 14h.01"></path>
            <path d="M8 10h.01"></path>
            <path d="M8 14h.01"></path>
        </symbol>
        <symbol id="icon-bell" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
            <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
        </symbol>
        <symbol id="icon-alert-triangle" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path>
            <line x1="12" y1="9" x2="12" y2="13"></line>
            <line x1="12" y1="17" x2="12.01" y2="17"></line>
        </symbol>
        <symbol id="icon-file-text" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
            <polyline points="14 2 14 8 20 8"></polyline>
            <line x1="16" y1="13" x2="8" y2="13"></line>
            <line x1="16" y1="17" x2="8" y2="17"></line>
            <polyline points="10 9 9 9 8 9"></polyline>
        </symbol>
        <symbol id="icon-link" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path>
            <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
        </symbol>
        <symbol id="icon-tool" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"></path>
        </symbol>
        <symbol id="icon-refresh" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="23 4 23 10 17 10"></polyline>
            <polyline points="1 20 1 14 7 14"></polyline>
            <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path>
        </symbol>
        <symbol id="icon-clock" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="10"></circle>
            <polyline points="12 6 12 12 16 14"></polyline>
        </symbol>
        <symbol id="icon-shopping-cart" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="9" cy="21" r="1"></circle>
            <circle cx="20" cy="21" r="1"></circle>
            <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
        </symbol>
        <symbol id="icon-credit-card" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect>
            <line x1="1" y1="10" x2="23" y2="10"></line>
        </symbol>
    </svg>

    <div class="app-container">
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <a href="../index.html" class="logo"><div class="logo-icon">S</div>STRATUM AI</a>
                <span class="badge superads">SuperAds</span>
            </div>
            <nav class="sidebar-nav">
                <div class="nav-section">
                    <div class="nav-section-title">Core</div>
                    <a href="../index.html" class="nav-item"><span class="nav-icon"><svg><use href="#icon-chart"/></svg></span>Overview</a>
                    <a href="insights.html" class="nav-item"><span class="nav-icon"><svg><use href="#icon-trending"/></svg></span>Insights</a>
                    <a href="attribution.html" class="nav-item"><span class="nav-icon"><svg><use href="#icon-target"/></svg></span>Attribution</a>
                    <a href="signal-quality.html" class="nav-item"><span class="nav-icon"><svg><use href="#icon-signal"/></svg></span>Signal Quality</a>
                    <a href="campaigns.html" class="nav-item"><span class="nav-icon"><svg><use href="#icon-megaphone"/></svg></span>Campaigns</a>
                </div>
                <div class="nav-section">
                    <div class="nav-section-title">Intelligence</div>
                    <a href="predictions.html" class="nav-item"><span class="nav-icon"><svg><use href="#icon-cpu"/></svg></span>ML Predictions</a>
                    <a href="profit.html" class="nav-item"><span class="nav-icon"><svg><use href="#icon-dollar"/></svg></span>Profit Center</a>
                    <a href="whatsapp.html" class="nav-item"><span class="nav-icon"><svg><use href="#icon-phone"/></svg></span>WhatsApp</a>
                </div>
                <div class="nav-section">
                    <div class="nav-section-title">Admin</div>
                    <a href="connectors.html" class="nav-item"><span class="nav-icon"><svg><use href="#icon-plug"/></svg></span>Connectors</a>
                    <a href="users.html" class="nav-item"><span class="nav-icon"><svg><use href="#icon-users"/></svg></span>Users & RBAC</a>
                    <a href="audit-log.html" class="nav-item"><span class="nav-icon"><svg><use href="#icon-clipboard"/></svg></span>Audit Log</a>
                    <a href="settings.html" class="nav-item active"><span class="nav-icon"><svg><use href="#icon-settings"/></svg></span>Settings</a>
                </div>
            </nav>
        </aside>

        <main class="main-content">
            <header class="header">
                <div class="header-left">
                    <h1 class="page-title">Settings</h1>
                </div>
                <div class="header-right">
                    <button class="btn btn-secondary" id="resetBtn">Reset to Defaults</button>
                    <button class="btn btn-primary" id="saveBtn">Save Changes</button>
                    <div class="theme-toggle" id="themeToggle"><div class="theme-toggle-slider"><svg width="16" height="16"><use href="#icon-moon"/></svg></div></div>
                </div>
            </header>

            <div class="dashboard">
                <!-- Settings Navigation -->
                <div class="tabs" style="margin-bottom: 1.5rem;">
                    <button class="tab active" data-tab="organization">Organization</button>
                    <button class="tab" data-tab="notifications">Notifications</button>
                    <button class="tab" data-tab="alerts">Alert Thresholds</button>
                    <button class="tab" data-tab="reporting">Reporting</button>
                    <button class="tab" data-tab="integrations">Integrations</button>
                    <button class="tab" data-tab="advanced">Advanced</button>
                </div>

                <!-- Organization Settings -->
                <div id="organizationTab" class="panel">
                    <div class="panel-header">
                        <div class="panel-title"><span class="panel-title-icon"><svg width="18" height="18"><use href="#icon-building"/></svg></span>Organization Settings</div>
                    </div>
                    <div class="panel-content">
                        <div class="settings-grid">
                            <div class="setting-group">
                                <label class="setting-label">Company Name</label>
                                <input type="text" class="form-input" id="companyName" value="Acme Marketing Inc.">
                            </div>
                            <div class="setting-group">
                                <label class="setting-label">Industry</label>
                                <select class="form-select" id="industry">
                                    <option value="ecommerce" selected>E-commerce</option>
                                    <option value="saas">SaaS</option>
                                    <option value="retail">Retail</option>
                                    <option value="finance">Finance</option>
                                    <option value="healthcare">Healthcare</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>
                            <div class="setting-group">
                                <label class="setting-label">Default Currency</label>
                                <select class="form-select" id="currency">
                                    <option value="USD" selected>USD ($)</option>
                                    <option value="EUR">EUR</option>
                                    <option value="GBP">GBP</option>
                                    <option value="SAR">SAR</option>
                                    <option value="AED">AED</option>
                                    <option value="KWD">KWD</option>
                                    <option value="QAR">QAR</option>
                                </select>
                            </div>
                            <div class="setting-group">
                                <label class="setting-label">Timezone</label>
                                <select class="form-select" id="timezone">
                                    <option value="UTC">UTC</option>
                                    <option value="America/New_York">Eastern Time (ET)</option>
                                    <option value="America/Los_Angeles">Pacific Time (PT)</option>
                                    <option value="Europe/London">London (GMT)</option>
                                    <option value="Asia/Dubai" selected>Dubai (GST)</option>
                                    <option value="Asia/Riyadh">Riyadh (AST)</option>
                                    <option value="Asia/Kuwait">Kuwait (AST)</option>
                                </select>
                            </div>
                            <div class="setting-group full-width">
                                <label class="setting-label">Fiscal Year Start</label>
                                <select class="form-select" id="fiscalYear" style="width: 200px;">
                                    <option value="1" selected>January</option>
                                    <option value="4">April</option>
                                    <option value="7">July</option>
                                    <option value="10">October</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Notifications Settings -->
                <div id="notificationsTab" class="panel" style="display: none;">
                    <div class="panel-header">
                        <div class="panel-title"><span class="panel-title-icon"><svg width="18" height="18"><use href="#icon-bell"/></svg></span>Notification Preferences</div>
                    </div>
                    <div class="panel-content">
                        <div class="notification-settings">
                            <div class="notification-category">
                                <h4>Email Notifications</h4>
                                <div class="toggle-group">
                                    <div class="toggle-item">
                                        <div>
                                            <div class="toggle-label">Daily Digest</div>
                                            <div class="toggle-desc">Receive daily summary of key metrics</div>
                                        </div>
                                        <label class="switch"><input type="checkbox" checked><span class="slider"></span></label>
                                    </div>
                                    <div class="toggle-item">
                                        <div>
                                            <div class="toggle-label">Weekly Report</div>
                                            <div class="toggle-desc">Comprehensive weekly performance report</div>
                                        </div>
                                        <label class="switch"><input type="checkbox" checked><span class="slider"></span></label>
                                    </div>
                                    <div class="toggle-item">
                                        <div>
                                            <div class="toggle-label">Alert Notifications</div>
                                            <div class="toggle-desc">Immediate alerts for critical events</div>
                                        </div>
                                        <label class="switch"><input type="checkbox" checked><span class="slider"></span></label>
                                    </div>
                                    <div class="toggle-item">
                                        <div>
                                            <div class="toggle-label">Budget Warnings</div>
                                            <div class="toggle-desc">Notify when budget thresholds are reached</div>
                                        </div>
                                        <label class="switch"><input type="checkbox" checked><span class="slider"></span></label>
                                    </div>
                                </div>
                            </div>
                            <div class="notification-category">
                                <h4>WhatsApp Notifications</h4>
                                <div class="toggle-group">
                                    <div class="toggle-item">
                                        <div>
                                            <div class="toggle-label">Critical Alerts</div>
                                            <div class="toggle-desc">High-priority alerts via WhatsApp</div>
                                        </div>
                                        <label class="switch"><input type="checkbox" checked><span class="slider"></span></label>
                                    </div>
                                    <div class="toggle-item">
                                        <div>
                                            <div class="toggle-label">ROAS Drops</div>
                                            <div class="toggle-desc">Alert when ROAS falls below threshold</div>
                                        </div>
                                        <label class="switch"><input type="checkbox" checked><span class="slider"></span></label>
                                    </div>
                                    <div class="toggle-item">
                                        <div>
                                            <div class="toggle-label">Platform Issues</div>
                                            <div class="toggle-desc">Connector failures and sync issues</div>
                                        </div>
                                        <label class="switch"><input type="checkbox"><span class="slider"></span></label>
                                    </div>
                                </div>
                            </div>
                            <div class="notification-category">
                                <h4>In-App Notifications</h4>
                                <div class="toggle-group">
                                    <div class="toggle-item">
                                        <div>
                                            <div class="toggle-label">Real-time Updates</div>
                                            <div class="toggle-desc">Show live notifications in dashboard</div>
                                        </div>
                                        <label class="switch"><input type="checkbox" checked><span class="slider"></span></label>
                                    </div>
                                    <div class="toggle-item">
                                        <div>
                                            <div class="toggle-label">Sound Alerts</div>
                                            <div class="toggle-desc">Play sound for critical alerts</div>
                                        </div>
                                        <label class="switch"><input type="checkbox"><span class="slider"></span></label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Alert Thresholds -->
                <div id="alertsTab" class="panel" style="display: none;">
                    <div class="panel-header">
                        <div class="panel-title"><span class="panel-title-icon"><svg width="18" height="18"><use href="#icon-alert-triangle"/></svg></span>Alert Thresholds</div>
                    </div>
                    <div class="panel-content">
                        <div class="thresholds-grid">
                            <div class="threshold-card">
                                <div class="threshold-header">
                                    <span class="threshold-icon" style="color: var(--accent-green);"><svg width="20" height="20"><use href="#icon-trending"/></svg></span>
                                    <span class="threshold-title">ROAS Threshold</span>
                                </div>
                                <div class="threshold-body">
                                    <div class="threshold-input-group">
                                        <label>Minimum ROAS</label>
                                        <div class="input-with-suffix">
                                            <input type="number" class="form-input" value="2.0" step="0.1" min="0">
                                            <span class="suffix">x</span>
                                        </div>
                                    </div>
                                    <div class="threshold-input-group">
                                        <label>Alert when drops below</label>
                                        <div class="input-with-suffix">
                                            <input type="number" class="form-input" value="1.5" step="0.1" min="0">
                                            <span class="suffix">x</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="threshold-card">
                                <div class="threshold-header">
                                    <span class="threshold-icon" style="color: var(--accent-orange);"><svg width="20" height="20"><use href="#icon-dollar"/></svg></span>
                                    <span class="threshold-title">Budget Pacing</span>
                                </div>
                                <div class="threshold-body">
                                    <div class="threshold-input-group">
                                        <label>Daily overspend alert</label>
                                        <div class="input-with-suffix">
                                            <input type="number" class="form-input" value="20" min="0" max="100">
                                            <span class="suffix">%</span>
                                        </div>
                                    </div>
                                    <div class="threshold-input-group">
                                        <label>Monthly budget warning</label>
                                        <div class="input-with-suffix">
                                            <input type="number" class="form-input" value="80" min="0" max="100">
                                            <span class="suffix">%</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="threshold-card">
                                <div class="threshold-header">
                                    <span class="threshold-icon" style="color: var(--accent-purple);"><svg width="20" height="20"><use href="#icon-signal"/></svg></span>
                                    <span class="threshold-title">EMQ Score</span>
                                </div>
                                <div class="threshold-body">
                                    <div class="threshold-input-group">
                                        <label>Minimum acceptable score</label>
                                        <div class="input-with-suffix">
                                            <input type="number" class="form-input" value="70" min="0" max="100">
                                            <span class="suffix">/100</span>
                                        </div>
                                    </div>
                                    <div class="threshold-input-group">
                                        <label>Critical alert threshold</label>
                                        <div class="input-with-suffix">
                                            <input type="number" class="form-input" value="50" min="0" max="100">
                                            <span class="suffix">/100</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="threshold-card">
                                <div class="threshold-header">
                                    <span class="threshold-icon" style="color: var(--accent-red);"><svg width="20" height="20"><use href="#icon-dollar"/></svg></span>
                                    <span class="threshold-title">CPA Limits</span>
                                </div>
                                <div class="threshold-body">
                                    <div class="threshold-input-group">
                                        <label>Target CPA</label>
                                        <div class="input-with-suffix">
                                            <input type="number" class="form-input" value="50" min="0">
                                            <span class="suffix">$</span>
                                        </div>
                                    </div>
                                    <div class="threshold-input-group">
                                        <label>Max CPA alert</label>
                                        <div class="input-with-suffix">
                                            <input type="number" class="form-input" value="75" min="0">
                                            <span class="suffix">$</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="threshold-card">
                                <div class="threshold-header">
                                    <span class="threshold-icon" style="color: var(--accent-cyan);"><svg width="20" height="20"><use href="#icon-refresh"/></svg></span>
                                    <span class="threshold-title">Conversion Rate</span>
                                </div>
                                <div class="threshold-body">
                                    <div class="threshold-input-group">
                                        <label>Minimum conversion rate</label>
                                        <div class="input-with-suffix">
                                            <input type="number" class="form-input" value="2.5" step="0.1" min="0">
                                            <span class="suffix">%</span>
                                        </div>
                                    </div>
                                    <div class="threshold-input-group">
                                        <label>Alert on drop of</label>
                                        <div class="input-with-suffix">
                                            <input type="number" class="form-input" value="15" min="0" max="100">
                                            <span class="suffix">%</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="threshold-card">
                                <div class="threshold-header">
                                    <span class="threshold-icon" style="color: var(--accent-blue);"><svg width="20" height="20"><use href="#icon-clock"/></svg></span>
                                    <span class="threshold-title">Sync Failures</span>
                                </div>
                                <div class="threshold-body">
                                    <div class="threshold-input-group">
                                        <label>Alert after failures</label>
                                        <div class="input-with-suffix">
                                            <input type="number" class="form-input" value="3" min="1" max="10">
                                            <span class="suffix">times</span>
                                        </div>
                                    </div>
                                    <div class="threshold-input-group">
                                        <label>Max sync delay</label>
                                        <div class="input-with-suffix">
                                            <input type="number" class="form-input" value="30" min="5">
                                            <span class="suffix">min</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Reporting Settings -->
                <div id="reportingTab" class="panel" style="display: none;">
                    <div class="panel-header">
                        <div class="panel-title"><span class="panel-title-icon"><svg width="18" height="18"><use href="#icon-file-text"/></svg></span>Reporting Defaults</div>
                    </div>
                    <div class="panel-content">
                        <div class="settings-grid">
                            <div class="setting-group">
                                <label class="setting-label">Default Date Range</label>
                                <select class="form-select" id="dateRange">
                                    <option value="7d">Last 7 Days</option>
                                    <option value="30d" selected>Last 30 Days</option>
                                    <option value="90d">Last 90 Days</option>
                                    <option value="mtd">Month to Date</option>
                                    <option value="qtd">Quarter to Date</option>
                                    <option value="ytd">Year to Date</option>
                                </select>
                            </div>
                            <div class="setting-group">
                                <label class="setting-label">Attribution Model</label>
                                <select class="form-select" id="attributionModel">
                                    <option value="last_touch">Last Touch</option>
                                    <option value="first_touch">First Touch</option>
                                    <option value="linear">Linear</option>
                                    <option value="position_based" selected>Position-Based</option>
                                    <option value="time_decay">Time Decay</option>
                                    <option value="data_driven">Data-Driven</option>
                                </select>
                            </div>
                            <div class="setting-group">
                                <label class="setting-label">Report Format</label>
                                <select class="form-select" id="reportFormat">
                                    <option value="pdf" selected>PDF</option>
                                    <option value="excel">Excel</option>
                                    <option value="csv">CSV</option>
                                    <option value="google_sheets">Google Sheets</option>
                                </select>
                            </div>
                            <div class="setting-group">
                                <label class="setting-label">Comparison Period</label>
                                <select class="form-select" id="comparisonPeriod">
                                    <option value="previous_period" selected>Previous Period</option>
                                    <option value="previous_year">Previous Year</option>
                                    <option value="custom">Custom</option>
                                </select>
                            </div>
                            <div class="setting-group full-width">
                                <label class="setting-label">Scheduled Reports</label>
                                <div class="scheduled-reports">
                                    <div class="report-schedule">
                                        <span>Weekly Performance Report</span>
                                        <span style="color: var(--text-muted);">Every Monday at 9:00 AM</span>
                                        <button class="btn btn-secondary" style="padding: 0.25rem 0.5rem; font-size: 0.75rem;">Edit</button>
                                    </div>
                                    <div class="report-schedule">
                                        <span>Monthly P&L Summary</span>
                                        <span style="color: var(--text-muted);">1st of each month at 8:00 AM</span>
                                        <button class="btn btn-secondary" style="padding: 0.25rem 0.5rem; font-size: 0.75rem;">Edit</button>
                                    </div>
                                    <button class="btn btn-secondary" style="margin-top: 0.5rem;">+ Add Scheduled Report</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Integrations Settings -->
                <div id="integrationsTab" class="panel" style="display: none;">
                    <div class="panel-header">
                        <div class="panel-title"><span class="panel-title-icon"><svg width="18" height="18"><use href="#icon-link"/></svg></span>API & Integrations</div>
                    </div>
                    <div class="panel-content">
                        <div class="integration-section">
                            <h4>API Keys</h4>
                            <div class="api-key-card">
                                <div class="api-key-header">
                                    <span class="api-key-name">Production API Key</span>
                                    <span class="feature-status active">Active</span>
                                </div>
                                <div class="api-key-value">
                                    <code>sk_live_*****************************abc</code>
                                    <button class="btn btn-secondary" style="padding: 0.25rem 0.5rem; font-size: 0.75rem;">Copy</button>
                                    <button class="btn btn-secondary" style="padding: 0.25rem 0.5rem; font-size: 0.75rem;">Regenerate</button>
                                </div>
                                <div class="api-key-meta">Created: Jan 15, 2024 | Last used: 2 minutes ago</div>
                            </div>
                            <div class="api-key-card">
                                <div class="api-key-header">
                                    <span class="api-key-name">Test API Key</span>
                                    <span class="feature-status" style="background: rgba(251, 191, 36, 0.15); color: var(--accent-yellow);">Test</span>
                                </div>
                                <div class="api-key-value">
                                    <code>sk_test_*****************************xyz</code>
                                    <button class="btn btn-secondary" style="padding: 0.25rem 0.5rem; font-size: 0.75rem;">Copy</button>
                                    <button class="btn btn-secondary" style="padding: 0.25rem 0.5rem; font-size: 0.75rem;">Regenerate</button>
                                </div>
                                <div class="api-key-meta">Created: Jan 10, 2024 | Last used: 3 days ago</div>
                            </div>
                            <button class="btn btn-secondary">+ Create New API Key</button>
                        </div>
                        <div class="integration-section" style="margin-top: 2rem;">
                            <h4>Webhooks</h4>
                            <div class="webhook-card">
                                <div class="webhook-info">
                                    <div class="webhook-url">https://api.yourcompany.com/webhooks/stratum</div>
                                    <div class="webhook-events">Events: campaign.updated, alert.triggered, sync.completed</div>
                                </div>
                                <div class="webhook-status">
                                    <span class="feature-status active">Active</span>
                                    <button class="btn btn-secondary" style="padding: 0.25rem 0.5rem; font-size: 0.75rem;">Edit</button>
                                </div>
                            </div>
                            <button class="btn btn-secondary">+ Add Webhook Endpoint</button>
                        </div>
                        <div class="integration-section" style="margin-top: 2rem;">
                            <h4>Connected Services</h4>
                            <div class="connected-services-grid">
                                <div class="service-card">
                                    <div class="service-icon"><svg width="28" height="28"><use href="#icon-chart"/></svg></div>
                                    <div class="service-name">Google Analytics</div>
                                    <span class="feature-status active">Connected</span>
                                </div>
                                <div class="service-card">
                                    <div class="service-icon"><svg width="28" height="28"><use href="#icon-trending"/></svg></div>
                                    <div class="service-name">Google Tag Manager</div>
                                    <span class="feature-status active">Connected</span>
                                </div>
                                <div class="service-card">
                                    <div class="service-icon"><svg width="28" height="28"><use href="#icon-shopping-cart"/></svg></div>
                                    <div class="service-name">Shopify</div>
                                    <span class="feature-status active">Connected</span>
                                </div>
                                <div class="service-card">
                                    <div class="service-icon"><svg width="28" height="28"><use href="#icon-credit-card"/></svg></div>
                                    <div class="service-name">Stripe</div>
                                    <span class="feature-status" style="background: rgba(100, 116, 139, 0.15); color: var(--text-muted);">Not Connected</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Advanced Settings -->
                <div id="advancedTab" class="panel" style="display: none;">
                    <div class="panel-header">
                        <div class="panel-title"><span class="panel-title-icon"><svg width="18" height="18"><use href="#icon-tool"/></svg></span>Advanced Settings</div>
                    </div>
                    <div class="panel-content">
                        <div class="advanced-settings">
                            <div class="advanced-section">
                                <h4>Data Retention</h4>
                                <div class="setting-group">
                                    <label class="setting-label">Keep historical data for</label>
                                    <select class="form-select" id="dataRetention" style="width: 200px;">
                                        <option value="90">90 days</option>
                                        <option value="180">180 days</option>
                                        <option value="365" selected>1 year</option>
                                        <option value="730">2 years</option>
                                        <option value="0">Forever</option>
                                    </select>
                                </div>
                            </div>
                            <div class="advanced-section">
                                <h4>Sync Settings</h4>
                                <div class="toggle-group">
                                    <div class="toggle-item">
                                        <div>
                                            <div class="toggle-label">Auto-sync platforms</div>
                                            <div class="toggle-desc">Automatically sync data every 15 minutes</div>
                                        </div>
                                        <label class="switch"><input type="checkbox" checked><span class="slider"></span></label>
                                    </div>
                                    <div class="toggle-item">
                                        <div>
                                            <div class="toggle-label">Background ML training</div>
                                            <div class="toggle-desc">Continuously improve prediction models</div>
                                        </div>
                                        <label class="switch"><input type="checkbox" checked><span class="slider"></span></label>
                                    </div>
                                </div>
                            </div>
                            <div class="advanced-section">
                                <h4>Privacy & Compliance</h4>
                                <div class="toggle-group">
                                    <div class="toggle-item">
                                        <div>
                                            <div class="toggle-label">GDPR Mode</div>
                                            <div class="toggle-desc">Enable GDPR-compliant data handling</div>
                                        </div>
                                        <label class="switch"><input type="checkbox" checked><span class="slider"></span></label>
                                    </div>
                                    <div class="toggle-item">
                                        <div>
                                            <div class="toggle-label">Anonymize PII in exports</div>
                                            <div class="toggle-desc">Hash personal data in exported reports</div>
                                        </div>
                                        <label class="switch"><input type="checkbox"><span class="slider"></span></label>
                                    </div>
                                </div>
                            </div>
                            <div class="advanced-section danger-zone">
                                <h4 style="color: var(--accent-red);">Danger Zone</h4>
                                <div class="danger-actions">
                                    <div class="danger-action">
                                        <div>
                                            <div class="danger-title">Clear all cached data</div>
                                            <div class="danger-desc">Remove cached analytics and force fresh sync</div>
                                        </div>
                                        <button class="btn btn-secondary">Clear Cache</button>
                                    </div>
                                    <div class="danger-action">
                                        <div>
                                            <div class="danger-title">Reset ML models</div>
                                            <div class="danger-desc">Retrain all prediction models from scratch</div>
                                        </div>
                                        <button class="btn btn-secondary">Reset Models</button>
                                    </div>
                                    <div class="danger-action">
                                        <div>
                                            <div class="danger-title">Delete all data</div>
                                            <div class="danger-desc">Permanently delete all organization data</div>
                                        </div>
                                        <button class="btn" style="background: var(--accent-red); color: white;">Delete Everything</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="../shared/api.js"></script>
    <script src="../shared/utils.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            initTheme();
            initEventListeners();
        });

        function initTheme() {
            const savedTheme = localStorage.getItem('stratum-theme') || 'dark';
            document.documentElement.setAttribute('data-theme', savedTheme);
            updateThemeIcon(savedTheme);
        }

        function updateThemeIcon(theme) {
            const slider = document.querySelector('.theme-toggle-slider');
            slider.innerHTML = theme === 'dark'
                ? '<svg width="16" height="16"><use href="#icon-moon"/></svg>'
                : '<svg width="16" height="16"><use href="#icon-sun"/></svg>';
        }

        function initEventListeners() {
            document.getElementById('themeToggle').addEventListener('click', () => {
                const html = document.documentElement;
                const newTheme = html.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
                html.setAttribute('data-theme', newTheme);
                localStorage.setItem('stratum-theme', newTheme);
                updateThemeIcon(newTheme);
            });

            // Tab switching
            document.querySelectorAll('.tab').forEach(tab => {
                tab.addEventListener('click', (e) => {
                    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                    e.target.classList.add('active');
                    document.querySelectorAll('[id$="Tab"]').forEach(panel => panel.style.display = 'none');
                    document.getElementById(e.target.dataset.tab + 'Tab').style.display = 'block';
                });
            });

            // Save button
            document.getElementById('saveBtn').addEventListener('click', () => {
                showToast('Settings saved successfully!');
            });

            // Reset button
            document.getElementById('resetBtn').addEventListener('click', () => {
                if (confirm('Are you sure you want to reset all settings to defaults?')) {
                    showToast('Settings reset to defaults');
                }
            });
        }

        function showToast(message) {
            const toast = document.createElement('div');
            toast.style.cssText = `
                position: fixed;
                bottom: 2rem;
                right: 2rem;
                background: var(--accent-green);
                color: white;
                padding: 1rem 1.5rem;
                border-radius: 8px;
                font-weight: 500;
                z-index: 1000;
                animation: slideIn 0.3s ease;
            `;
            toast.textContent = message;
            document.body.appendChild(toast);
            setTimeout(() => toast.remove(), 3000);
        }
    </script>

    <style>
        .settings-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1.5rem;
        }

        .setting-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .setting-group.full-width {
            grid-column: span 2;
        }

        .setting-label {
            font-size: 0.85rem;
            font-weight: 500;
            color: var(--text-secondary);
        }

        .notification-settings {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        .notification-category h4 {
            margin-bottom: 1rem;
            font-size: 1rem;
            color: var(--text-primary);
        }

        .toggle-group {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .toggle-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            background: var(--bg-glass);
            border-radius: 8px;
        }

        .toggle-label {
            font-weight: 500;
            margin-bottom: 0.25rem;
        }

        .toggle-desc {
            font-size: 0.8rem;
            color: var(--text-muted);
        }

        .switch {
            position: relative;
            display: inline-block;
            width: 48px;
            height: 26px;
        }

        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            inset: 0;
            background: var(--bg-tertiary);
            border-radius: 26px;
            transition: 0.3s;
        }

        .slider::before {
            position: absolute;
            content: "";
            height: 20px;
            width: 20px;
            left: 3px;
            bottom: 3px;
            background: white;
            border-radius: 50%;
            transition: 0.3s;
        }

        input:checked + .slider {
            background: var(--accent-green);
        }

        input:checked + .slider::before {
            transform: translateX(22px);
        }

        .thresholds-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1.5rem;
        }

        .threshold-card {
            background: var(--bg-glass);
            border-radius: 12px;
            padding: 1.25rem;
        }

        .threshold-header {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 1rem;
        }

        .threshold-icon {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .threshold-title {
            font-weight: 600;
        }

        .threshold-input-group {
            margin-bottom: 1rem;
        }

        .threshold-input-group label {
            display: block;
            font-size: 0.8rem;
            color: var(--text-muted);
            margin-bottom: 0.5rem;
        }

        .input-with-suffix {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .input-with-suffix .form-input {
            flex: 1;
        }

        .input-with-suffix .suffix {
            color: var(--text-muted);
            font-size: 0.85rem;
        }

        .scheduled-reports {
            background: var(--bg-glass);
            padding: 1rem;
            border-radius: 8px;
        }

        .report-schedule {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem 0;
            border-bottom: 1px solid var(--border-primary);
        }

        .report-schedule:last-of-type {
            border-bottom: none;
        }

        .integration-section h4 {
            margin-bottom: 1rem;
            color: var(--text-primary);
        }

        .api-key-card {
            background: var(--bg-glass);
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1rem;
        }

        .api-key-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.75rem;
        }

        .api-key-name {
            font-weight: 600;
        }

        .api-key-value {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
        }

        .api-key-value code {
            flex: 1;
            padding: 0.5rem;
            background: var(--bg-tertiary);
            border-radius: 4px;
            font-size: 0.85rem;
        }

        .api-key-meta {
            font-size: 0.75rem;
            color: var(--text-muted);
        }

        .webhook-card {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: var(--bg-glass);
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1rem;
        }

        .webhook-url {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85rem;
            margin-bottom: 0.25rem;
        }

        .webhook-events {
            font-size: 0.75rem;
            color: var(--text-muted);
        }

        .webhook-status {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .connected-services-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1rem;
        }

        .service-card {
            background: var(--bg-glass);
            padding: 1rem;
            border-radius: 8px;
            text-align: center;
        }

        .service-icon {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 0.5rem;
            color: var(--text-primary);
        }

        .service-name {
            font-weight: 500;
            margin-bottom: 0.5rem;
        }

        .advanced-settings {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        .advanced-section h4 {
            margin-bottom: 1rem;
        }

        .danger-zone {
            border: 1px solid var(--accent-red);
            border-radius: 12px;
            padding: 1.5rem;
            background: rgba(239, 68, 68, 0.05);
        }

        .danger-actions {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .danger-action {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            background: var(--bg-glass);
            border-radius: 8px;
        }

        .danger-title {
            font-weight: 500;
        }

        .danger-desc {
            font-size: 0.8rem;
            color: var(--text-muted);
        }

        @media (max-width: 1024px) {
            .settings-grid,
            .thresholds-grid,
            .connected-services-grid {
                grid-template-columns: 1fr;
            }

            .setting-group.full-width {
                grid-column: span 1;
            }
        }

        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
    </style>
</body>
</html>
