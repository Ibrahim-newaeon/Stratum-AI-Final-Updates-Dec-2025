# =============================================================================
# Stratum AI - Environment Configuration
# =============================================================================
# Copy this file to .env and update with your values
# DO NOT commit .env to version control
#
# SECURITY REQUIREMENTS FOR PRODUCTION:
# =====================================
# 1. Set APP_ENV=production
# 2. Generate secure keys using:
#    python -c "import secrets; print(secrets.token_urlsafe(32))"
# 3. Use strong database password (20+ chars, mixed case, numbers, symbols)
# 4. Never use default/example values in production
#
# The application will REFUSE to start in production mode with weak credentials.
# =============================================================================

# =============================================================================
# Application Settings
# =============================================================================
APP_NAME=Stratum AI
APP_ENV=development
DEBUG=true

# REQUIRED: Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=GENERATE_SECURE_KEY_MIN_32_CHARS
JWT_SECRET_KEY=GENERATE_SECURE_KEY_MIN_32_CHARS
PII_ENCRYPTION_KEY=GENERATE_SECURE_KEY_MIN_32_CHARS

# =============================================================================
# Database Configuration
# =============================================================================
# PostgreSQL with async support
# IMPORTANT: Replace 'YOUR_STRONG_PASSWORD' with a secure password
DATABASE_URL=postgresql+asyncpg://stratum:YOUR_STRONG_PASSWORD@localhost:5432/stratum_ai
DATABASE_URL_SYNC=postgresql://stratum:YOUR_STRONG_PASSWORD@localhost:5432/stratum_ai

# Connection pool settings
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_RECYCLE=3600

# =============================================================================
# Redis & Celery Configuration
# =============================================================================
REDIS_URL=redis://localhost:6379/0
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2

# =============================================================================
# Ad Platform Credentials
# =============================================================================
# Set to true to use mock data during development
USE_MOCK_AD_DATA=true

# Meta (Facebook/Instagram)
META_APP_ID=
META_APP_SECRET=
META_ACCESS_TOKEN=

# Google Ads
GOOGLE_ADS_DEVELOPER_TOKEN=
GOOGLE_ADS_CLIENT_ID=
GOOGLE_ADS_CLIENT_SECRET=
GOOGLE_ADS_REFRESH_TOKEN=
GOOGLE_ADS_LOGIN_CUSTOMER_ID=

# TikTok
TIKTOK_APP_ID=
TIKTOK_SECRET=
TIKTOK_ACCESS_TOKEN=

# Snapchat
SNAPCHAT_CLIENT_ID=
SNAPCHAT_CLIENT_SECRET=
SNAPCHAT_ACCESS_TOKEN=

# LinkedIn
LINKEDIN_CLIENT_ID=
LINKEDIN_CLIENT_SECRET=
LINKEDIN_ACCESS_TOKEN=

# =============================================================================
# WhatsApp Business API Configuration
# =============================================================================
WHATSAPP_PHONE_NUMBER_ID=
WHATSAPP_ACCESS_TOKEN=
WHATSAPP_BUSINESS_ACCOUNT_ID=
WHATSAPP_VERIFY_TOKEN=stratum-whatsapp-verify-token
WHATSAPP_APP_SECRET=
WHATSAPP_API_VERSION=v18.0

# =============================================================================
# Market Intelligence Configuration
# =============================================================================
# Provider: mock, serpapi, dataforseo
MARKET_INTEL_PROVIDER=mock

# SerpApi (for Google search results)
SERPAPI_KEY=

# DataForSEO (for competitor intelligence)
DATAFORSEO_LOGIN=
DATAFORSEO_PASSWORD=

# =============================================================================
# ML Configuration
# =============================================================================
# Provider: local (sklearn) or vertex (Google Vertex AI)
ML_PROVIDER=local
ML_MODELS_PATH=/app/ml_service/models

# Google Cloud (for Vertex AI)
GOOGLE_CLOUD_PROJECT=
VERTEX_AI_ENDPOINT=
GOOGLE_APPLICATION_CREDENTIALS=

# =============================================================================
# Security Configuration
# =============================================================================
# PII encryption key (32 characters, used for encrypting sensitive data)
PII_ENCRYPTION_KEY=your-32-character-encryption-key

# JWT Token settings
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# =============================================================================
# CORS Configuration
# =============================================================================
# Comma-separated list of allowed origins
CORS_ORIGINS=http://localhost:3000,http://localhost:5173,http://localhost:8080
CORS_ALLOW_CREDENTIALS=true

# =============================================================================
# Logging & Monitoring
# =============================================================================
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO
# Log format: json or console
LOG_FORMAT=console

# Sentry (error tracking)
SENTRY_DSN=

# =============================================================================
# Rate Limiting
# =============================================================================
RATE_LIMIT_PER_MINUTE=100
RATE_LIMIT_BURST=20

# =============================================================================
# Email Configuration (for notifications)
# =============================================================================
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM_EMAIL=noreply@stratum.ai

# =============================================================================
# Stripe Payment Configuration
# =============================================================================
# Get your keys from https://dashboard.stripe.com/apikeys
# Use test keys (sk_test_..., pk_test_...) for development
# Use live keys (sk_live_..., pk_live_...) for production

# Stripe API Keys
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key

# Webhook signing secret (from Stripe Dashboard > Webhooks)
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_signing_secret

# Stripe Price IDs for each tier (create in Stripe Dashboard > Products)
# These should be recurring subscription prices
STRIPE_STARTER_PRICE_ID=price_starter_monthly_id
STRIPE_PROFESSIONAL_PRICE_ID=price_professional_monthly_id
STRIPE_ENTERPRISE_PRICE_ID=price_enterprise_monthly_id

# =============================================================================
# Feature Flags
# =============================================================================
ENABLE_ML_FEATURES=true
ENABLE_COMPETITOR_INTEL=true
ENABLE_WHATSAPP=true
ENABLE_LINKEDIN=true
