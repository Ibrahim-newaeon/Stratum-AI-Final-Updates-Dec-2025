<!DOCTYPE html>
<html lang="en" class="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Stratum AI - Decision Operating System</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          fontFamily: { sans: ['Inter', 'sans-serif'] },
          colors: {
            primary: { DEFAULT: '#8B5CF6', 50: '#F5F3FF', 100: '#EDE9FE', 500: '#8B5CF6', 600: '#7C3AED', 700: '#6D28D9' },
            success: '#10B981',
            warning: '#F59E0B',
            danger: '#EF4444',
            dark: { 50: '#f8fafc', 100: '#f1f5f9', 200: '#e2e8f0', 700: '#334155', 800: '#1e293b', 900: '#0f172a', 950: '#020617' }
          }
        }
      }
    }
  </script>
  <style>
    [x-cloak] { display: none !important; }
    .gradient-stratum { background: linear-gradient(135deg, #8B5CF6 0%, #EC4899 100%); }
    .gradient-profit { background: linear-gradient(135deg, #10B981 0%, #059669 100%); }
    .gradient-risk { background: linear-gradient(135deg, #EF4444 0%, #DC2626 100%); }
    .shadow-glow { box-shadow: 0 0 20px rgba(139, 92, 246, 0.3); }
    .card { @apply bg-dark-800 border border-dark-700 rounded-xl; }
    ::-webkit-scrollbar { width: 6px; height: 6px; }
    ::-webkit-scrollbar-track { background: #1e293b; }
    ::-webkit-scrollbar-thumb { background: #475569; border-radius: 3px; }
    .sparkline { height: 40px; }
  </style>
</head>
<body class="bg-dark-950 text-white font-sans antialiased" x-data="stratumApp()" x-cloak>

  <!-- Login Screen -->
  <div x-show="!isLoggedIn" class="min-h-screen flex">
    <!-- Left Branding -->
    <div class="hidden lg:flex lg:w-1/2 gradient-stratum relative overflow-hidden">
      <div class="absolute inset-0 bg-black/20"></div>
      <div class="relative z-10 flex flex-col justify-between p-12 text-white">
        <div>
          <div class="flex items-center gap-3 mb-8">
            <div class="h-12 w-12 rounded-xl bg-white/20 backdrop-blur flex items-center justify-center shadow-glow">
              <span class="text-white font-bold text-2xl">S</span>
            </div>
            <span class="text-3xl font-bold">Stratum AI</span>
          </div>
          <h1 class="text-4xl font-bold mb-4 leading-tight">Decision Operating<br/>System</h1>
          <p class="text-lg text-white/80 max-w-md">
            Built for cross-platform growth: AI-powered insights, real-time analytics, automated optimization, EMQ measurement, auto-resolution logic, and clear ROAS lift—always on.
          </p>
        </div>
        <div class="space-y-4">
          <p class="text-sm text-white/60">Integrated with Meta, Google, TikTok, Snapchat, LinkedIn & WhatsApp</p>
        </div>
      </div>
    </div>

    <!-- Login Form -->
    <div class="flex-1 flex items-center justify-center p-8 bg-dark-900">
      <div class="w-full max-w-md">
        <div class="text-center mb-8">
          <div class="lg:hidden flex items-center justify-center gap-2 mb-6">
            <div class="h-10 w-10 rounded-lg gradient-stratum flex items-center justify-center">
              <span class="text-white font-bold text-xl">S</span>
            </div>
            <span class="text-2xl font-bold">Stratum AI</span>
          </div>
          <h2 class="text-2xl font-bold mb-2">Welcome back</h2>
          <p class="text-dark-200">Select your role to continue</p>
        </div>

        <div class="space-y-3">
          <button @click="login('superadmin')" class="w-full p-4 rounded-xl border border-primary/30 bg-primary/10 hover:bg-primary/20 transition-all text-left group">
            <div class="flex items-center gap-4">
              <div class="w-12 h-12 rounded-lg gradient-stratum flex items-center justify-center">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/></svg>
              </div>
              <div>
                <p class="font-semibold text-lg">Super Admin</p>
                <p class="text-sm text-dark-200">Platform Sovereign • Profit & System Design</p>
              </div>
              <svg class="w-5 h-5 ml-auto text-dark-200 group-hover:text-white transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>
            </div>
          </button>

          <button @click="login('admin')" class="w-full p-4 rounded-xl border border-dark-700 bg-dark-800 hover:bg-dark-700 transition-all text-left group">
            <div class="flex items-center gap-4">
              <div class="w-12 h-12 rounded-lg bg-blue-500/20 flex items-center justify-center text-blue-400">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/></svg>
              </div>
              <div>
                <p class="font-semibold text-lg">Admin</p>
                <p class="text-sm text-dark-200">Tenant Commander • Performance Execution</p>
              </div>
              <svg class="w-5 h-5 ml-auto text-dark-200 group-hover:text-white transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>
            </div>
          </button>

          <button @click="login('account_manager')" class="w-full p-4 rounded-xl border border-dark-700 bg-dark-800 hover:bg-dark-700 transition-all text-left group">
            <div class="flex items-center gap-4">
              <div class="w-12 h-12 rounded-lg bg-green-500/20 flex items-center justify-center text-green-400">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"/></svg>
              </div>
              <div>
                <p class="font-semibold text-lg">Account Manager</p>
                <p class="text-sm text-dark-200">Growth Translator • Trust & Narrative</p>
              </div>
              <svg class="w-5 h-5 ml-auto text-dark-200 group-hover:text-white transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>
            </div>
          </button>

          <button @click="login('tenant')" class="w-full p-4 rounded-xl border border-dark-700 bg-dark-800 hover:bg-dark-700 transition-all text-left group">
            <div class="flex items-center gap-4">
              <div class="w-12 h-12 rounded-lg bg-amber-500/20 flex items-center justify-center text-amber-400">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"/></svg>
              </div>
              <div>
                <p class="font-semibold text-lg">Tenant</p>
                <p class="text-sm text-dark-200">Viewer • Read-only Dashboard Access</p>
              </div>
              <svg class="w-5 h-5 ml-auto text-dark-200 group-hover:text-white transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>
            </div>
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Main Dashboard -->
  <div x-show="isLoggedIn" class="flex h-screen overflow-hidden">

    <!-- Sidebar -->
    <aside class="w-64 bg-dark-900 border-r border-dark-700 flex flex-col">
      <!-- Logo -->
      <div class="p-4 border-b border-dark-700">
        <div class="flex items-center gap-3">
          <div class="h-10 w-10 rounded-lg gradient-stratum flex items-center justify-center shadow-glow">
            <span class="text-white font-bold text-xl">S</span>
          </div>
          <div>
            <span class="font-bold text-lg">Stratum AI</span>
            <p class="text-xs text-dark-200" x-text="roleLabels[currentRole]"></p>
          </div>
        </div>
      </div>

      <!-- Navigation -->
      <nav class="flex-1 p-4 space-y-1 overflow-y-auto">
        <template x-for="item in getNavItems()" :key="item.id">
          <button
            @click="activeScreen = item.id"
            :class="activeScreen === item.id ? 'bg-primary/20 text-primary border-primary/30' : 'text-dark-200 hover:bg-dark-800 border-transparent'"
            class="w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all border"
          >
            <span x-html="item.icon"></span>
            <span x-text="item.label"></span>
            <span x-show="item.badge" class="ml-auto px-2 py-0.5 text-xs rounded-full bg-danger text-white" x-text="item.badge"></span>
          </button>
        </template>
      </nav>

      <!-- User Menu -->
      <div class="p-4 border-t border-dark-700">
        <div class="flex items-center gap-3">
          <div class="w-10 h-10 rounded-full gradient-stratum flex items-center justify-center font-bold">
            <span x-text="currentRole.charAt(0).toUpperCase()"></span>
          </div>
          <div class="flex-1 min-w-0">
            <p class="font-medium truncate" x-text="userNames[currentRole]"></p>
            <p class="text-xs text-dark-200 truncate" x-text="roleLabels[currentRole]"></p>
          </div>
          <button @click="logout()" class="p-2 hover:bg-dark-800 rounded-lg text-dark-200 hover:text-white transition-colors">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"/></svg>
          </button>
        </div>
      </div>
    </aside>

    <!-- Main Content -->
    <main class="flex-1 overflow-y-auto bg-dark-950">

      <!-- ==================== SUPER ADMIN SCREENS ==================== -->
      <template x-if="currentRole === 'superadmin'">
        <div>
          <!-- Executive Overview -->
          <div x-show="activeScreen === 'executive'" class="p-6 space-y-6">
            <div class="flex items-center justify-between">
              <div>
                <h1 class="text-2xl font-bold">Executive Overview</h1>
                <p class="text-dark-200">Platform-wide performance at a glance</p>
              </div>
              <div class="flex items-center gap-3">
                <select class="px-3 py-2 rounded-lg bg-dark-800 border border-dark-700 text-sm">
                  <option>Last 24 hours</option>
                  <option>Last 7 days</option>
                  <option>Last 30 days</option>
                </select>
                <button class="px-4 py-2 rounded-lg bg-dark-800 border border-dark-700 text-sm hover:bg-dark-700 transition-colors">
                  <svg class="w-4 h-4 inline mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/></svg>
                  Refresh
                </button>
              </div>
            </div>

            <!-- Primary KPIs -->
            <div class="grid grid-cols-4 gap-4">
              <div class="card p-5">
                <div class="flex items-center justify-between mb-3">
                  <span class="text-sm text-dark-200">System Profit (Live)</span>
                  <span class="text-xs px-2 py-1 rounded-full bg-success/20 text-success">+12.4%</span>
                </div>
                <p class="text-3xl font-bold text-success">$847,290</p>
                <p class="text-xs text-dark-200 mt-2">vs $753,421 last period</p>
              </div>

              <div class="card p-5">
                <div class="flex items-center justify-between mb-3">
                  <span class="text-sm text-dark-200">ROAS Momentum</span>
                  <span class="text-xs px-2 py-1 rounded-full bg-success/20 text-success">Accelerating</span>
                </div>
                <p class="text-3xl font-bold">4.82x</p>
                <div class="flex items-center gap-2 mt-2">
                  <div class="flex-1 h-2 bg-dark-700 rounded-full overflow-hidden">
                    <div class="h-full bg-success rounded-full" style="width: 78%"></div>
                  </div>
                  <span class="text-xs text-dark-200">78%</span>
                </div>
              </div>

              <div class="card p-5 border-warning/30">
                <div class="flex items-center justify-between mb-3">
                  <span class="text-sm text-dark-200">Tenants at Risk</span>
                  <span class="text-xs px-2 py-1 rounded-full bg-warning/20 text-warning">Action Required</span>
                </div>
                <p class="text-3xl font-bold text-warning">7</p>
                <p class="text-xs text-dark-200 mt-2">of 156 total tenants</p>
              </div>

              <div class="card p-5 border-danger/30">
                <div class="flex items-center justify-between mb-3">
                  <span class="text-sm text-dark-200">Value Leakage Detected</span>
                  <span class="text-xs px-2 py-1 rounded-full bg-danger/20 text-danger">Critical</span>
                </div>
                <p class="text-3xl font-bold text-danger">$23,450</p>
                <p class="text-xs text-dark-200 mt-2">Potential recovery available</p>
              </div>
            </div>

            <!-- Secondary Metrics -->
            <div class="grid grid-cols-4 gap-4">
              <div class="card p-4">
                <p class="text-xs text-dark-200 mb-1">AI-Driven ROAS Lift</p>
                <p class="text-xl font-bold text-primary">+34.2%</p>
              </div>
              <div class="card p-4">
                <p class="text-xs text-dark-200 mb-1">Recovered Revenue</p>
                <p class="text-xl font-bold text-success">$156,780</p>
              </div>
              <div class="card p-4">
                <p class="text-xs text-dark-200 mb-1">Time Saved vs Manual</p>
                <p class="text-xl font-bold">847 hrs</p>
              </div>
              <div class="card p-4">
                <p class="text-xs text-dark-200 mb-1">Predictive Confidence</p>
                <p class="text-xl font-bold">94.2%</p>
              </div>
            </div>

            <!-- Tenant Risk Table -->
            <div class="card">
              <div class="p-4 border-b border-dark-700 flex items-center justify-between">
                <h3 class="font-semibold">Tenants Requiring Attention</h3>
                <button class="text-sm text-primary hover:underline">View All Tenants</button>
              </div>
              <div class="overflow-x-auto">
                <table class="w-full">
                  <thead class="bg-dark-800/50">
                    <tr>
                      <th class="text-left p-4 text-xs font-medium text-dark-200">Tenant</th>
                      <th class="text-right p-4 text-xs font-medium text-dark-200">ROAS</th>
                      <th class="text-right p-4 text-xs font-medium text-dark-200">Momentum</th>
                      <th class="text-center p-4 text-xs font-medium text-dark-200">Risk Level</th>
                      <th class="text-right p-4 text-xs font-medium text-dark-200">Actions</th>
                    </tr>
                  </thead>
                  <tbody class="divide-y divide-dark-700">
                    <tr class="hover:bg-dark-800/30">
                      <td class="p-4">
                        <div class="flex items-center gap-3">
                          <div class="w-8 h-8 rounded-lg bg-danger/20 flex items-center justify-center text-danger font-bold">A</div>
                          <span class="font-medium">Acme Corp</span>
                        </div>
                      </td>
                      <td class="p-4 text-right text-danger font-medium">1.24x</td>
                      <td class="p-4 text-right"><span class="text-danger">-23%</span></td>
                      <td class="p-4 text-center"><span class="px-2 py-1 rounded-full text-xs bg-danger/20 text-danger">Critical</span></td>
                      <td class="p-4 text-right">
                        <button class="px-3 py-1 rounded bg-danger/20 text-danger text-sm hover:bg-danger/30 transition-colors">Intervene</button>
                      </td>
                    </tr>
                    <tr class="hover:bg-dark-800/30">
                      <td class="p-4">
                        <div class="flex items-center gap-3">
                          <div class="w-8 h-8 rounded-lg bg-warning/20 flex items-center justify-center text-warning font-bold">T</div>
                          <span class="font-medium">TechStart Inc</span>
                        </div>
                      </td>
                      <td class="p-4 text-right text-warning font-medium">2.15x</td>
                      <td class="p-4 text-right"><span class="text-warning">-8%</span></td>
                      <td class="p-4 text-center"><span class="px-2 py-1 rounded-full text-xs bg-warning/20 text-warning">Warning</span></td>
                      <td class="p-4 text-right">
                        <button class="px-3 py-1 rounded bg-warning/20 text-warning text-sm hover:bg-warning/30 transition-colors">Stabilize</button>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>

          <!-- Tenant Intelligence -->
          <div x-show="activeScreen === 'tenants'" class="p-6 space-y-6">
            <div class="flex items-center justify-between">
              <div>
                <h1 class="text-2xl font-bold">Tenant Intelligence</h1>
                <p class="text-dark-200">Portfolio management and health monitoring</p>
              </div>
              <div class="flex items-center gap-3">
                <input type="text" placeholder="Search tenants..." class="px-4 py-2 rounded-lg bg-dark-800 border border-dark-700 text-sm w-64">
                <select class="px-3 py-2 rounded-lg bg-dark-800 border border-dark-700 text-sm">
                  <option>All Status</option>
                  <option>Scaling</option>
                  <option>Stable</option>
                  <option>At Risk</option>
                </select>
              </div>
            </div>

            <!-- Tenant Grid -->
            <div class="grid grid-cols-3 gap-4">
              <template x-for="tenant in mockTenants" :key="tenant.id">
                <div class="card p-5 hover:border-primary/50 transition-colors cursor-pointer">
                  <div class="flex items-start justify-between mb-4">
                    <div class="flex items-center gap-3">
                      <div class="w-10 h-10 rounded-lg gradient-stratum flex items-center justify-center font-bold" x-text="tenant.name.charAt(0)"></div>
                      <div>
                        <p class="font-semibold" x-text="tenant.name"></p>
                        <p class="text-xs text-dark-200" x-text="tenant.plan + ' Plan'"></p>
                      </div>
                    </div>
                    <span :class="tenant.status === 'scaling' ? 'bg-success/20 text-success' : tenant.status === 'stable' ? 'bg-blue-500/20 text-blue-400' : 'bg-danger/20 text-danger'" class="px-2 py-1 rounded-full text-xs capitalize" x-text="tenant.status"></span>
                  </div>
                  <div class="grid grid-cols-2 gap-4 mb-4">
                    <div>
                      <p class="text-xs text-dark-200">ROAS</p>
                      <p class="text-lg font-bold" x-text="tenant.roas + 'x'"></p>
                    </div>
                    <div>
                      <p class="text-xs text-dark-200">EMQ Health</p>
                      <p class="text-lg font-bold" x-text="tenant.emq + '%'"></p>
                    </div>
                  </div>
                  <div class="flex gap-2">
                    <button class="flex-1 px-3 py-2 rounded-lg bg-primary/20 text-primary text-sm hover:bg-primary/30 transition-colors">Scale</button>
                    <button class="flex-1 px-3 py-2 rounded-lg bg-dark-700 text-sm hover:bg-dark-600 transition-colors">Stabilize</button>
                  </div>
                </div>
              </template>
            </div>
          </div>

          <!-- Revenue & Profit -->
          <div x-show="activeScreen === 'revenue'" class="p-6 space-y-6">
            <h1 class="text-2xl font-bold">Revenue & Profit Engine</h1>
            <div class="grid grid-cols-3 gap-4">
              <div class="card p-5">
                <p class="text-sm text-dark-200 mb-2">Total Platform Revenue</p>
                <p class="text-3xl font-bold">$4,234,567</p>
                <p class="text-sm text-success mt-2">+18.5% vs last month</p>
              </div>
              <div class="card p-5">
                <p class="text-sm text-dark-200 mb-2">Platform Margin</p>
                <p class="text-3xl font-bold text-success">23.4%</p>
                <p class="text-sm text-dark-200 mt-2">$989,687 net profit</p>
              </div>
              <div class="card p-5">
                <p class="text-sm text-dark-200 mb-2">Cost of Automation</p>
                <p class="text-3xl font-bold">$12,450</p>
                <p class="text-sm text-success mt-2">ROI: 79.5x</p>
              </div>
            </div>
            <div class="card p-6">
              <h3 class="font-semibold mb-4">Profit Distribution by Tenant Tier</h3>
              <div class="h-64 flex items-end justify-around gap-4">
                <div class="flex flex-col items-center">
                  <div class="w-20 bg-primary rounded-t" style="height: 180px"></div>
                  <p class="text-sm mt-2">Enterprise</p>
                  <p class="text-xs text-dark-200">$678K</p>
                </div>
                <div class="flex flex-col items-center">
                  <div class="w-20 bg-primary/70 rounded-t" style="height: 120px"></div>
                  <p class="text-sm mt-2">Pro</p>
                  <p class="text-xs text-dark-200">$245K</p>
                </div>
                <div class="flex flex-col items-center">
                  <div class="w-20 bg-primary/40 rounded-t" style="height: 60px"></div>
                  <p class="text-sm mt-2">Starter</p>
                  <p class="text-xs text-dark-200">$66K</p>
                </div>
              </div>
            </div>
          </div>

          <!-- Growth Intelligence -->
          <div x-show="activeScreen === 'growth'" class="p-6 space-y-6">
            <h1 class="text-2xl font-bold">Growth Intelligence</h1>
            <p class="text-dark-200">AI effectiveness and value creation metrics</p>

            <div class="grid grid-cols-2 gap-6">
              <div class="card p-6">
                <h3 class="font-semibold mb-4">EMQ → ROAS Correlation</h3>
                <div class="space-y-4">
                  <div class="flex items-center justify-between">
                    <span class="text-dark-200">EMQ > 80%</span>
                    <span class="font-bold text-success">4.8x avg ROAS</span>
                  </div>
                  <div class="flex items-center justify-between">
                    <span class="text-dark-200">EMQ 60-80%</span>
                    <span class="font-bold text-warning">3.2x avg ROAS</span>
                  </div>
                  <div class="flex items-center justify-between">
                    <span class="text-dark-200">EMQ < 60%</span>
                    <span class="font-bold text-danger">1.8x avg ROAS</span>
                  </div>
                </div>
              </div>

              <div class="card p-6">
                <h3 class="font-semibold mb-4">Auto-Resolve Effectiveness</h3>
                <div class="text-center py-4">
                  <p class="text-5xl font-bold text-primary">94.2%</p>
                  <p class="text-dark-200 mt-2">Issues resolved without human intervention</p>
                </div>
                <div class="mt-4 pt-4 border-t border-dark-700">
                  <div class="flex justify-between text-sm">
                    <span class="text-dark-200">Avg Resolution Time</span>
                    <span class="font-medium">2.4 minutes</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </template>

      <!-- ==================== ADMIN SCREENS ==================== -->
      <template x-if="currentRole === 'admin'">
        <div>
          <!-- Today's Performance -->
          <div x-show="activeScreen === 'today'" class="p-6 space-y-6">
            <div class="flex items-center justify-between">
              <div>
                <h1 class="text-2xl font-bold">Today's Performance</h1>
                <p class="text-dark-200">30-second decision surface</p>
              </div>
              <div class="text-sm text-dark-200">
                Last updated: <span class="text-white">2 mins ago</span>
              </div>
            </div>

            <!-- KPI Strip -->
            <div class="grid grid-cols-5 gap-4">
              <div class="card p-4">
                <p class="text-xs text-dark-200 mb-1">Return on Ad Spend (Live)</p>
                <p class="text-2xl font-bold">3.24x</p>
                <p class="text-xs text-success mt-1">+0.32 vs baseline</p>
              </div>
              <div class="card p-4">
                <p class="text-xs text-dark-200 mb-1">Spend Today</p>
                <p class="text-2xl font-bold">$12,450</p>
                <p class="text-xs text-dark-200 mt-1">68% of daily budget</p>
              </div>
              <div class="card p-4">
                <p class="text-xs text-dark-200 mb-1">Revenue Today</p>
                <p class="text-2xl font-bold text-success">$40,338</p>
                <p class="text-xs text-success mt-1">+12% vs yesterday</p>
              </div>
              <div class="card p-4">
                <p class="text-xs text-dark-200 mb-1">CPA</p>
                <p class="text-2xl font-bold">$24.50</p>
                <p class="text-xs text-success mt-1">-$2.30 improvement</p>
              </div>
              <div class="card p-4 border-success/30">
                <p class="text-xs text-dark-200 mb-1">EMQ Status</p>
                <p class="text-2xl font-bold text-success">Healthy</p>
                <p class="text-xs text-dark-200 mt-1">82% match rate</p>
              </div>
            </div>

            <!-- System Status -->
            <div class="flex gap-3">
              <div class="px-4 py-2 rounded-lg bg-success/10 border border-success/30 flex items-center gap-2">
                <div class="w-2 h-2 rounded-full bg-success animate-pulse"></div>
                <span class="text-sm text-success">Auto-Resolve Active</span>
              </div>
              <div class="px-4 py-2 rounded-lg bg-dark-800 border border-dark-700 flex items-center gap-2">
                <span class="text-sm">Creative Saturation: <span class="text-warning">Medium</span></span>
              </div>
              <div class="px-4 py-2 rounded-lg bg-dark-800 border border-dark-700 flex items-center gap-2">
                <span class="text-sm">Data Integrity: <span class="text-success">Good</span></span>
              </div>
            </div>

            <!-- Priority Alert -->
            <div class="card border-warning/30 p-5">
              <div class="flex items-start gap-4">
                <div class="p-2 rounded-lg bg-warning/20">
                  <svg class="w-6 h-6 text-warning" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"/></svg>
                </div>
                <div class="flex-1">
                  <h3 class="font-semibold text-warning">Action Required: ROAS Opportunity Detected</h3>
                  <p class="text-sm text-dark-200 mt-1">Campaign "Summer Sale 2024" has scaling potential. System predicts +18% ROAS with $2,000 budget increase.</p>
                  <div class="flex gap-3 mt-4">
                    <button class="px-4 py-2 rounded-lg gradient-stratum text-white text-sm hover:opacity-90 transition-opacity">Accept AI Action</button>
                    <button class="px-4 py-2 rounded-lg bg-dark-700 text-sm hover:bg-dark-600 transition-colors">View Details</button>
                  </div>
                </div>
                <div class="text-right">
                  <p class="text-sm text-dark-200">Confidence</p>
                  <p class="text-xl font-bold text-success">87%</p>
                </div>
              </div>
            </div>
          </div>

          <!-- Campaigns -->
          <div x-show="activeScreen === 'campaigns'" class="p-6 space-y-6">
            <div class="flex items-center justify-between">
              <div>
                <h1 class="text-2xl font-bold">Campaigns</h1>
                <p class="text-dark-200">Execution view</p>
              </div>
              <div class="flex items-center gap-3">
                <input type="text" placeholder="Search campaigns..." class="px-4 py-2 rounded-lg bg-dark-800 border border-dark-700 text-sm w-64">
                <select class="px-3 py-2 rounded-lg bg-dark-800 border border-dark-700 text-sm">
                  <option>All Platforms</option>
                  <option>Meta</option>
                  <option>Google</option>
                  <option>TikTok</option>
                </select>
              </div>
            </div>

            <!-- Bulk Actions -->
            <div class="flex gap-2">
              <button class="px-4 py-2 rounded-lg bg-success/20 text-success text-sm hover:bg-success/30 transition-colors">Scale Selected</button>
              <button class="px-4 py-2 rounded-lg bg-warning/20 text-warning text-sm hover:bg-warning/30 transition-colors">Pause Selected</button>
              <button class="px-4 py-2 rounded-lg bg-danger/20 text-danger text-sm hover:bg-danger/30 transition-colors">Flag Risk</button>
            </div>

            <!-- Campaign Table -->
            <div class="card overflow-hidden">
              <table class="w-full">
                <thead class="bg-dark-800/50">
                  <tr>
                    <th class="text-left p-4 text-xs font-medium text-dark-200">
                      <input type="checkbox" class="rounded border-dark-600">
                    </th>
                    <th class="text-left p-4 text-xs font-medium text-dark-200">Campaign</th>
                    <th class="text-center p-4 text-xs font-medium text-dark-200">Status</th>
                    <th class="text-right p-4 text-xs font-medium text-dark-200">ROAS</th>
                    <th class="text-right p-4 text-xs font-medium text-dark-200">Momentum</th>
                    <th class="text-right p-4 text-xs font-medium text-dark-200">Spend</th>
                    <th class="text-right p-4 text-xs font-medium text-dark-200">Revenue</th>
                    <th class="text-center p-4 text-xs font-medium text-dark-200">EMQ</th>
                    <th class="text-right p-4 text-xs font-medium text-dark-200">AI Action</th>
                  </tr>
                </thead>
                <tbody class="divide-y divide-dark-700">
                  <tr class="hover:bg-dark-800/30">
                    <td class="p-4"><input type="checkbox" class="rounded border-dark-600"></td>
                    <td class="p-4">
                      <div class="flex items-center gap-3">
                        <div class="w-8 h-8 rounded bg-blue-500/20 flex items-center justify-center text-blue-400 text-xs font-bold">M</div>
                        <div>
                          <p class="font-medium">Summer Sale 2024</p>
                          <p class="text-xs text-dark-200">Meta • Traffic</p>
                        </div>
                      </div>
                    </td>
                    <td class="p-4 text-center"><span class="px-2 py-1 rounded-full text-xs bg-success/20 text-success">Active</span></td>
                    <td class="p-4 text-right font-medium text-success">4.2x</td>
                    <td class="p-4 text-right"><span class="text-success">+12%</span></td>
                    <td class="p-4 text-right">$3,450</td>
                    <td class="p-4 text-right text-success">$14,490</td>
                    <td class="p-4 text-center"><span class="px-2 py-1 rounded-full text-xs bg-success/20 text-success">85%</span></td>
                    <td class="p-4 text-right">
                      <button class="px-3 py-1 rounded bg-primary/20 text-primary text-sm hover:bg-primary/30">Scale</button>
                    </td>
                  </tr>
                  <tr class="hover:bg-dark-800/30">
                    <td class="p-4"><input type="checkbox" class="rounded border-dark-600"></td>
                    <td class="p-4">
                      <div class="flex items-center gap-3">
                        <div class="w-8 h-8 rounded bg-red-500/20 flex items-center justify-center text-red-400 text-xs font-bold">G</div>
                        <div>
                          <p class="font-medium">Brand Awareness Q4</p>
                          <p class="text-xs text-dark-200">Google • Awareness</p>
                        </div>
                      </div>
                    </td>
                    <td class="p-4 text-center"><span class="px-2 py-1 rounded-full text-xs bg-warning/20 text-warning">Spend Protected</span></td>
                    <td class="p-4 text-right font-medium text-warning">1.8x</td>
                    <td class="p-4 text-right"><span class="text-danger">-5%</span></td>
                    <td class="p-4 text-right">$5,200</td>
                    <td class="p-4 text-right">$9,360</td>
                    <td class="p-4 text-center"><span class="px-2 py-1 rounded-full text-xs bg-warning/20 text-warning">68%</span></td>
                    <td class="p-4 text-right">
                      <button class="px-3 py-1 rounded bg-warning/20 text-warning text-sm hover:bg-warning/30">Optimize</button>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <!-- Optimization & Alerts -->
          <div x-show="activeScreen === 'alerts'" class="p-6 space-y-6">
            <h1 class="text-2xl font-bold">Optimization & Alerts</h1>

            <div class="grid grid-cols-2 gap-6">
              <!-- Alerts -->
              <div class="card">
                <div class="p-4 border-b border-dark-700">
                  <h3 class="font-semibold">Action Required</h3>
                </div>
                <div class="divide-y divide-dark-700">
                  <div class="p-4 hover:bg-dark-800/30">
                    <div class="flex items-start gap-3">
                      <div class="p-1 rounded bg-danger/20"><svg class="w-4 h-4 text-danger" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"/></svg></div>
                      <div>
                        <p class="font-medium text-danger">ROAS risk — attribution confidence degraded</p>
                        <p class="text-sm text-dark-200 mt-1">Campaign "Retargeting US" showing 15% drop in attribution accuracy</p>
                      </div>
                    </div>
                  </div>
                  <div class="p-4 hover:bg-dark-800/30">
                    <div class="flex items-start gap-3">
                      <div class="p-1 rounded bg-warning/20"><svg class="w-4 h-4 text-warning" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg></div>
                      <div>
                        <p class="font-medium text-warning">EMQ degradation detected</p>
                        <p class="text-sm text-dark-200 mt-1">Phone match rate dropped below 70%</p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- AI Recommendations -->
              <div class="card">
                <div class="p-4 border-b border-dark-700">
                  <h3 class="font-semibold">System-Detected Opportunities</h3>
                </div>
                <div class="divide-y divide-dark-700">
                  <div class="p-4">
                    <div class="flex items-start justify-between mb-3">
                      <p class="font-medium">Scale "Summer Sale 2024"</p>
                      <span class="px-2 py-1 rounded-full text-xs bg-success/20 text-success">High Impact</span>
                    </div>
                    <p class="text-sm text-dark-200 mb-3">Expected ROAS impact: +18% with 87% confidence</p>
                    <div class="flex gap-2">
                      <button class="px-3 py-1 rounded bg-success/20 text-success text-sm hover:bg-success/30">Accept</button>
                      <button class="px-3 py-1 rounded bg-dark-700 text-sm hover:bg-dark-600">Ignore (Log Reason)</button>
                      <button class="px-3 py-1 rounded bg-warning/20 text-warning text-sm hover:bg-warning/30">Escalate</button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </template>

      <!-- ==================== ACCOUNT MANAGER SCREENS ==================== -->
      <template x-if="currentRole === 'account_manager'">
        <div>
          <!-- Client Health -->
          <div x-show="activeScreen === 'health'" class="p-6 space-y-6">
            <h1 class="text-2xl font-bold">Client Health Panel</h1>
            <p class="text-dark-200">Trust & narrative management</p>

            <div class="grid grid-cols-4 gap-4">
              <div class="card p-5">
                <p class="text-xs text-dark-200 mb-2">ROAS Trend</p>
                <p class="text-3xl font-bold text-success">+12.4%</p>
                <p class="text-sm text-dark-200 mt-2">Upward for 14 days</p>
              </div>
              <div class="card p-5">
                <p class="text-xs text-dark-200 mb-2">EMQ Confidence</p>
                <p class="text-3xl font-bold">82%</p>
                <p class="text-sm text-success mt-2">Above threshold</p>
              </div>
              <div class="card p-5">
                <p class="text-xs text-dark-200 mb-2">Auto-Resolve Rate</p>
                <p class="text-3xl font-bold text-success">94%</p>
                <p class="text-sm text-dark-200 mt-2">Issues auto-fixed</p>
              </div>
              <div class="card p-5 border-success/30">
                <p class="text-xs text-dark-200 mb-2">Sentiment Risk</p>
                <p class="text-3xl font-bold text-success">Low</p>
                <p class="text-sm text-dark-200 mt-2">Client satisfied</p>
              </div>
            </div>

            <!-- Client List -->
            <div class="card">
              <div class="p-4 border-b border-dark-700">
                <h3 class="font-semibold">Your Clients</h3>
              </div>
              <div class="divide-y divide-dark-700">
                <div class="p-4 flex items-center justify-between hover:bg-dark-800/30">
                  <div class="flex items-center gap-4">
                    <div class="w-10 h-10 rounded-lg gradient-stratum flex items-center justify-center font-bold">A</div>
                    <div>
                      <p class="font-medium">Acme Corp</p>
                      <p class="text-sm text-dark-200">Enterprise • 45 campaigns</p>
                    </div>
                  </div>
                  <div class="flex items-center gap-6">
                    <div class="text-right">
                      <p class="text-sm text-dark-200">ROAS</p>
                      <p class="font-bold text-success">4.2x</p>
                    </div>
                    <div class="text-right">
                      <p class="text-sm text-dark-200">EMQ</p>
                      <p class="font-bold">85%</p>
                    </div>
                    <span class="px-3 py-1 rounded-full text-xs bg-success/20 text-success">Healthy</span>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Value Narrative -->
          <div x-show="activeScreen === 'narrative'" class="p-6 space-y-6">
            <h1 class="text-2xl font-bold">Value Narrative Builder</h1>
            <p class="text-dark-200">Defensible metrics for client conversations</p>

            <div class="grid grid-cols-3 gap-4">
              <div class="card p-6 text-center">
                <p class="text-sm text-dark-200 mb-2">AI-Driven ROAS Lift</p>
                <p class="text-4xl font-bold text-primary">+34.2%</p>
                <p class="text-sm text-dark-200 mt-2">Attributable to system optimization</p>
              </div>
              <div class="card p-6 text-center">
                <p class="text-sm text-dark-200 mb-2">Revenue Recovered</p>
                <p class="text-4xl font-bold text-success">$156,780</p>
                <p class="text-sm text-dark-200 mt-2">By Auto-Resolve actions</p>
              </div>
              <div class="card p-6 text-center">
                <p class="text-sm text-dark-200 mb-2">Time Saved vs Manual</p>
                <p class="text-4xl font-bold">847 hrs</p>
                <p class="text-sm text-dark-200 mt-2">This quarter</p>
              </div>
            </div>

            <div class="card p-6">
              <h3 class="font-semibold mb-4">Generate Client Report</h3>
              <div class="flex gap-4">
                <select class="flex-1 px-4 py-2 rounded-lg bg-dark-800 border border-dark-700">
                  <option>Select Client</option>
                  <option>Acme Corp</option>
                  <option>TechStart Inc</option>
                </select>
                <select class="px-4 py-2 rounded-lg bg-dark-800 border border-dark-700">
                  <option>Last 7 days</option>
                  <option>Last 30 days</option>
                  <option>Last quarter</option>
                </select>
                <button class="px-6 py-2 rounded-lg gradient-stratum text-white hover:opacity-90 transition-opacity">Generate Report</button>
              </div>
            </div>
          </div>

          <!-- Risk Signals -->
          <div x-show="activeScreen === 'risks'" class="p-6 space-y-6">
            <h1 class="text-2xl font-bold">Risk Signals</h1>
            <p class="text-dark-200">Early churn detection</p>

            <div class="card">
              <div class="divide-y divide-dark-700">
                <div class="p-4 flex items-center justify-between">
                  <div class="flex items-center gap-4">
                    <div class="p-2 rounded-lg bg-warning/20">
                      <svg class="w-5 h-5 text-warning" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"/></svg>
                    </div>
                    <div>
                      <p class="font-medium">TechStart Inc - Declining EMQ</p>
                      <p class="text-sm text-dark-200">EMQ dropped from 82% to 68% over 7 days</p>
                    </div>
                  </div>
                  <button class="px-4 py-2 rounded-lg bg-warning/20 text-warning text-sm hover:bg-warning/30">Investigate</button>
                </div>
                <div class="p-4 flex items-center justify-between">
                  <div class="flex items-center gap-4">
                    <div class="p-2 rounded-lg bg-danger/20">
                      <svg class="w-5 h-5 text-danger" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                    </div>
                    <div>
                      <p class="font-medium">Fashion Hub - ROAS Volatility</p>
                      <p class="text-sm text-dark-200">3 manual overrides this week</p>
                    </div>
                  </div>
                  <button class="px-4 py-2 rounded-lg bg-danger/20 text-danger text-sm hover:bg-danger/30">Escalate</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </template>

      <!-- ==================== TENANT SCREENS ==================== -->
      <template x-if="currentRole === 'tenant'">
        <div>
          <!-- Performance Overview -->
          <div x-show="activeScreen === 'performance'" class="p-6 space-y-6">
            <h1 class="text-2xl font-bold">Performance Overview</h1>
            <p class="text-dark-200">Your advertising performance at a glance</p>

            <div class="grid grid-cols-4 gap-4">
              <div class="card p-5">
                <p class="text-xs text-dark-200 mb-2">ROAS (Live)</p>
                <p class="text-3xl font-bold">3.24x</p>
                <p class="text-sm text-success mt-2">vs 2.92x baseline</p>
              </div>
              <div class="card p-5">
                <p class="text-xs text-dark-200 mb-2">Total Spend</p>
                <p class="text-3xl font-bold">$45,230</p>
                <p class="text-sm text-dark-200 mt-2">This month</p>
              </div>
              <div class="card p-5">
                <p class="text-xs text-dark-200 mb-2">Total Revenue</p>
                <p class="text-3xl font-bold text-success">$146,545</p>
                <p class="text-sm text-success mt-2">+18% vs last month</p>
              </div>
              <div class="card p-5">
                <p class="text-xs text-dark-200 mb-2">EMQ Status</p>
                <p class="text-3xl font-bold text-success">82%</p>
                <p class="text-sm text-dark-200 mt-2">Match quality</p>
              </div>
            </div>

            <!-- Auto-Resolve Log -->
            <div class="card">
              <div class="p-4 border-b border-dark-700">
                <h3 class="font-semibold">System Activity Log</h3>
              </div>
              <div class="divide-y divide-dark-700 max-h-64 overflow-y-auto">
                <div class="p-4 flex items-center gap-4">
                  <div class="w-2 h-2 rounded-full bg-success"></div>
                  <div class="flex-1">
                    <p class="text-sm">Auto-scaled "Summer Sale" campaign by 15%</p>
                    <p class="text-xs text-dark-200">2 hours ago • ROAS improved to 4.2x</p>
                  </div>
                </div>
                <div class="p-4 flex items-center gap-4">
                  <div class="w-2 h-2 rounded-full bg-warning"></div>
                  <div class="flex-1">
                    <p class="text-sm">Paused underperforming ad set "Audience 3"</p>
                    <p class="text-xs text-dark-200">5 hours ago • CPA was 40% above threshold</p>
                  </div>
                </div>
                <div class="p-4 flex items-center gap-4">
                  <div class="w-2 h-2 rounded-full bg-success"></div>
                  <div class="flex-1">
                    <p class="text-sm">EMQ issue auto-resolved: Missing event_id</p>
                    <p class="text-xs text-dark-200">Yesterday • 1,245 events fixed</p>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Analytics -->
          <div x-show="activeScreen === 'analytics'" class="p-6 space-y-6">
            <h1 class="text-2xl font-bold">Analytics</h1>
            <p class="text-dark-200">Deep dive into performance data (read-only)</p>

            <div class="grid grid-cols-2 gap-6">
              <div class="card p-6">
                <h3 class="font-semibold mb-4">Spend vs Revenue</h3>
                <div class="h-48 flex items-end justify-around gap-2">
                  <div class="flex flex-col items-center">
                    <div class="w-12 bg-primary/60 rounded-t" style="height: 80px"></div>
                    <div class="w-12 bg-success rounded-t" style="height: 140px; margin-top: -140px; opacity: 0.6"></div>
                    <p class="text-xs mt-2">Mon</p>
                  </div>
                  <div class="flex flex-col items-center">
                    <div class="w-12 bg-primary/60 rounded-t" style="height: 90px"></div>
                    <div class="w-12 bg-success rounded-t" style="height: 160px; margin-top: -160px; opacity: 0.6"></div>
                    <p class="text-xs mt-2">Tue</p>
                  </div>
                  <div class="flex flex-col items-center">
                    <div class="w-12 bg-primary/60 rounded-t" style="height: 75px"></div>
                    <div class="w-12 bg-success rounded-t" style="height: 130px; margin-top: -130px; opacity: 0.6"></div>
                    <p class="text-xs mt-2">Wed</p>
                  </div>
                  <div class="flex flex-col items-center">
                    <div class="w-12 bg-primary/60 rounded-t" style="height: 100px"></div>
                    <div class="w-12 bg-success rounded-t" style="height: 180px; margin-top: -180px; opacity: 0.6"></div>
                    <p class="text-xs mt-2">Thu</p>
                  </div>
                  <div class="flex flex-col items-center">
                    <div class="w-12 bg-primary/60 rounded-t" style="height: 85px"></div>
                    <div class="w-12 bg-success rounded-t" style="height: 150px; margin-top: -150px; opacity: 0.6"></div>
                    <p class="text-xs mt-2">Fri</p>
                  </div>
                </div>
                <div class="flex justify-center gap-6 mt-4">
                  <div class="flex items-center gap-2"><div class="w-3 h-3 rounded bg-primary/60"></div><span class="text-xs">Spend</span></div>
                  <div class="flex items-center gap-2"><div class="w-3 h-3 rounded bg-success/60"></div><span class="text-xs">Revenue</span></div>
                </div>
              </div>

              <div class="card p-6">
                <h3 class="font-semibold mb-4">ROAS by Platform</h3>
                <div class="space-y-4">
                  <div>
                    <div class="flex justify-between mb-1">
                      <span class="text-sm">Meta</span>
                      <span class="text-sm font-bold">4.2x</span>
                    </div>
                    <div class="h-2 bg-dark-700 rounded-full overflow-hidden">
                      <div class="h-full bg-blue-500 rounded-full" style="width: 84%"></div>
                    </div>
                  </div>
                  <div>
                    <div class="flex justify-between mb-1">
                      <span class="text-sm">Google</span>
                      <span class="text-sm font-bold">3.8x</span>
                    </div>
                    <div class="h-2 bg-dark-700 rounded-full overflow-hidden">
                      <div class="h-full bg-red-500 rounded-full" style="width: 76%"></div>
                    </div>
                  </div>
                  <div>
                    <div class="flex justify-between mb-1">
                      <span class="text-sm">TikTok</span>
                      <span class="text-sm font-bold">2.9x</span>
                    </div>
                    <div class="h-2 bg-dark-700 rounded-full overflow-hidden">
                      <div class="h-full bg-gray-500 rounded-full" style="width: 58%"></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </template>

      <!-- ==================== CUSTOM DASHBOARD (ALL ROLES) ==================== -->
      <div x-show="activeScreen === 'custom'" class="p-6 space-y-6">
        <div class="flex items-center justify-between">
          <div>
            <h1 class="text-2xl font-bold">Custom Dashboard</h1>
            <p class="text-dark-200">Drag and arrange widgets to customize your view</p>
          </div>
          <div class="flex gap-3">
            <button class="px-4 py-2 rounded-lg bg-dark-800 border border-dark-700 text-sm hover:bg-dark-700">
              <svg class="w-4 h-4 inline mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"/></svg>
              Add Widget
            </button>
            <button class="px-4 py-2 rounded-lg gradient-stratum text-white text-sm hover:opacity-90">Save Layout</button>
          </div>
        </div>

        <div class="grid grid-cols-3 gap-4">
          <!-- Sample Widgets -->
          <div class="card p-4 cursor-move hover:border-primary/50 transition-colors">
            <div class="flex items-center justify-between mb-3">
              <span class="text-sm font-medium">ROAS Widget</span>
              <button class="text-dark-200 hover:text-white"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"/></svg></button>
            </div>
            <p class="text-3xl font-bold">3.24x</p>
            <p class="text-xs text-dark-200 mt-1">Current ROAS</p>
          </div>

          <div class="card p-4 cursor-move hover:border-primary/50 transition-colors">
            <div class="flex items-center justify-between mb-3">
              <span class="text-sm font-medium">Spend Widget</span>
              <button class="text-dark-200 hover:text-white"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"/></svg></button>
            </div>
            <p class="text-3xl font-bold">$45,230</p>
            <p class="text-xs text-dark-200 mt-1">Total Spend</p>
          </div>

          <div class="card p-4 cursor-move hover:border-primary/50 transition-colors">
            <div class="flex items-center justify-between mb-3">
              <span class="text-sm font-medium">Revenue Widget</span>
              <button class="text-dark-200 hover:text-white"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"/></svg></button>
            </div>
            <p class="text-3xl font-bold text-success">$146,545</p>
            <p class="text-xs text-dark-200 mt-1">Total Revenue</p>
          </div>

          <div class="card p-4 col-span-2 cursor-move hover:border-primary/50 transition-colors">
            <div class="flex items-center justify-between mb-3">
              <span class="text-sm font-medium">Performance Chart</span>
              <button class="text-dark-200 hover:text-white"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"/></svg></button>
            </div>
            <div class="h-32 flex items-end gap-1">
              <template x-for="i in 30" :key="i">
                <div class="flex-1 bg-primary/60 rounded-t" :style="'height: ' + (Math.random() * 100 + 20) + 'px'"></div>
              </template>
            </div>
          </div>

          <div class="card p-4 cursor-move hover:border-primary/50 transition-colors">
            <div class="flex items-center justify-between mb-3">
              <span class="text-sm font-medium">EMQ Widget</span>
              <button class="text-dark-200 hover:text-white"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"/></svg></button>
            </div>
            <p class="text-3xl font-bold text-success">82%</p>
            <p class="text-xs text-dark-200 mt-1">Match Quality</p>
          </div>

          <!-- Add Widget Placeholder -->
          <div class="border-2 border-dashed border-dark-700 rounded-xl p-8 flex flex-col items-center justify-center text-dark-200 hover:border-primary/50 hover:text-primary cursor-pointer transition-colors">
            <svg class="w-8 h-8 mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"/></svg>
            <span class="text-sm">Add Widget</span>
          </div>
        </div>
      </div>

      <!-- Settings (All Roles) -->
      <div x-show="activeScreen === 'settings'" class="p-6 space-y-6">
        <h1 class="text-2xl font-bold">Settings</h1>

        <!-- Settings Tabs -->
        <div class="flex gap-2 border-b border-dark-700 pb-2">
          <button @click="settingsTab = 'appearance'" :class="settingsTab === 'appearance' ? 'bg-primary/20 text-primary border-primary/30' : 'text-dark-200 hover:bg-dark-800 border-transparent'" class="px-4 py-2 rounded-lg text-sm font-medium transition-all border">Appearance</button>
          <button @click="settingsTab = 'themes'" :class="settingsTab === 'themes' ? 'bg-primary/20 text-primary border-primary/30' : 'text-dark-200 hover:bg-dark-800 border-transparent'" class="px-4 py-2 rounded-lg text-sm font-medium transition-all border">Themes</button>
          <button @click="settingsTab = 'notifications'" :class="settingsTab === 'notifications' ? 'bg-primary/20 text-primary border-primary/30' : 'text-dark-200 hover:bg-dark-800 border-transparent'" class="px-4 py-2 rounded-lg text-sm font-medium transition-all border">Notifications</button>
          <button @click="settingsTab = 'account'" :class="settingsTab === 'account' ? 'bg-primary/20 text-primary border-primary/30' : 'text-dark-200 hover:bg-dark-800 border-transparent'" class="px-4 py-2 rounded-lg text-sm font-medium transition-all border">Account</button>
        </div>

        <!-- Appearance Tab -->
        <div x-show="settingsTab === 'appearance'" class="space-y-6">
          <div class="card p-6">
            <h3 class="font-semibold mb-4">Display Settings</h3>
            <div class="space-y-4">
              <div class="flex items-center justify-between">
                <div>
                  <p class="font-medium">Dark Mode</p>
                  <p class="text-sm text-dark-200">Use dark theme across the dashboard</p>
                </div>
                <button @click="darkMode = !darkMode" :class="darkMode ? 'bg-primary' : 'bg-dark-600'" class="relative w-12 h-6 rounded-full transition-colors">
                  <span :class="darkMode ? 'translate-x-6' : 'translate-x-1'" class="absolute top-1 left-0 w-4 h-4 bg-white rounded-full transition-transform"></span>
                </button>
              </div>
              <div class="flex items-center justify-between">
                <div>
                  <p class="font-medium">Compact Mode</p>
                  <p class="text-sm text-dark-200">Reduce spacing for more content</p>
                </div>
                <button @click="compactMode = !compactMode" :class="compactMode ? 'bg-primary' : 'bg-dark-600'" class="relative w-12 h-6 rounded-full transition-colors">
                  <span :class="compactMode ? 'translate-x-6' : 'translate-x-1'" class="absolute top-1 left-0 w-4 h-4 bg-white rounded-full transition-transform"></span>
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- Themes Tab -->
        <div x-show="settingsTab === 'themes'" class="space-y-6">
          <!-- Upload Theme -->
          <div class="card p-6">
            <h3 class="font-semibold mb-4">Upload Custom Theme</h3>
            <p class="text-sm text-dark-200 mb-4">Upload a .zip file containing your custom theme. The zip should include theme.json and optional CSS/assets.</p>

            <div
              @dragover.prevent="dragOver = true"
              @dragleave.prevent="dragOver = false"
              @drop.prevent="handleThemeDrop($event)"
              :class="dragOver ? 'border-primary bg-primary/10' : 'border-dark-600'"
              class="border-2 border-dashed rounded-xl p-8 text-center transition-all cursor-pointer hover:border-primary/50"
            >
              <input type="file" id="themeUpload" accept=".zip" class="hidden" @change="handleThemeUpload($event)">
              <label for="themeUpload" class="cursor-pointer">
                <div x-show="!uploadingTheme && !uploadedTheme">
                  <svg class="w-12 h-12 mx-auto text-dark-200 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"/>
                  </svg>
                  <p class="text-dark-200 mb-2">Drag and drop your theme.zip here</p>
                  <p class="text-sm text-dark-200">or <span class="text-primary hover:underline">browse files</span></p>
                  <p class="text-xs text-dark-200 mt-2">Maximum file size: 10MB</p>
                </div>
                <div x-show="uploadingTheme" class="py-4">
                  <svg class="w-12 h-12 mx-auto text-primary animate-spin mb-4" fill="none" viewBox="0 0 24 24">
                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                  </svg>
                  <p class="text-primary">Uploading theme...</p>
                </div>
                <div x-show="uploadedTheme" class="py-4">
                  <svg class="w-12 h-12 mx-auto text-success mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                  </svg>
                  <p class="text-success mb-2">Theme uploaded successfully!</p>
                  <p class="text-sm text-dark-200" x-text="uploadedThemeName"></p>
                </div>
              </label>
            </div>
          </div>

          <!-- Installed Themes -->
          <div class="card p-6">
            <h3 class="font-semibold mb-4">Installed Themes</h3>
            <div class="grid grid-cols-3 gap-4">
              <!-- Default Theme -->
              <div :class="activeTheme === 'default' ? 'border-primary ring-2 ring-primary/30' : 'border-dark-700'" class="card p-4 cursor-pointer hover:border-primary/50 transition-all" @click="setTheme('default')">
                <div class="h-20 rounded-lg mb-3 overflow-hidden">
                  <div class="h-full bg-gradient-to-br from-primary to-pink-500"></div>
                </div>
                <div class="flex items-center justify-between">
                  <div>
                    <p class="font-medium">Default</p>
                    <p class="text-xs text-dark-200">Stratum Purple</p>
                  </div>
                  <span x-show="activeTheme === 'default'" class="text-primary">
                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/></svg>
                  </span>
                </div>
              </div>

              <!-- Ocean Theme -->
              <div :class="activeTheme === 'ocean' ? 'border-primary ring-2 ring-primary/30' : 'border-dark-700'" class="card p-4 cursor-pointer hover:border-primary/50 transition-all" @click="setTheme('ocean')">
                <div class="h-20 rounded-lg mb-3 overflow-hidden">
                  <div class="h-full bg-gradient-to-br from-blue-500 to-cyan-400"></div>
                </div>
                <div class="flex items-center justify-between">
                  <div>
                    <p class="font-medium">Ocean</p>
                    <p class="text-xs text-dark-200">Cool Blue</p>
                  </div>
                  <span x-show="activeTheme === 'ocean'" class="text-primary">
                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/></svg>
                  </span>
                </div>
              </div>

              <!-- Forest Theme -->
              <div :class="activeTheme === 'forest' ? 'border-primary ring-2 ring-primary/30' : 'border-dark-700'" class="card p-4 cursor-pointer hover:border-primary/50 transition-all" @click="setTheme('forest')">
                <div class="h-20 rounded-lg mb-3 overflow-hidden">
                  <div class="h-full bg-gradient-to-br from-green-500 to-emerald-400"></div>
                </div>
                <div class="flex items-center justify-between">
                  <div>
                    <p class="font-medium">Forest</p>
                    <p class="text-xs text-dark-200">Natural Green</p>
                  </div>
                  <span x-show="activeTheme === 'forest'" class="text-primary">
                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/></svg>
                  </span>
                </div>
              </div>

              <!-- Sunset Theme -->
              <div :class="activeTheme === 'sunset' ? 'border-primary ring-2 ring-primary/30' : 'border-dark-700'" class="card p-4 cursor-pointer hover:border-primary/50 transition-all" @click="setTheme('sunset')">
                <div class="h-20 rounded-lg mb-3 overflow-hidden">
                  <div class="h-full bg-gradient-to-br from-orange-500 to-red-500"></div>
                </div>
                <div class="flex items-center justify-between">
                  <div>
                    <p class="font-medium">Sunset</p>
                    <p class="text-xs text-dark-200">Warm Orange</p>
                  </div>
                  <span x-show="activeTheme === 'sunset'" class="text-primary">
                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/></svg>
                  </span>
                </div>
              </div>

              <!-- Custom Uploaded Theme Placeholder -->
              <template x-for="theme in customThemes" :key="theme.id">
                <div :class="activeTheme === theme.id ? 'border-primary ring-2 ring-primary/30' : 'border-dark-700'" class="card p-4 cursor-pointer hover:border-primary/50 transition-all" @click="setTheme(theme.id)">
                  <div class="h-20 rounded-lg mb-3 overflow-hidden" :style="'background: ' + theme.preview"></div>
                  <div class="flex items-center justify-between">
                    <div>
                      <p class="font-medium" x-text="theme.name"></p>
                      <p class="text-xs text-dark-200">Custom Theme</p>
                    </div>
                    <div class="flex items-center gap-2">
                      <span x-show="activeTheme === theme.id" class="text-primary">
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/></svg>
                      </span>
                      <button @click.stop="deleteTheme(theme.id)" class="text-dark-200 hover:text-danger transition-colors">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/></svg>
                      </button>
                    </div>
                  </div>
                </div>
              </template>
            </div>
          </div>
        </div>

        <!-- Notifications Tab -->
        <div x-show="settingsTab === 'notifications'" class="space-y-6">
          <div class="card p-6">
            <h3 class="font-semibold mb-4">Notification Preferences</h3>
            <div class="space-y-4">
              <div class="flex items-center justify-between">
                <div>
                  <p class="font-medium">Email Alerts</p>
                  <p class="text-sm text-dark-200">Receive critical alerts via email</p>
                </div>
                <button class="relative w-12 h-6 rounded-full bg-primary transition-colors">
                  <span class="absolute top-1 left-0 translate-x-6 w-4 h-4 bg-white rounded-full transition-transform"></span>
                </button>
              </div>
              <div class="flex items-center justify-between">
                <div>
                  <p class="font-medium">Push Notifications</p>
                  <p class="text-sm text-dark-200">Browser push notifications</p>
                </div>
                <button class="relative w-12 h-6 rounded-full bg-dark-600 transition-colors">
                  <span class="absolute top-1 left-0 translate-x-1 w-4 h-4 bg-white rounded-full transition-transform"></span>
                </button>
              </div>
              <div class="flex items-center justify-between">
                <div>
                  <p class="font-medium">ROAS Alerts</p>
                  <p class="text-sm text-dark-200">Notify when ROAS drops below threshold</p>
                </div>
                <button class="relative w-12 h-6 rounded-full bg-primary transition-colors">
                  <span class="absolute top-1 left-0 translate-x-6 w-4 h-4 bg-white rounded-full transition-transform"></span>
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- Account Tab -->
        <div x-show="settingsTab === 'account'" class="space-y-6">
          <div class="card p-6">
            <h3 class="font-semibold mb-4">Account Information</h3>
            <div class="space-y-4">
              <div>
                <label class="text-sm text-dark-200 mb-1 block">Display Name</label>
                <input type="text" :value="userNames[currentRole]" class="w-full px-4 py-2 rounded-lg bg-dark-800 border border-dark-700 focus:border-primary focus:outline-none">
              </div>
              <div>
                <label class="text-sm text-dark-200 mb-1 block">Email</label>
                <input type="email" value="user@stratumplatform.com" class="w-full px-4 py-2 rounded-lg bg-dark-800 border border-dark-700 focus:border-primary focus:outline-none">
              </div>
              <div>
                <label class="text-sm text-dark-200 mb-1 block">Role</label>
                <input type="text" :value="roleLabels[currentRole]" disabled class="w-full px-4 py-2 rounded-lg bg-dark-900 border border-dark-700 text-dark-200">
              </div>
            </div>
            <button class="mt-6 px-6 py-2 rounded-lg gradient-stratum text-white hover:opacity-90 transition-opacity">Save Changes</button>
          </div>
        </div>
      </div>

    </main>
  </div>

  <script>
    function stratumApp() {
      return {
        isLoggedIn: false,
        currentRole: 'superadmin',
        activeScreen: 'executive',

        // Settings state
        settingsTab: 'appearance',
        darkMode: true,
        compactMode: false,
        activeTheme: 'default',
        customThemes: [],
        dragOver: false,
        uploadingTheme: false,
        uploadedTheme: false,
        uploadedThemeName: '',

        roleLabels: {
          superadmin: 'Platform Sovereign',
          admin: 'Tenant Commander',
          account_manager: 'Growth Translator',
          tenant: 'Viewer'
        },

        userNames: {
          superadmin: 'Super Admin',
          admin: 'Admin User',
          account_manager: 'Account Manager',
          tenant: 'Tenant Viewer'
        },

        mockTenants: [
          { id: 1, name: 'Acme Corp', plan: 'Enterprise', roas: 4.2, emq: 85, status: 'scaling' },
          { id: 2, name: 'TechStart Inc', plan: 'Pro', roas: 3.1, emq: 78, status: 'stable' },
          { id: 3, name: 'Global Retail', plan: 'Enterprise', roas: 5.1, emq: 92, status: 'scaling' },
          { id: 4, name: 'Fashion Hub', plan: 'Pro', roas: 2.8, emq: 71, status: 'at_risk' },
          { id: 5, name: 'Local Shop', plan: 'Starter', roas: 1.9, emq: 65, status: 'at_risk' },
          { id: 6, name: 'Digital Agency', plan: 'Pro', roas: 3.8, emq: 82, status: 'stable' },
        ],

        login(role) {
          this.currentRole = role;
          this.isLoggedIn = true;
          // Set default screen based on role
          if (role === 'superadmin') this.activeScreen = 'executive';
          else if (role === 'admin') this.activeScreen = 'today';
          else if (role === 'account_manager') this.activeScreen = 'health';
          else if (role === 'tenant') this.activeScreen = 'performance';
        },

        logout() {
          this.isLoggedIn = false;
          this.activeScreen = 'executive';
        },

        // Theme management methods
        handleThemeUpload(event) {
          const file = event.target.files[0];
          if (file) this.processThemeFile(file);
        },

        handleThemeDrop(event) {
          this.dragOver = false;
          const file = event.dataTransfer.files[0];
          if (file && file.name.endsWith('.zip')) {
            this.processThemeFile(file);
          }
        },

        processThemeFile(file) {
          // Validate file size (10MB max)
          if (file.size > 10 * 1024 * 1024) {
            alert('File size exceeds 10MB limit');
            return;
          }

          this.uploadingTheme = true;
          this.uploadedTheme = false;

          // Simulate upload process
          setTimeout(() => {
            const themeName = file.name.replace('.zip', '');
            const themeId = 'custom_' + Date.now();

            // Add to custom themes
            this.customThemes.push({
              id: themeId,
              name: themeName,
              preview: 'linear-gradient(135deg, #' + Math.floor(Math.random()*16777215).toString(16) + ' 0%, #' + Math.floor(Math.random()*16777215).toString(16) + ' 100%)'
            });

            this.uploadingTheme = false;
            this.uploadedTheme = true;
            this.uploadedThemeName = file.name;

            // Reset after 3 seconds
            setTimeout(() => {
              this.uploadedTheme = false;
              this.uploadedThemeName = '';
            }, 3000);
          }, 1500);
        },

        setTheme(themeId) {
          this.activeTheme = themeId;
          // In a real app, this would apply CSS variables
          console.log('Theme changed to:', themeId);
        },

        deleteTheme(themeId) {
          if (confirm('Are you sure you want to delete this theme?')) {
            this.customThemes = this.customThemes.filter(t => t.id !== themeId);
            if (this.activeTheme === themeId) {
              this.activeTheme = 'default';
            }
          }
        },

        getNavItems() {
          const iconSvg = {
            executive: '<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/></svg>',
            tenants: '<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"/></svg>',
            revenue: '<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>',
            growth: '<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"/></svg>',
            today: '<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>',
            campaigns: '<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"/></svg>',
            alerts: '<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"/></svg>',
            health: '<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/></svg>',
            narrative: '<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/></svg>',
            risks: '<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"/></svg>',
            performance: '<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/></svg>',
            analytics: '<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 8v8m-4-5v5m-4-2v2m-2 4h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/></svg>',
            custom: '<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"/></svg>',
            settings: '<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/></svg>',
          };

          const navConfig = {
            superadmin: [
              { id: 'executive', label: 'Executive Overview', icon: iconSvg.executive },
              { id: 'tenants', label: 'Tenant Intelligence', icon: iconSvg.tenants },
              { id: 'revenue', label: 'Revenue & Profit', icon: iconSvg.revenue },
              { id: 'growth', label: 'Growth Intelligence', icon: iconSvg.growth },
              { id: 'custom', label: 'Custom Dashboard', icon: iconSvg.custom },
              { id: 'settings', label: 'Settings', icon: iconSvg.settings },
            ],
            admin: [
              { id: 'today', label: "Today's Performance", icon: iconSvg.today },
              { id: 'campaigns', label: 'Campaigns', icon: iconSvg.campaigns },
              { id: 'alerts', label: 'Optimization & Alerts', icon: iconSvg.alerts, badge: 3 },
              { id: 'custom', label: 'Custom Dashboard', icon: iconSvg.custom },
              { id: 'settings', label: 'Settings', icon: iconSvg.settings },
            ],
            account_manager: [
              { id: 'health', label: 'Client Health', icon: iconSvg.health },
              { id: 'narrative', label: 'Value Narrative', icon: iconSvg.narrative },
              { id: 'risks', label: 'Risk Signals', icon: iconSvg.risks, badge: 2 },
              { id: 'custom', label: 'Custom Dashboard', icon: iconSvg.custom },
              { id: 'settings', label: 'Settings', icon: iconSvg.settings },
            ],
            tenant: [
              { id: 'performance', label: 'Performance', icon: iconSvg.performance },
              { id: 'analytics', label: 'Analytics', icon: iconSvg.analytics },
              { id: 'custom', label: 'Custom Dashboard', icon: iconSvg.custom },
              { id: 'settings', label: 'Settings', icon: iconSvg.settings },
            ],
          };

          return navConfig[this.currentRole] || [];
        }
      }
    }
  </script>
</body>
</html>
